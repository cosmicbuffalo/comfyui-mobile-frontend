function Iy(a,i){for(var r=0;r<i.length;r++){const o=i[r];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in a)){const d=Object.getOwnPropertyDescriptor(o,s);d&&Object.defineProperty(a,s,d.get?d:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function r(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(s){if(s.ep)return;s.ep=!0;const d=r(s);fetch(s.href,d)}})();function Uy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var hc={exports:{}},Qi={};var up;function By(){if(up)return Qi;up=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,s,d){var m=null;if(d!==void 0&&(m=""+d),s.key!==void 0&&(m=""+s.key),"key"in s){d={};for(var p in s)p!=="key"&&(d[p]=s[p])}else d=s;return s=d.ref,{$$typeof:a,type:o,key:m,ref:s!==void 0?s:null,props:d}}return Qi.Fragment=i,Qi.jsx=r,Qi.jsxs=r,Qi}var cp;function qy(){return cp||(cp=1,hc.exports=By()),hc.exports}var c=qy(),pc={exports:{}},Ae={};var fp;function Yy(){if(fp)return Ae;fp=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(k,q,J){this.props=k,this.context=q,this.refs=S,this.updater=J||M}b.prototype.isReactComponent={},b.prototype.setState=function(k,q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,q,"setState")},b.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function E(){}E.prototype=b.prototype;function T(k,q,J){this.props=k,this.context=q,this.refs=S,this.updater=J||M}var _=T.prototype=new E;_.constructor=T,w(_,b.prototype),_.isPureReactComponent=!0;var A=Array.isArray;function L(){}var H={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function P(k,q,J){var ie=J.ref;return{$$typeof:a,type:k,key:q,ref:ie!==void 0?ie:null,props:J}}function V(k,q){return P(k.type,q,k.props)}function oe(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function se(k){var q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(J){return q[J]})}var ge=/\/+/g;function ae(k,q){return typeof k=="object"&&k!==null&&k.key!=null?se(""+k.key):q.toString(36)}function ce(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(L,L):(k.status="pending",k.then(function(q){k.status==="pending"&&(k.status="fulfilled",k.value=q)},function(q){k.status==="pending"&&(k.status="rejected",k.reason=q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function D(k,q,J,ie,le){var fe=typeof k;(fe==="undefined"||fe==="boolean")&&(k=null);var B=!1;if(k===null)B=!0;else switch(fe){case"bigint":case"string":case"number":B=!0;break;case"object":switch(k.$$typeof){case a:case i:B=!0;break;case y:return B=k._init,D(B(k._payload),q,J,ie,le)}}if(B)return le=le(k),B=ie===""?"."+ae(k,0):ie,A(le)?(J="",B!=null&&(J=B.replace(ge,"$&/")+"/"),D(le,q,J,"",function(we){return we})):le!=null&&(oe(le)&&(le=V(le,J+(le.key==null||k&&k.key===le.key?"":(""+le.key).replace(ge,"$&/")+"/")+B)),q.push(le)),1;B=0;var he=ie===""?".":ie+":";if(A(k))for(var Y=0;Y<k.length;Y++)ie=k[Y],fe=he+ae(ie,Y),B+=D(ie,q,J,fe,le);else if(Y=O(k),typeof Y=="function")for(k=Y.call(k),Y=0;!(ie=k.next()).done;)ie=ie.value,fe=he+ae(ie,Y++),B+=D(ie,q,J,fe,le);else if(fe==="object"){if(typeof k.then=="function")return D(ce(k),q,J,ie,le);throw q=String(k),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return B}function Q(k,q,J){if(k==null)return k;var ie=[],le=0;return D(k,ie,"","",function(fe){return q.call(J,fe,le++)}),ie}function te(k){if(k._status===-1){var q=k._result;q=q(),q.then(function(J){(k._status===0||k._status===-1)&&(k._status=1,k._result=J)},function(J){(k._status===0||k._status===-1)&&(k._status=2,k._result=J)}),k._status===-1&&(k._status=0,k._result=q)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},K={map:Q,forEach:function(k,q,J){Q(k,function(){q.apply(this,arguments)},J)},count:function(k){var q=0;return Q(k,function(){q++}),q},toArray:function(k){return Q(k,function(q){return q})||[]},only:function(k){if(!oe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ae.Activity=x,Ae.Children=K,Ae.Component=b,Ae.Fragment=r,Ae.Profiler=s,Ae.PureComponent=T,Ae.StrictMode=o,Ae.Suspense=h,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return H.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(k,q,J){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=w({},k.props),le=k.key;if(q!=null)for(fe in q.key!==void 0&&(le=""+q.key),q)!W.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(ie[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)ie.children=J;else if(1<fe){for(var B=Array(fe),he=0;he<fe;he++)B[he]=arguments[he+2];ie.children=B}return P(k.type,le,ie)},Ae.createContext=function(k){return k={$$typeof:m,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:d,_context:k},k},Ae.createElement=function(k,q,J){var ie,le={},fe=null;if(q!=null)for(ie in q.key!==void 0&&(fe=""+q.key),q)W.call(q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(le[ie]=q[ie]);var B=arguments.length-2;if(B===1)le.children=J;else if(1<B){for(var he=Array(B),Y=0;Y<B;Y++)he[Y]=arguments[Y+2];le.children=he}if(k&&k.defaultProps)for(ie in B=k.defaultProps,B)le[ie]===void 0&&(le[ie]=B[ie]);return P(k,fe,le)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:p,render:k}},Ae.isValidElement=oe,Ae.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:te}},Ae.memo=function(k,q){return{$$typeof:g,type:k,compare:q===void 0?null:q}},Ae.startTransition=function(k){var q=H.T,J={};H.T=J;try{var ie=k(),le=H.S;le!==null&&le(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(L,me)}catch(fe){me(fe)}finally{q!==null&&J.types!==null&&(q.types=J.types),H.T=q}},Ae.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ae.use=function(k){return H.H.use(k)},Ae.useActionState=function(k,q,J){return H.H.useActionState(k,q,J)},Ae.useCallback=function(k,q){return H.H.useCallback(k,q)},Ae.useContext=function(k){return H.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,q){return H.H.useDeferredValue(k,q)},Ae.useEffect=function(k,q){return H.H.useEffect(k,q)},Ae.useEffectEvent=function(k){return H.H.useEffectEvent(k)},Ae.useId=function(){return H.H.useId()},Ae.useImperativeHandle=function(k,q,J){return H.H.useImperativeHandle(k,q,J)},Ae.useInsertionEffect=function(k,q){return H.H.useInsertionEffect(k,q)},Ae.useLayoutEffect=function(k,q){return H.H.useLayoutEffect(k,q)},Ae.useMemo=function(k,q){return H.H.useMemo(k,q)},Ae.useOptimistic=function(k,q){return H.H.useOptimistic(k,q)},Ae.useReducer=function(k,q,J){return H.H.useReducer(k,q,J)},Ae.useRef=function(k){return H.H.useRef(k)},Ae.useState=function(k){return H.H.useState(k)},Ae.useSyncExternalStore=function(k,q,J){return H.H.useSyncExternalStore(k,q,J)},Ae.useTransition=function(){return H.H.useTransition()},Ae.version="19.2.3",Ae}var dp;function Kc(){return dp||(dp=1,pc.exports=Yy()),pc.exports}var j=Kc();const ql=Uy(j),mp=Iy({__proto__:null,default:ql},[j]);var gc={exports:{}},Gi={},vc={exports:{}},yc={};var hp;function Qy(){return hp||(hp=1,(function(a){function i(D,Q){var te=D.length;D.push(Q);e:for(;0<te;){var me=te-1>>>1,K=D[me];if(0<s(K,Q))D[me]=Q,D[te]=K,te=me;else break e}}function r(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var Q=D[0],te=D.pop();if(te!==Q){D[0]=te;e:for(var me=0,K=D.length,k=K>>>1;me<k;){var q=2*(me+1)-1,J=D[q],ie=q+1,le=D[ie];if(0>s(J,te))ie<K&&0>s(le,J)?(D[me]=le,D[ie]=te,me=ie):(D[me]=J,D[q]=te,me=q);else if(ie<K&&0>s(le,te))D[me]=le,D[ie]=te,me=ie;else break e}}return Q}function s(D,Q){var te=D.sortIndex-Q.sortIndex;return te!==0?te:D.id-Q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();a.unstable_now=function(){return m.now()-p}}var h=[],g=[],y=1,x=null,C=3,O=!1,M=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function _(D){for(var Q=r(g);Q!==null;){if(Q.callback===null)o(g);else if(Q.startTime<=D)o(g),Q.sortIndex=Q.expirationTime,i(h,Q);else break;Q=r(g)}}function A(D){if(w=!1,_(D),!M)if(r(h)!==null)M=!0,L||(L=!0,se());else{var Q=r(g);Q!==null&&ce(A,Q.startTime-D)}}var L=!1,H=-1,W=5,P=-1;function V(){return S?!0:!(a.unstable_now()-P<W)}function oe(){if(S=!1,L){var D=a.unstable_now();P=D;var Q=!0;try{e:{M=!1,w&&(w=!1,E(H),H=-1),O=!0;var te=C;try{t:{for(_(D),x=r(h);x!==null&&!(x.expirationTime>D&&V());){var me=x.callback;if(typeof me=="function"){x.callback=null,C=x.priorityLevel;var K=me(x.expirationTime<=D);if(D=a.unstable_now(),typeof K=="function"){x.callback=K,_(D),Q=!0;break t}x===r(h)&&o(h),_(D)}else o(h);x=r(h)}if(x!==null)Q=!0;else{var k=r(g);k!==null&&ce(A,k.startTime-D),Q=!1}}break e}finally{x=null,C=te,O=!1}Q=void 0}}finally{Q?se():L=!1}}}var se;if(typeof T=="function")se=function(){T(oe)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ae=ge.port2;ge.port1.onmessage=oe,se=function(){ae.postMessage(null)}}else se=function(){b(oe,0)};function ce(D,Q){H=b(function(){D(a.unstable_now())},Q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(D){switch(C){case 1:case 2:case 3:var Q=3;break;default:Q=C}var te=C;C=Q;try{return D()}finally{C=te}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=C;C=D;try{return Q()}finally{C=te}},a.unstable_scheduleCallback=function(D,Q,te){var me=a.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?me+te:me):te=me,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=te+K,D={id:y++,callback:Q,priorityLevel:D,startTime:te,expirationTime:K,sortIndex:-1},te>me?(D.sortIndex=te,i(g,D),r(h)===null&&D===r(g)&&(w?(E(H),H=-1):w=!0,ce(A,te-me))):(D.sortIndex=K,i(h,D),M||O||(M=!0,L||(L=!0,se()))),D},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(D){var Q=C;return function(){var te=C;C=Q;try{return D.apply(this,arguments)}finally{C=te}}}})(yc)),yc}var pp;function Gy(){return pp||(pp=1,vc.exports=Qy()),vc.exports}var xc={exports:{}},qt={};var gp;function Xy(){if(gp)return qt;gp=1;var a=Kc();function i(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function d(h,g,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:g,implementation:y}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,qt.createPortal=function(h,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return d(h,g,null,y)},qt.flushSync=function(h){var g=m.T,y=o.p;try{if(m.T=null,o.p=2,h)return h()}finally{m.T=g,o.p=y,o.d.f()}},qt.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(h,g))},qt.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},qt.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var y=g.as,x=p(y,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?o.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:O}):y==="script"&&o.d.X(h,{crossOrigin:x,integrity:C,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},qt.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);o.d.M(h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(h)},qt.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,x=p(y,g.crossOrigin);o.d.L(h,y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},qt.preloadModule=function(h,g){if(typeof h=="string")if(g){var y=p(g.as,g.crossOrigin);o.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(h)},qt.requestFormReset=function(h){o.d.r(h)},qt.unstable_batchedUpdates=function(h,g){return h(g)},qt.useFormState=function(h,g,y){return m.H.useFormState(h,g,y)},qt.useFormStatus=function(){return m.H.useHostTransitionStatus()},qt.version="19.2.3",qt}var vp;function b0(){if(vp)return xc.exports;vp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),xc.exports=Xy(),xc.exports}var yp;function Wy(){if(yp)return Gi;yp=1;var a=Gy(),i=Kc(),r=b0();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(d(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===n)return h(u),e;if(f===l)return h(u),t;f=f.sibling}throw Error(o(188))}if(n.return!==l.return)n=u,l=f;else{for(var v=!1,N=u.child;N;){if(N===n){v=!0,n=u,l=f;break}if(N===l){v=!0,l=u,n=f;break}N=N.sibling}if(!v){for(N=f.child;N;){if(N===n){v=!0,n=f,l=u;break}if(N===l){v=!0,l=f,n=u;break}N=N.sibling}if(!v)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case b:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case L:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case T:return e.displayName||"Context";case E:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}var ce=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},me=[],K=-1;function k(e){return{current:e}}function q(e){0>K||(e.current=me[K],me[K]=null,K--)}function J(e,t){K++,me[K]=e.current,e.current=t}var ie=k(null),le=k(null),fe=k(null),B=k(null);function he(e,t){switch(J(fe,t),J(le,e),J(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_h(t),e=Rh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(ie),J(ie,e)}function Y(){q(ie),q(le),q(fe)}function we(e){e.memoizedState!==null&&J(B,e);var t=ie.current,n=Rh(t,e.type);t!==n&&(J(le,e),J(ie,n))}function je(e){le.current===e&&(q(ie),q(le)),B.current===e&&(q(B),Ui._currentValue=te)}var Ce,ue;function be(e){if(Ce===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ce=t&&t[1]||"",ue=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+e+ue}var De=!1;function qe(e,t){if(!e||De)return"";De=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(F){var $=F}Reflect.construct(e,[],re)}else{try{re.call()}catch(F){$=F}e.call(re.prototype)}}else{try{throw Error()}catch(F){$=F}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(F){if(F&&$&&typeof F.stack=="string")return[F.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],N=f[1];if(v&&N){var R=v.split(`
`),X=N.split(`
`);for(u=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;if(l===R.length||u===X.length)for(l=R.length-1,u=X.length-1;1<=l&&0<=u&&R[l]!==X[u];)u--;for(;1<=l&&0<=u;l--,u--)if(R[l]!==X[u]){if(l!==1||u!==1)do if(l--,u--,0>u||R[l]!==X[u]){var ee=`
`+R[l].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=l&&0<=u);break}}}finally{De=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?be(n):""}function Ke(e,t){switch(e.tag){case 26:case 27:case 5:return be(e.type);case 16:return be("Lazy");case 13:return e.child!==t&&t!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return qe(e.type,!1);case 11:return qe(e.type.render,!1);case 1:return qe(e.type,!0);case 31:return be("Activity");default:return""}}function ot(e){try{var t="",n=null;do t+=Ke(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qe=Object.prototype.hasOwnProperty,vt=a.unstable_scheduleCallback,Bt=a.unstable_cancelCallback,Sn=a.unstable_shouldYield,zn=a.unstable_requestPaint,pe=a.unstable_now,Te=a.unstable_getCurrentPriorityLevel,ke=a.unstable_ImmediatePriority,xe=a.unstable_UserBlockingPriority,ze=a.unstable_NormalPriority,yt=a.unstable_LowPriority,tt=a.unstable_IdlePriority,_t=a.log,Qt=a.unstable_setDisableYieldValue,zt=null,ut=null;function Gt(e){if(typeof _t=="function"&&Qt(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(zt,e)}catch{}}var Mt=Math.clz32?Math.clz32:de,Zl=Math.log,tl=Math.LN2;function de(e){return e>>>=0,e===0?32:31-(Zl(e)/tl|0)|0}var Ve=256,dt=262144,xt=4194304;function ft(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xt(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var N=l&134217727;return N!==0?(l=N&~f,l!==0?u=ft(l):(v&=N,v!==0?u=ft(v):n||(n=N&~e,n!==0&&(u=ft(n))))):(N=l&~f,N!==0?u=ft(N):v!==0?u=ft(v):n||(n=l&~e,n!==0&&(u=ft(n)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:u}function fn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function nl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(){var e=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),e}function Kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ra(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ia(e,t,n,l,u,f){var v=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var N=e.entanglements,R=e.expirationTimes,X=e.hiddenUpdates;for(n=v&~n;0<n;){var ee=31-Mt(n),re=1<<ee;N[ee]=0,R[ee]=-1;var $=X[ee];if($!==null)for(X[ee]=null,ee=0;ee<$.length;ee++){var F=$[ee];F!==null&&(F.lane&=-536870913)}n&=~re}l!==0&&or(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function or(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Mt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function ur(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Mt(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function Da(e,t){var n=t&-t;return n=(n&42)!==0?1:Jl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Jl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function za(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function U(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:np(e.type))}function Ge(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Tt=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Tt,St="__reactProps$"+Tt,ra="__reactContainer$"+Tt,Pl="__reactEvents$"+Tt,lo="__reactListeners$"+Tt,ei="__reactHandles$"+Tt,xf="__reactResources$"+Tt,ti="__reactMarker$"+Tt;function io(e){delete e[Ye],delete e[St],delete e[Pl],delete e[lo],delete e[ei]}function al(e){var t=e[Ye];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ra]||n[Ye]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uh(e);e!==null;){if(n=e[Ye])return n;e=Uh(e)}return t}e=n,n=e.parentNode}return null}function ll(e){if(e=e[Ye]||e[ra]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ni(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function il(e){var t=e[xf];return t||(t=e[xf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Rt(e){e[ti]=!0}var bf=new Set,wf={};function La(e,t){rl(e,t),rl(e+"Capture",t)}function rl(e,t){for(wf[e]=t,e=0;e<t.length;e++)bf.add(t[e])}var kg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sf={},Nf={};function Ag(e){return Qe.call(Nf,e)?!0:Qe.call(Sf,e)?!1:kg.test(e)?Nf[e]=!0:(Sf[e]=!0,!1)}function cr(e,t,n){if(Ag(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function fr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ln(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _g(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){n=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){if(!e._valueTracker){var t=jf(e)?"checked":"value";e._valueTracker=_g(e,t,""+e[t])}}function Cf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=jf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rg=/[\n"\\]/g;function mn(e){return e.replace(Rg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function so(e,t,n,l,u,f,v,N){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dn(t)):e.value!==""+dn(t)&&(e.value=""+dn(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?oo(e,v,dn(t)):n!=null?oo(e,v,dn(n)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+dn(N):e.removeAttribute("name")}function Of(e,t,n,l,u,f,v,N){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){ro(e);return}n=n!=null?""+dn(n):"",t=t!=null?""+dn(t):n,N||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=N?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ro(e)}function oo(e,t,n){t==="number"&&dr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function sl(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ef(e,t,n){if(t!=null&&(t=""+dn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+dn(n):""}function Mf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(ce(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=dn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),ro(e)}function ol(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Dg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kf(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Tf(e,u,l)}else for(var f in t)t.hasOwnProperty(f)&&Tf(e,f,t[f])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(e){return Lg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var co=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,cl=null;function Af(e){var t=ll(e);if(t&&(e=t.stateNode)){var n=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(so(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[St]||null;if(!u)throw Error(o(90));so(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Cf(l)}break e;case"textarea":Ef(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&sl(e,!!n.multiple,t,!1)}}}var mo=!1;function _f(e,t,n){if(mo)return e(t,n);mo=!0;try{var l=e(t);return l}finally{if(mo=!1,(ul!==null||cl!==null)&&(es(),ul&&(t=ul,e=cl,cl=ul=null,Af(t),e)))for(t=0;t<e.length;t++)Af(e[t])}}function ai(e,t){var n=e.stateNode;if(n===null)return null;var l=n[St]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(Vn)try{var li={};Object.defineProperty(li,"passive",{get:function(){ho=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{ho=!1}var sa=null,po=null,hr=null;function Rf(){if(hr)return hr;var e,t=po,n=t.length,l,u="value"in sa?sa.value:sa.textContent,f=u.length;for(e=0;e<n&&t[e]===u[e];e++);var v=n-e;for(l=1;l<=v&&t[n-l]===u[f-l];l++);return hr=u.slice(e,1<l?1-l:void 0)}function pr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function Df(){return!1}function Ft(e){function t(n,l,u,f,v){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(n=e[N],this[N]=n?n(f):f[N]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gr:Df,this.isPropagationStopped=Df,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),t}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=Ft(Ha),ii=x({},Ha,{view:0,detail:0}),Hg=Ft(ii),go,vo,ri,yr=x({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(go=e.screenX-ri.screenX,vo=e.screenY-ri.screenY):vo=go=0,ri=e),go)},movementY:function(e){return"movementY"in e?e.movementY:vo}}),zf=Ft(yr),Vg=x({},yr,{dataTransfer:0}),Ig=Ft(Vg),Ug=x({},ii,{relatedTarget:0}),yo=Ft(Ug),Bg=x({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),qg=Ft(Bg),Yg=x({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qg=Ft(Yg),Gg=x({},Ha,{data:0}),Lf=Ft(Gg),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$g[e])?!!t[e]:!1}function xo(){return Fg}var Zg=x({},ii,{key:function(e){if(e.key){var t=Xg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kg=Ft(Zg),Jg=x({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hf=Ft(Jg),Pg=x({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),ev=Ft(Pg),tv=x({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),nv=Ft(tv),av=x({},yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=Ft(av),iv=x({},Ha,{newState:0,oldState:0}),rv=Ft(iv),sv=[9,13,27,32],bo=Vn&&"CompositionEvent"in window,si=null;Vn&&"documentMode"in document&&(si=document.documentMode);var ov=Vn&&"TextEvent"in window&&!si,Vf=Vn&&(!bo||si&&8<si&&11>=si),If=" ",Uf=!1;function Bf(e,t){switch(e){case"keyup":return sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fl=!1;function uv(e,t){switch(e){case"compositionend":return qf(t);case"keypress":return t.which!==32?null:(Uf=!0,If);case"textInput":return e=t.data,e===If&&Uf?null:e;default:return null}}function cv(e,t){if(fl)return e==="compositionend"||!bo&&Bf(e,t)?(e=Rf(),hr=po=sa=null,fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vf&&t.locale!=="ko"?null:t.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fv[e.type]:t==="textarea"}function Qf(e,t,n,l){ul?cl?cl.push(l):cl=[l]:ul=l,t=ss(t,"onChange"),0<t.length&&(n=new vr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var oi=null,ui=null;function dv(e){Oh(e,0)}function xr(e){var t=ni(e);if(Cf(t))return e}function Gf(e,t){if(e==="change")return t}var Xf=!1;if(Vn){var wo;if(Vn){var So="oninput"in document;if(!So){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),So=typeof Wf.oninput=="function"}wo=So}else wo=!1;Xf=wo&&(!document.documentMode||9<document.documentMode)}function $f(){oi&&(oi.detachEvent("onpropertychange",Ff),ui=oi=null)}function Ff(e){if(e.propertyName==="value"&&xr(ui)){var t=[];Qf(t,ui,e,fo(e)),_f(dv,t)}}function mv(e,t,n){e==="focusin"?($f(),oi=t,ui=n,oi.attachEvent("onpropertychange",Ff)):e==="focusout"&&$f()}function hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xr(ui)}function pv(e,t){if(e==="click")return xr(t)}function gv(e,t){if(e==="input"||e==="change")return xr(t)}function vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:vv;function ci(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!Qe.call(t,u)||!nn(e[u],t[u]))return!1}return!0}function Zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,t){var n=Zf(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zf(n)}}function Jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dr(e.document)}return t}function No(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yv=Vn&&"documentMode"in document&&11>=document.documentMode,dl=null,jo=null,fi=null,Co=!1;function ed(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Co||dl==null||dl!==dr(l)||(l=dl,"selectionStart"in l&&No(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fi&&ci(fi,l)||(fi=l,l=ss(jo,"onSelect"),0<l.length&&(t=new vr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=dl)))}function Va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ml={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Oo={},td={};Vn&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function Ia(e){if(Oo[e])return Oo[e];if(!ml[e])return e;var t=ml[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in td)return Oo[e]=t[n];return e}var nd=Ia("animationend"),ad=Ia("animationiteration"),ld=Ia("animationstart"),xv=Ia("transitionrun"),bv=Ia("transitionstart"),wv=Ia("transitioncancel"),id=Ia("transitionend"),rd=new Map,Eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eo.push("scrollEnd");function Nn(e,t){rd.set(e,t),La(t,[e])}var br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hn=[],hl=0,Mo=0;function wr(){for(var e=hl,t=Mo=hl=0;t<e;){var n=hn[t];hn[t++]=null;var l=hn[t];hn[t++]=null;var u=hn[t];hn[t++]=null;var f=hn[t];if(hn[t++]=null,l!==null&&u!==null){var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}f!==0&&sd(n,u,f)}}function Sr(e,t,n,l){hn[hl++]=e,hn[hl++]=t,hn[hl++]=n,hn[hl++]=l,Mo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function To(e,t,n,l){return Sr(e,t,n,l),Nr(e)}function Ua(e,t){return Sr(e,null,null,t),Nr(e)}function sd(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,f=e.return;f!==null;)f.childLanes|=n,l=f.alternate,l!==null&&(l.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-Mt(n),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),f):null}function Nr(e){if(50<Ri)throw Ri=0,Vu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pl={};function Sv(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,l){return new Sv(e,t,n,l)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function od(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,l,u,f){var v=0;if(l=e,typeof e=="function")ko(e)&&(v=1);else if(typeof e=="string")v=Ey(e,n,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=an(31,n,t,u),e.elementType=P,e.lanes=f,e;case w:return Ba(n.children,u,f,t);case S:v=8,u|=24;break;case b:return e=an(12,n,t,u|2),e.elementType=b,e.lanes=f,e;case A:return e=an(13,n,t,u),e.elementType=A,e.lanes=f,e;case L:return e=an(19,n,t,u),e.elementType=L,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:v=10;break e;case E:v=9;break e;case _:v=11;break e;case H:v=14;break e;case W:v=16,l=null;break e}v=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=an(v,n,t,u),t.elementType=e,t.type=l,t.lanes=f,t}function Ba(e,t,n,l){return e=an(7,e,l,t),e.lanes=n,e}function Ao(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function ud(e){var t=an(18,null,null,0);return t.stateNode=e,t}function _o(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cd=new WeakMap;function pn(e,t){if(typeof e=="object"&&e!==null){var n=cd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ot(t)},cd.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var gl=[],vl=0,Cr=null,di=0,gn=[],vn=0,oa=null,On=1,En="";function Un(e,t){gl[vl++]=di,gl[vl++]=Cr,Cr=e,di=t}function fd(e,t,n){gn[vn++]=On,gn[vn++]=En,gn[vn++]=oa,oa=e;var l=On;e=En;var u=32-Mt(l)-1;l&=~(1<<u),n+=1;var f=32-Mt(t)+u;if(30<f){var v=u-u%5;f=(l&(1<<v)-1).toString(32),l>>=v,u-=v,On=1<<32-Mt(t)+u|n<<u|l,En=f+e}else On=1<<f|n<<u|l,En=e}function Ro(e){e.return!==null&&(Un(e,1),fd(e,1,0))}function Do(e){for(;e===Cr;)Cr=gl[--vl],gl[vl]=null,di=gl[--vl],gl[vl]=null;for(;e===oa;)oa=gn[--vn],gn[vn]=null,En=gn[--vn],gn[vn]=null,On=gn[--vn],gn[vn]=null}function dd(e,t){gn[vn++]=On,gn[vn++]=En,gn[vn++]=oa,On=t.id,En=t.overflow,oa=e}var Lt=null,rt=null,Be=!1,ua=null,yn=!1,zo=Error(o(519));function ca(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mi(pn(t,e)),zo}function md(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Ye]=e,t[St]=l,n){case"dialog":He("cancel",t),He("close",t);break;case"iframe":case"object":case"embed":He("load",t);break;case"video":case"audio":for(n=0;n<zi.length;n++)He(zi[n],t);break;case"source":He("error",t);break;case"img":case"image":case"link":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"input":He("invalid",t),Of(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",t);break;case"textarea":He("invalid",t),Mf(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||kh(t.textContent,n)?(l.popover!=null&&(He("beforetoggle",t),He("toggle",t)),l.onScroll!=null&&He("scroll",t),l.onScrollEnd!=null&&He("scrollend",t),l.onClick!=null&&(t.onclick=Hn),t=!0):t=!1,t||ca(e,!0)}function hd(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Lt=Lt.return}}function yl(e){if(e!==Lt)return!1;if(!Be)return hd(e),Be=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Pu(e.type,e.memoizedProps)),n=!n),n&&rt&&ca(e),hd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));rt=Ih(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));rt=Ih(e)}else t===27?(t=rt,ja(e.type)?(e=lc,lc=null,rt=e):rt=t):rt=Lt?bn(e.stateNode.nextSibling):null;return!0}function qa(){rt=Lt=null,Be=!1}function Lo(){var e=ua;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),ua=null),e}function mi(e){ua===null?ua=[e]:ua.push(e)}var Ho=k(null),Ya=null,Bn=null;function fa(e,t,n){J(Ho,t._currentValue),t._currentValue=n}function qn(e){e._currentValue=Ho.current,q(Ho)}function Vo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Io(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var v=u.child;f=f.firstContext;e:for(;f!==null;){var N=f;f=u;for(var R=0;R<t.length;R++)if(N.context===t[R]){f.lanes|=n,N=f.alternate,N!==null&&(N.lanes|=n),Vo(f.return,n,e),l||(v=null);break e}f=N.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(o(341));v.lanes|=n,f=v.alternate,f!==null&&(f.lanes|=n),Vo(v,n,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function xl(e,t,n,l){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var N=u.type;nn(u.pendingProps.value,v.value)||(e!==null?e.push(N):e=[N])}}else if(u===B.current){if(v=u.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ui):e=[Ui])}u=u.return}e!==null&&Io(t,e,n,l),t.flags|=262144}function Or(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qa(e){Ya=e,Bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return pd(Ya,e)}function Er(e,t){return Ya===null&&Qa(e),pd(e,t)}function pd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bn===null){if(e===null)throw Error(o(308));Bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bn=Bn.next=t;return n}var Nv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},jv=a.unstable_scheduleCallback,Cv=a.unstable_NormalPriority,Nt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new Nv,data:new Map,refCount:0}}function hi(e){e.refCount--,e.refCount===0&&jv(Cv,function(){e.controller.abort()})}var pi=null,Bo=0,bl=0,wl=null;function Ov(e,t){if(pi===null){var n=pi=[];Bo=0,bl=Qu(),wl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Bo++,t.then(gd,gd),t}function gd(){if(--Bo===0&&pi!==null){wl!==null&&(wl.status="fulfilled");var e=pi;pi=null,bl=0,wl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ev(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var vd=D.S;D.S=function(e,t){eh=pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ov(e,t),vd!==null&&vd(e,t)};var Ga=k(null);function qo(){var e=Ga.current;return e!==null?e:it.pooledCache}function Mr(e,t){t===null?J(Ga,Ga.current):J(Ga,t.pool)}function yd(){var e=qo();return e===null?null:{parent:Nt._currentValue,pool:e}}var Sl=Error(o(460)),Yo=Error(o(474)),Tr=Error(o(542)),kr={then:function(){}};function xd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Hn,Hn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sd(e),e;default:if(typeof t.status=="string")t.then(Hn,Hn);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sd(e),e}throw Wa=t,Sl}}function Xa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Wa=n,Sl):n}}var Wa=null;function wd(){if(Wa===null)throw Error(o(459));var e=Wa;return Wa=null,e}function Sd(e){if(e===Sl||e===Tr)throw Error(o(483))}var Nl=null,gi=0;function Ar(e){var t=gi;return gi+=1,Nl===null&&(Nl=[]),bd(Nl,e,t)}function vi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _r(e,t){throw t.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Nd(e){function t(I,z){if(e){var G=I.deletions;G===null?(I.deletions=[z],I.flags|=16):G.push(z)}}function n(I,z){if(!e)return null;for(;z!==null;)t(I,z),z=z.sibling;return null}function l(I){for(var z=new Map;I!==null;)I.key!==null?z.set(I.key,I):z.set(I.index,I),I=I.sibling;return z}function u(I,z){return I=In(I,z),I.index=0,I.sibling=null,I}function f(I,z,G){return I.index=G,e?(G=I.alternate,G!==null?(G=G.index,G<z?(I.flags|=67108866,z):G):(I.flags|=67108866,z)):(I.flags|=1048576,z)}function v(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function N(I,z,G,ne){return z===null||z.tag!==6?(z=Ao(G,I.mode,ne),z.return=I,z):(z=u(z,G),z.return=I,z)}function R(I,z,G,ne){var Se=G.type;return Se===w?ee(I,z,G.props.children,ne,G.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===W&&Xa(Se)===z.type)?(z=u(z,G.props),vi(z,G),z.return=I,z):(z=jr(G.type,G.key,G.props,null,I.mode,ne),vi(z,G),z.return=I,z)}function X(I,z,G,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=_o(G,I.mode,ne),z.return=I,z):(z=u(z,G.children||[]),z.return=I,z)}function ee(I,z,G,ne,Se){return z===null||z.tag!==7?(z=Ba(G,I.mode,ne,Se),z.return=I,z):(z=u(z,G),z.return=I,z)}function re(I,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ao(""+z,I.mode,G),z.return=I,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return G=jr(z.type,z.key,z.props,null,I.mode,G),vi(G,z),G.return=I,G;case M:return z=_o(z,I.mode,G),z.return=I,z;case W:return z=Xa(z),re(I,z,G)}if(ce(z)||se(z))return z=Ba(z,I.mode,G,null),z.return=I,z;if(typeof z.then=="function")return re(I,Ar(z),G);if(z.$$typeof===T)return re(I,Er(I,z),G);_r(I,z)}return null}function $(I,z,G,ne){var Se=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:N(I,z,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return G.key===Se?R(I,z,G,ne):null;case M:return G.key===Se?X(I,z,G,ne):null;case W:return G=Xa(G),$(I,z,G,ne)}if(ce(G)||se(G))return Se!==null?null:ee(I,z,G,ne,null);if(typeof G.then=="function")return $(I,z,Ar(G),ne);if(G.$$typeof===T)return $(I,z,Er(I,G),ne);_r(I,G)}return null}function F(I,z,G,ne,Se){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return I=I.get(G)||null,N(z,I,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case O:return I=I.get(ne.key===null?G:ne.key)||null,R(z,I,ne,Se);case M:return I=I.get(ne.key===null?G:ne.key)||null,X(z,I,ne,Se);case W:return ne=Xa(ne),F(I,z,G,ne,Se)}if(ce(ne)||se(ne))return I=I.get(G)||null,ee(z,I,ne,Se,null);if(typeof ne.then=="function")return F(I,z,G,Ar(ne),Se);if(ne.$$typeof===T)return F(I,z,G,Er(z,ne),Se);_r(z,ne)}return null}function ve(I,z,G,ne){for(var Se=null,Xe=null,ye=z,Re=z=0,Ue=null;ye!==null&&Re<G.length;Re++){ye.index>Re?(Ue=ye,ye=null):Ue=ye.sibling;var We=$(I,ye,G[Re],ne);if(We===null){ye===null&&(ye=Ue);break}e&&ye&&We.alternate===null&&t(I,ye),z=f(We,z,Re),Xe===null?Se=We:Xe.sibling=We,Xe=We,ye=Ue}if(Re===G.length)return n(I,ye),Be&&Un(I,Re),Se;if(ye===null){for(;Re<G.length;Re++)ye=re(I,G[Re],ne),ye!==null&&(z=f(ye,z,Re),Xe===null?Se=ye:Xe.sibling=ye,Xe=ye);return Be&&Un(I,Re),Se}for(ye=l(ye);Re<G.length;Re++)Ue=F(ye,I,Re,G[Re],ne),Ue!==null&&(e&&Ue.alternate!==null&&ye.delete(Ue.key===null?Re:Ue.key),z=f(Ue,z,Re),Xe===null?Se=Ue:Xe.sibling=Ue,Xe=Ue);return e&&ye.forEach(function(Ta){return t(I,Ta)}),Be&&Un(I,Re),Se}function Ee(I,z,G,ne){if(G==null)throw Error(o(151));for(var Se=null,Xe=null,ye=z,Re=z=0,Ue=null,We=G.next();ye!==null&&!We.done;Re++,We=G.next()){ye.index>Re?(Ue=ye,ye=null):Ue=ye.sibling;var Ta=$(I,ye,We.value,ne);if(Ta===null){ye===null&&(ye=Ue);break}e&&ye&&Ta.alternate===null&&t(I,ye),z=f(Ta,z,Re),Xe===null?Se=Ta:Xe.sibling=Ta,Xe=Ta,ye=Ue}if(We.done)return n(I,ye),Be&&Un(I,Re),Se;if(ye===null){for(;!We.done;Re++,We=G.next())We=re(I,We.value,ne),We!==null&&(z=f(We,z,Re),Xe===null?Se=We:Xe.sibling=We,Xe=We);return Be&&Un(I,Re),Se}for(ye=l(ye);!We.done;Re++,We=G.next())We=F(ye,I,Re,We.value,ne),We!==null&&(e&&We.alternate!==null&&ye.delete(We.key===null?Re:We.key),z=f(We,z,Re),Xe===null?Se=We:Xe.sibling=We,Xe=We);return e&&ye.forEach(function(Vy){return t(I,Vy)}),Be&&Un(I,Re),Se}function lt(I,z,G,ne){if(typeof G=="object"&&G!==null&&G.type===w&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case O:e:{for(var Se=G.key;z!==null;){if(z.key===Se){if(Se=G.type,Se===w){if(z.tag===7){n(I,z.sibling),ne=u(z,G.props.children),ne.return=I,I=ne;break e}}else if(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===W&&Xa(Se)===z.type){n(I,z.sibling),ne=u(z,G.props),vi(ne,G),ne.return=I,I=ne;break e}n(I,z);break}else t(I,z);z=z.sibling}G.type===w?(ne=Ba(G.props.children,I.mode,ne,G.key),ne.return=I,I=ne):(ne=jr(G.type,G.key,G.props,null,I.mode,ne),vi(ne,G),ne.return=I,I=ne)}return v(I);case M:e:{for(Se=G.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){n(I,z.sibling),ne=u(z,G.children||[]),ne.return=I,I=ne;break e}else{n(I,z);break}else t(I,z);z=z.sibling}ne=_o(G,I.mode,ne),ne.return=I,I=ne}return v(I);case W:return G=Xa(G),lt(I,z,G,ne)}if(ce(G))return ve(I,z,G,ne);if(se(G)){if(Se=se(G),typeof Se!="function")throw Error(o(150));return G=Se.call(G),Ee(I,z,G,ne)}if(typeof G.then=="function")return lt(I,z,Ar(G),ne);if(G.$$typeof===T)return lt(I,z,Er(I,G),ne);_r(I,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(n(I,z.sibling),ne=u(z,G),ne.return=I,I=ne):(n(I,z),ne=Ao(G,I.mode,ne),ne.return=I,I=ne),v(I)):n(I,z)}return function(I,z,G,ne){try{gi=0;var Se=lt(I,z,G,ne);return Nl=null,Se}catch(ye){if(ye===Sl||ye===Tr)throw ye;var Xe=an(29,ye,null,I.mode);return Xe.lanes=ne,Xe.return=I,Xe}}}var $a=Nd(!0),jd=Nd(!1),da=!1;function Qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ha(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Nr(e),sd(e,null,n),t}return Sr(e,l,t,n),Nr(e)}function yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ur(e,n)}}function Xo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?u=f=v:f=f.next=v,n=n.next}while(n!==null);f===null?u=f=t:f=f.next=t}else u=f=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wo=!1;function xi(){if(Wo){var e=wl;if(e!==null)throw e}}function bi(e,t,n,l){Wo=!1;var u=e.updateQueue;da=!1;var f=u.firstBaseUpdate,v=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var R=N,X=R.next;R.next=null,v===null?f=X:v.next=X,v=R;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==v&&(N===null?ee.firstBaseUpdate=X:N.next=X,ee.lastBaseUpdate=R))}if(f!==null){var re=u.baseState;v=0,ee=X=R=null,N=f;do{var $=N.lane&-536870913,F=$!==N.lane;if(F?(Ie&$)===$:(l&$)===$){$!==0&&$===bl&&(Wo=!0),ee!==null&&(ee=ee.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ve=e,Ee=N;$=t;var lt=n;switch(Ee.tag){case 1:if(ve=Ee.payload,typeof ve=="function"){re=ve.call(lt,re,$);break e}re=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ee.payload,$=typeof ve=="function"?ve.call(lt,re,$):ve,$==null)break e;re=x({},re,$);break e;case 2:da=!0}}$=N.callback,$!==null&&(e.flags|=64,F&&(e.flags|=8192),F=u.callbacks,F===null?u.callbacks=[$]:F.push($))}else F={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(X=ee=F,R=re):ee=ee.next=F,v|=$;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;F=N,N=F.next,F.next=null,u.lastBaseUpdate=F,u.shared.pending=null}}while(!0);ee===null&&(R=re),u.baseState=R,u.firstBaseUpdate=X,u.lastBaseUpdate=ee,f===null&&(u.shared.lanes=0),xa|=v,e.lanes=v,e.memoizedState=re}}function Cd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Od(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Cd(n[e],t)}var jl=k(null),Rr=k(0);function Ed(e,t){e=Kn,J(Rr,e),J(jl,t),Kn=e|t.baseLanes}function $o(){J(Rr,Kn),J(jl,jl.current)}function Fo(){Kn=Rr.current,q(jl),q(Rr)}var ln=k(null),xn=null;function pa(e){var t=e.alternate;J(bt,bt.current&1),J(ln,e),xn===null&&(t===null||jl.current!==null||t.memoizedState!==null)&&(xn=e)}function Zo(e){J(bt,bt.current),J(ln,e),xn===null&&(xn=e)}function Md(e){e.tag===22?(J(bt,bt.current),J(ln,e),xn===null&&(xn=e)):ga()}function ga(){J(bt,bt.current),J(ln,ln.current)}function rn(e){q(ln),xn===e&&(xn=null),q(bt)}var bt=k(0);function Dr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||nc(n)||ac(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yn=0,_e=null,nt=null,jt=null,zr=!1,Cl=!1,Fa=!1,Lr=0,wi=0,Ol=null,Mv=0;function mt(){throw Error(o(321))}function Ko(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function Jo(e,t,n,l,u,f){return Yn=f,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?fm:mu,Fa=!1,f=n(l,u),Fa=!1,Cl&&(f=kd(t,n,l,u)),Td(e),f}function Td(e){D.H=ji;var t=nt!==null&&nt.next!==null;if(Yn=0,jt=nt=_e=null,zr=!1,wi=0,Ol=null,t)throw Error(o(300));e===null||Ct||(e=e.dependencies,e!==null&&Or(e)&&(Ct=!0))}function kd(e,t,n,l){_e=e;var u=0;do{if(Cl&&(Ol=null),wi=0,Cl=!1,25<=u)throw Error(o(301));if(u+=1,jt=nt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}D.H=dm,f=t(n,l)}while(Cl);return f}function Tv(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Si(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(_e.flags|=1024),t}function Po(){var e=Lr!==0;return Lr=0,e}function eu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function tu(e){if(zr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zr=!1}Yn=0,jt=nt=_e=null,Cl=!1,wi=Lr=0,Ol=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?_e.memoizedState=jt=e:jt=jt.next=e,jt}function wt(){if(nt===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=jt===null?_e.memoizedState:jt.next;if(t!==null)jt=t,nt=e;else{if(e===null)throw _e.alternate===null?Error(o(467)):Error(o(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},jt===null?_e.memoizedState=jt=e:jt=jt.next=e}return jt}function Hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Si(e){var t=wi;return wi+=1,Ol===null&&(Ol=[]),e=bd(Ol,e,t),t=_e,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?fm:mu),e}function Vr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Si(e);if(e.$$typeof===T)return Ht(e)}throw Error(o(438,String(e)))}function nu(e){var t=null,n=_e.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=_e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Hr(),_e.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=V;return t.index++,n}function Qn(e,t){return typeof t=="function"?t(e):t}function Ir(e){var t=wt();return au(t,nt,e)}function au(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var v=u.next;u.next=f.next,f.next=v}t.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var N=v=null,R=null,X=t,ee=!1;do{var re=X.lane&-536870913;if(re!==X.lane?(Ie&re)===re:(Yn&re)===re){var $=X.revertLane;if($===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),re===bl&&(ee=!0);else if((Yn&$)===$){X=X.next,$===bl&&(ee=!0);continue}else re={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},R===null?(N=R=re,v=f):R=R.next=re,_e.lanes|=$,xa|=$;re=X.action,Fa&&n(f,re),f=X.hasEagerState?X.eagerState:n(f,re)}else $={lane:re,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},R===null?(N=R=$,v=f):R=R.next=$,_e.lanes|=re,xa|=re;X=X.next}while(X!==null&&X!==t);if(R===null?v=f:R.next=N,!nn(f,e.memoizedState)&&(Ct=!0,ee&&(n=wl,n!==null)))throw n;e.memoizedState=f,e.baseState=v,e.baseQueue=R,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function lu(e){var t=wt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,f=t.memoizedState;if(u!==null){n.pending=null;var v=u=u.next;do f=e(f,v.action),v=v.next;while(v!==u);nn(f,t.memoizedState)||(Ct=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,l]}function Ad(e,t,n){var l=_e,u=wt(),f=Be;if(f){if(n===void 0)throw Error(o(407));n=n()}else n=t();var v=!nn((nt||u).memoizedState,n);if(v&&(u.memoizedState=n,Ct=!0),u=u.queue,su(Dd.bind(null,l,u,e),[e]),u.getSnapshot!==t||v||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,El(9,{destroy:void 0},Rd.bind(null,l,u,n,t),null),it===null)throw Error(o(349));f||(Yn&127)!==0||_d(l,t,n)}return n}function _d(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t=Hr(),_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rd(e,t,n,l){t.value=n,t.getSnapshot=l,zd(t)&&Ld(e)}function Dd(e,t,n){return n(function(){zd(t)&&Ld(e)})}function zd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function Ld(e){var t=Ua(e,2);t!==null&&en(t,e,2)}function iu(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),Fa){Gt(!0);try{n()}finally{Gt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t}function Hd(e,t,n,l){return e.baseState=n,au(e,nt,typeof l=="function"?l:Qn)}function kv(e,t,n,l,u){if(qr(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};D.T!==null?n(!0):f.isTransition=!1,l(f),n=t.pending,n===null?(f.next=t.pending=f,Vd(t,f)):(f.next=n.next,t.pending=n.next=f)}}function Vd(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var f=D.T,v={};D.T=v;try{var N=n(u,l),R=D.S;R!==null&&R(v,N),Id(e,t,N)}catch(X){ru(e,t,X)}finally{f!==null&&v.types!==null&&(f.types=v.types),D.T=f}}else try{f=n(u,l),Id(e,t,f)}catch(X){ru(e,t,X)}}function Id(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Ud(e,t,l)},function(l){return ru(e,t,l)}):Ud(e,t,n)}function Ud(e,t,n){t.status="fulfilled",t.value=n,Bd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Vd(e,n)))}function ru(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Bd(t),t=t.next;while(t!==l)}e.action=null}function Bd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qd(e,t){return t}function Yd(e,t){if(Be){var n=it.formState;if(n!==null){e:{var l=_e;if(Be){if(rt){t:{for(var u=rt,f=yn;u.nodeType!==8;){if(!f){u=null;break t}if(u=bn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){rt=bn(u.nextSibling),l=u.data==="F!";break e}}ca(l)}l=!1}l&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:t},n.queue=l,n=om.bind(null,_e,l),l.dispatch=n,l=iu(!1),f=du.bind(null,_e,!1,l.queue),l=Wt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=kv.bind(null,_e,u,f,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function Qd(e){var t=wt();return Gd(t,nt,e)}function Gd(e,t,n){if(t=au(e,t,qd)[0],e=Ir(Qn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Si(t)}catch(v){throw v===Sl?Tr:v}else l=t;t=wt();var u=t.queue,f=u.dispatch;return n!==t.memoizedState&&(_e.flags|=2048,El(9,{destroy:void 0},Av.bind(null,u,n),null)),[l,f,e]}function Av(e,t){e.action=t}function Xd(e){var t=wt(),n=nt;if(n!==null)return Gd(t,n,e);wt(),t=t.memoizedState,n=wt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function El(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=_e.updateQueue,t===null&&(t=Hr(),_e.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Wd(){return wt().memoizedState}function Ur(e,t,n,l){var u=Wt();_e.flags|=e,u.memoizedState=El(1|t,{destroy:void 0},n,l===void 0?null:l)}function Br(e,t,n,l){var u=wt();l=l===void 0?null:l;var f=u.memoizedState.inst;nt!==null&&l!==null&&Ko(l,nt.memoizedState.deps)?u.memoizedState=El(t,f,n,l):(_e.flags|=e,u.memoizedState=El(1|t,f,n,l))}function $d(e,t){Ur(8390656,8,e,t)}function su(e,t){Br(2048,8,e,t)}function _v(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=Hr(),_e.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Fd(e){var t=wt().memoizedState;return _v({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Zd(e,t){return Br(4,2,e,t)}function Kd(e,t){return Br(4,4,e,t)}function Jd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,n){n=n!=null?n.concat([e]):null,Br(4,4,Jd.bind(null,t,e),n)}function ou(){}function em(e,t){var n=wt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Ko(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function tm(e,t){var n=wt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Ko(t,l[1]))return l[0];if(l=e(),Fa){Gt(!0);try{e()}finally{Gt(!1)}}return n.memoizedState=[l,t],l}function uu(e,t,n){return n===void 0||(Yn&1073741824)!==0&&(Ie&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=nh(),_e.lanes|=e,xa|=e,n)}function nm(e,t,n,l){return nn(n,t)?n:jl.current!==null?(e=uu(e,n,l),nn(e,t)||(Ct=!0),e):(Yn&42)===0||(Yn&1073741824)!==0&&(Ie&261930)===0?(Ct=!0,e.memoizedState=n):(e=nh(),_e.lanes|=e,xa|=e,t)}function am(e,t,n,l,u){var f=Q.p;Q.p=f!==0&&8>f?f:8;var v=D.T,N={};D.T=N,du(e,!1,t,n);try{var R=u(),X=D.S;if(X!==null&&X(N,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ee=Ev(R,l);Ni(e,t,ee,un(e))}else Ni(e,t,l,un(e))}catch(re){Ni(e,t,{then:function(){},status:"rejected",reason:re},un())}finally{Q.p=f,v!==null&&N.types!==null&&(v.types=N.types),D.T=v}}function Rv(){}function cu(e,t,n,l){if(e.tag!==5)throw Error(o(476));var u=lm(e).queue;am(e,u,t,te,n===null?Rv:function(){return im(e),n(l)})}function lm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function im(e){var t=lm(e);t.next===null&&(t=e.alternate.memoizedState),Ni(e,t.next.queue,{},un())}function fu(){return Ht(Ui)}function rm(){return wt().memoizedState}function sm(){return wt().memoizedState}function Dv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=un();e=ma(n);var l=ha(t,e,n);l!==null&&(en(l,t,n),yi(l,t,n)),t={cache:Uo()},e.payload=t;return}t=t.return}}function zv(e,t,n){var l=un();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},qr(e)?um(t,n):(n=To(e,t,n,l),n!==null&&(en(n,e,l),cm(n,t,l)))}function om(e,t,n){var l=un();Ni(e,t,n,l)}function Ni(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(qr(e))um(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,N=f(v,n);if(u.hasEagerState=!0,u.eagerState=N,nn(N,v))return Sr(e,t,u,0),it===null&&wr(),!1}catch{}if(n=To(e,t,u,l),n!==null)return en(n,e,l),cm(n,t,l),!0}return!1}function du(e,t,n,l){if(l={lane:2,revertLane:Qu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qr(e)){if(t)throw Error(o(479))}else t=To(e,n,l,2),t!==null&&en(t,e,2)}function qr(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function um(e,t){Cl=zr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cm(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ur(e,n)}}var ji={readContext:Ht,use:Vr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};ji.useEffectEvent=mt;var fm={readContext:Ht,use:Vr,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:$d,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ur(4194308,4,Jd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){Ur(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var l=e();if(Fa){Gt(!0);try{e()}finally{Gt(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Wt();if(n!==void 0){var u=n(t);if(Fa){Gt(!0);try{n(t)}finally{Gt(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=zv.bind(null,_e,e),[l.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=iu(e);var t=e.queue,n=om.bind(null,_e,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ou,useDeferredValue:function(e,t){var n=Wt();return uu(n,e,t)},useTransition:function(){var e=iu(!1);return e=am.bind(null,_e,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=_e,u=Wt();if(Be){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),it===null)throw Error(o(349));(Ie&127)!==0||_d(l,t,n)}u.memoizedState=n;var f={value:n,getSnapshot:t};return u.queue=f,$d(Dd.bind(null,l,f,e),[e]),l.flags|=2048,El(9,{destroy:void 0},Rd.bind(null,l,f,n,t),null),n},useId:function(){var e=Wt(),t=it.identifierPrefix;if(Be){var n=En,l=On;n=(l&~(1<<32-Mt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Mv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:fu,useFormState:Yd,useActionState:Yd,useOptimistic:function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=du.bind(null,_e,!0,n),n.dispatch=t,[e,t]},useMemoCache:nu,useCacheRefresh:function(){return Wt().memoizedState=Dv.bind(null,_e)},useEffectEvent:function(e){var t=Wt(),n={impl:e};return t.memoizedState=n,function(){if(($e&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},mu={readContext:Ht,use:Vr,useCallback:em,useContext:Ht,useEffect:su,useImperativeHandle:Pd,useInsertionEffect:Zd,useLayoutEffect:Kd,useMemo:tm,useReducer:Ir,useRef:Wd,useState:function(){return Ir(Qn)},useDebugValue:ou,useDeferredValue:function(e,t){var n=wt();return nm(n,nt.memoizedState,e,t)},useTransition:function(){var e=Ir(Qn)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Si(e),t]},useSyncExternalStore:Ad,useId:rm,useHostTransitionStatus:fu,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,t){var n=wt();return Hd(n,nt,e,t)},useMemoCache:nu,useCacheRefresh:sm};mu.useEffectEvent=Fd;var dm={readContext:Ht,use:Vr,useCallback:em,useContext:Ht,useEffect:su,useImperativeHandle:Pd,useInsertionEffect:Zd,useLayoutEffect:Kd,useMemo:tm,useReducer:lu,useRef:Wd,useState:function(){return lu(Qn)},useDebugValue:ou,useDeferredValue:function(e,t){var n=wt();return nt===null?uu(n,e,t):nm(n,nt.memoizedState,e,t)},useTransition:function(){var e=lu(Qn)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Si(e),t]},useSyncExternalStore:Ad,useId:rm,useHostTransitionStatus:fu,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var n=wt();return nt!==null?Hd(n,nt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:nu,useCacheRefresh:sm};dm.useEffectEvent=Fd;function hu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:x({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=un(),u=ma(l);u.payload=t,n!=null&&(u.callback=n),t=ha(e,u,l),t!==null&&(en(t,e,l),yi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=un(),u=ma(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=ha(e,u,l),t!==null&&(en(t,e,l),yi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=un(),l=ma(n);l.tag=2,t!=null&&(l.callback=t),t=ha(e,l,n),t!==null&&(en(t,e,n),yi(t,e,n))}};function mm(e,t,n,l,u,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):t.prototype&&t.prototype.isPureReactComponent?!ci(n,l)||!ci(u,f):!0}function hm(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&pu.enqueueReplaceState(t,t.state,null)}function Za(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=x({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function pm(e){br(e)}function gm(e){console.error(e)}function vm(e){br(e)}function Yr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function ym(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function gu(e,t,n){return n=ma(n),n.tag=3,n.payload={element:null},n.callback=function(){Yr(e,t)},n}function xm(e){return e=ma(e),e.tag=3,e}function bm(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){ym(t,n,l)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){ym(t,n,l),typeof u!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function Lv(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&xl(t,n,u,!0),n=ln.current,n!==null){switch(n.tag){case 31:case 13:return xn===null?ts():n.alternate===null&&ht===0&&(ht=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===kr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Bu(e,l,u)),!1;case 22:return n.flags|=65536,l===kr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Bu(e,l,u)),!1}throw Error(o(435,n.tag))}return Bu(e,l,u),ts(),!1}if(Be)return t=ln.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==zo&&(e=Error(o(422),{cause:l}),mi(pn(e,n)))):(l!==zo&&(t=Error(o(423),{cause:l}),mi(pn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=pn(l,n),u=gu(e.stateNode,l,u),Xo(e,u),ht!==4&&(ht=2)),!1;var f=Error(o(520),{cause:l});if(f=pn(f,n),_i===null?_i=[f]:_i.push(f),ht!==4&&(ht=2),t===null)return!0;l=pn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=gu(n.stateNode,l,e),Xo(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ba===null||!ba.has(f))))return n.flags|=65536,u&=-u,n.lanes|=u,u=xm(u),bm(u,e,n,l),Xo(n,u),!1}n=n.return}while(n!==null);return!1}var vu=Error(o(461)),Ct=!1;function Vt(e,t,n,l){t.child=e===null?jd(t,null,n,l):$a(t,e.child,n,l)}function wm(e,t,n,l,u){n=n.render;var f=t.ref;if("ref"in l){var v={};for(var N in l)N!=="ref"&&(v[N]=l[N])}else v=l;return Qa(t),l=Jo(e,t,n,v,f,u),N=Po(),e!==null&&!Ct?(eu(e,t,u),Gn(e,t,u)):(Be&&N&&Ro(t),t.flags|=1,Vt(e,t,l,u),t.child)}function Sm(e,t,n,l,u){if(e===null){var f=n.type;return typeof f=="function"&&!ko(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,Nm(e,t,f,l,u)):(e=jr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Cu(e,u)){var v=f.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(v,l)&&e.ref===t.ref)return Gn(e,t,u)}return t.flags|=1,e=In(f,l),e.ref=t.ref,e.return=t,t.child=e}function Nm(e,t,n,l,u){if(e!==null){var f=e.memoizedProps;if(ci(f,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=f,Cu(e,u))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,Gn(e,t,u)}return yu(e,t,n,l,u)}function jm(e,t,n,l){var u=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,t.child=null;return Cm(e,t,f,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,f!==null?f.cachePool:null),f!==null?Ed(t,f):$o(),Md(t);else return l=t.lanes=536870912,Cm(e,t,f!==null?f.baseLanes|n:n,n,l)}else f!==null?(Mr(t,f.cachePool),Ed(t,f),ga(),t.memoizedState=null):(e!==null&&Mr(t,null),$o(),ga());return Vt(e,t,u,n),t.child}function Ci(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Cm(e,t,n,l,u){var f=qo();return f=f===null?null:{parent:Nt._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&Mr(t,null),$o(),Md(t),e!==null&&xl(e,t,l,!0),t.childLanes=u,null}function Qr(e,t){return t=Xr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Om(e,t,n){return $a(t,e.child,null,n),e=Qr(t,t.pendingProps),e.flags|=2,rn(t),t.memoizedState=null,e}function Hv(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Be){if(l.mode==="hidden")return e=Qr(t,l),t.lanes=536870912,Ci(null,e);if(Zo(t),(e=rt)?(e=Vh(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oa!==null?{id:On,overflow:En}:null,retryLane:536870912,hydrationErrors:null},n=ud(e),n.return=t,t.child=n,Lt=t,rt=null)):e=null,e===null)throw ca(t);return t.lanes=536870912,null}return Qr(t,l)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(Zo(t),u)if(t.flags&256)t.flags&=-257,t=Om(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Ct||xl(e,t,n,!1),u=(n&e.childLanes)!==0,Ct||u){if(l=it,l!==null&&(v=Da(l,n),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ua(e,v),en(l,e,v),vu;ts(),t=Om(e,t,n)}else e=f.treeContext,rt=bn(v.nextSibling),Lt=t,Be=!0,ua=null,yn=!1,e!==null&&dd(t,e),t=Qr(t,l),t.flags|=4096;return t}return e=In(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function yu(e,t,n,l,u){return Qa(t),n=Jo(e,t,n,l,void 0,u),l=Po(),e!==null&&!Ct?(eu(e,t,u),Gn(e,t,u)):(Be&&l&&Ro(t),t.flags|=1,Vt(e,t,n,u),t.child)}function Em(e,t,n,l,u,f){return Qa(t),t.updateQueue=null,n=kd(t,l,n,u),Td(e),l=Po(),e!==null&&!Ct?(eu(e,t,f),Gn(e,t,f)):(Be&&l&&Ro(t),t.flags|=1,Vt(e,t,n,f),t.child)}function Mm(e,t,n,l,u){if(Qa(t),t.stateNode===null){var f=pl,v=n.contextType;typeof v=="object"&&v!==null&&(f=Ht(v)),f=new n(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=pu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},Qo(t),v=n.contextType,f.context=typeof v=="object"&&v!==null?Ht(v):pl,f.state=t.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(hu(t,n,v,l),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&pu.enqueueReplaceState(f,f.state,null),bi(t,l,f,u),xi(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var N=t.memoizedProps,R=Za(n,N);f.props=R;var X=f.context,ee=n.contextType;v=pl,typeof ee=="object"&&ee!==null&&(v=Ht(ee));var re=n.getDerivedStateFromProps;ee=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(N||X!==v)&&hm(t,f,l,v),da=!1;var $=t.memoizedState;f.state=$,bi(t,l,f,u),xi(),X=t.memoizedState,N||$!==X||da?(typeof re=="function"&&(hu(t,n,re,l),X=t.memoizedState),(R=da||mm(t,n,R,l,$,X,v))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=X),f.props=l,f.state=X,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,Go(e,t),v=t.memoizedProps,ee=Za(n,v),f.props=ee,re=t.pendingProps,$=f.context,X=n.contextType,R=pl,typeof X=="object"&&X!==null&&(R=Ht(X)),N=n.getDerivedStateFromProps,(X=typeof N=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==re||$!==R)&&hm(t,f,l,R),da=!1,$=t.memoizedState,f.state=$,bi(t,l,f,u),xi();var F=t.memoizedState;v!==re||$!==F||da||e!==null&&e.dependencies!==null&&Or(e.dependencies)?(typeof N=="function"&&(hu(t,n,N,l),F=t.memoizedState),(ee=da||mm(t,n,ee,l,$,F,R)||e!==null&&e.dependencies!==null&&Or(e.dependencies))?(X||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,R)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=F),f.props=l,f.state=F,f.context=R,l=ee):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,Gr(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=$a(t,e.child,null,u),t.child=$a(t,null,n,u)):Vt(e,t,n,u),t.memoizedState=f.state,e=t.child):e=Gn(e,t,u),e}function Tm(e,t,n,l){return qa(),t.flags|=256,Vt(e,t,n,l),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bu(e){return{baseLanes:e,cachePool:yd()}}function wu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=on),e}function km(e,t,n){var l=t.pendingProps,u=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(u?pa(t):ga(),(e=rt)?(e=Vh(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oa!==null?{id:On,overflow:En}:null,retryLane:536870912,hydrationErrors:null},n=ud(e),n.return=t,t.child=n,Lt=t,rt=null)):e=null,e===null)throw ca(t);return ac(e)?t.lanes=32:t.lanes=536870912,null}var N=l.children;return l=l.fallback,u?(ga(),u=t.mode,N=Xr({mode:"hidden",children:N},u),l=Ba(l,u,n,null),N.return=t,l.return=t,N.sibling=l,t.child=N,l=t.child,l.memoizedState=bu(n),l.childLanes=wu(e,v,n),t.memoizedState=xu,Ci(null,l)):(pa(t),Su(t,N))}var R=e.memoizedState;if(R!==null&&(N=R.dehydrated,N!==null)){if(f)t.flags&256?(pa(t),t.flags&=-257,t=Nu(e,t,n)):t.memoizedState!==null?(ga(),t.child=e.child,t.flags|=128,t=null):(ga(),N=l.fallback,u=t.mode,l=Xr({mode:"visible",children:l.children},u),N=Ba(N,u,n,null),N.flags|=2,l.return=t,N.return=t,l.sibling=N,t.child=l,$a(t,e.child,null,n),l=t.child,l.memoizedState=bu(n),l.childLanes=wu(e,v,n),t.memoizedState=xu,t=Ci(null,l));else if(pa(t),ac(N)){if(v=N.nextSibling&&N.nextSibling.dataset,v)var X=v.dgst;v=X,l=Error(o(419)),l.stack="",l.digest=v,mi({value:l,source:null,stack:null}),t=Nu(e,t,n)}else if(Ct||xl(e,t,n,!1),v=(n&e.childLanes)!==0,Ct||v){if(v=it,v!==null&&(l=Da(v,n),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ua(e,l),en(v,e,l),vu;nc(N)||ts(),t=Nu(e,t,n)}else nc(N)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,rt=bn(N.nextSibling),Lt=t,Be=!0,ua=null,yn=!1,e!==null&&dd(t,e),t=Su(t,l.children),t.flags|=4096);return t}return u?(ga(),N=l.fallback,u=t.mode,R=e.child,X=R.sibling,l=In(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,X!==null?N=In(X,N):(N=Ba(N,u,n,null),N.flags|=2),N.return=t,l.return=t,l.sibling=N,t.child=l,Ci(null,l),l=t.child,N=e.child.memoizedState,N===null?N=bu(n):(u=N.cachePool,u!==null?(R=Nt._currentValue,u=u.parent!==R?{parent:R,pool:R}:u):u=yd(),N={baseLanes:N.baseLanes|n,cachePool:u}),l.memoizedState=N,l.childLanes=wu(e,v,n),t.memoizedState=xu,Ci(e.child,l)):(pa(t),n=e.child,e=n.sibling,n=In(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=n,t.memoizedState=null,n)}function Su(e,t){return t=Xr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xr(e,t){return e=an(22,e,null,t),e.lanes=0,e}function Nu(e,t,n){return $a(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Am(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Vo(e.return,t,n)}function ju(e,t,n,l,u,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:f}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=n,v.tailMode=u,v.treeForkCount=f)}function _m(e,t,n){var l=t.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var v=bt.current,N=(v&2)!==0;if(N?(v=v&1|2,t.flags|=128):v&=1,J(bt,v),Vt(e,t,l,n),l=Be?di:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Am(e,n,t);else if(e.tag===19)Am(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Dr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),ju(t,!1,u,n,f,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Dr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}ju(t,!0,n,null,f,l);break;case"together":ju(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(xl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=In(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=In(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Or(e)))}function Vv(e,t,n){switch(t.tag){case 3:he(t,t.stateNode.containerInfo),fa(t,Nt,e.memoizedState.cache),qa();break;case 27:case 5:we(t);break;case 4:he(t,t.stateNode.containerInfo);break;case 10:fa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(pa(t),t.flags|=128,null):(n&t.child.childLanes)!==0?km(e,t,n):(pa(t),e=Gn(e,t,n),e!==null?e.sibling:null);pa(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(xl(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return _m(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),J(bt,bt.current),l)break;return null;case 22:return t.lanes=0,jm(e,t,n,t.pendingProps);case 24:fa(t,Nt,e.memoizedState.cache)}return Gn(e,t,n)}function Rm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!Cu(e,n)&&(t.flags&128)===0)return Ct=!1,Vv(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,Be&&(t.flags&1048576)!==0&&fd(t,di,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Xa(t.elementType),t.type=e,typeof e=="function")ko(e)?(l=Za(e,l),t.tag=1,t=Mm(null,t,e,l,n)):(t.tag=0,t=yu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===_){t.tag=11,t=wm(null,t,e,l,n);break e}else if(u===H){t.tag=14,t=Sm(null,t,e,l,n);break e}}throw t=ae(e)||e,Error(o(306,t,""))}}return t;case 0:return yu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=Za(l,t.pendingProps),Mm(e,t,l,u,n);case 3:e:{if(he(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var f=t.memoizedState;u=f.element,Go(e,t),bi(t,l,null,n);var v=t.memoizedState;if(l=v.cache,fa(t,Nt,l),l!==f.cache&&Io(t,[Nt],n,!0),xi(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Tm(e,t,l,n);break e}else if(l!==u){u=pn(Error(o(424)),t),mi(u),t=Tm(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,rt=bn(e.firstChild),Lt=t,Be=!0,ua=null,yn=!0,n=jd(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),l===u){t=Gn(e,t,n);break e}Vt(e,t,l,n)}t=t.child}return t;case 26:return Gr(e,t),e===null?(n=Qh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Be||(n=t.type,e=t.pendingProps,l=os(fe.current).createElement(n),l[Ye]=t,l[St]=e,It(l,n,e),Rt(l),t.stateNode=l):t.memoizedState=Qh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Be&&(l=t.stateNode=Bh(t.type,t.pendingProps,fe.current),Lt=t,yn=!0,u=rt,ja(t.type)?(lc=u,rt=bn(l.firstChild)):rt=u),Vt(e,t,t.pendingProps.children,n),Gr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Be&&((u=l=rt)&&(l=hy(l,t.type,t.pendingProps,yn),l!==null?(t.stateNode=l,Lt=t,rt=bn(l.firstChild),yn=!1,u=!0):u=!1),u||ca(t)),we(t),u=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,Pu(u,f)?l=null:v!==null&&Pu(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=Jo(e,t,Tv,null,null,n),Ui._currentValue=u),Gr(e,t),Vt(e,t,l,n),t.child;case 6:return e===null&&Be&&((e=n=rt)&&(n=py(n,t.pendingProps,yn),n!==null?(t.stateNode=n,Lt=t,rt=null,e=!0):e=!1),e||ca(t)),null;case 13:return km(e,t,n);case 4:return he(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=$a(t,null,l,n):Vt(e,t,l,n),t.child;case 11:return wm(e,t,t.type,t.pendingProps,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,fa(t,t.type,l.value),Vt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Qa(t),u=Ht(u),l=l(u),t.flags|=1,Vt(e,t,l,n),t.child;case 14:return Sm(e,t,t.type,t.pendingProps,n);case 15:return Nm(e,t,t.type,t.pendingProps,n);case 19:return _m(e,t,n);case 31:return Hv(e,t,n);case 22:return jm(e,t,n,t.pendingProps);case 24:return Qa(t),l=Ht(Nt),e===null?(u=qo(),u===null&&(u=it,f=Uo(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=n),u=f),t.memoizedState={parent:l,cache:u},Qo(t),fa(t,Nt,u)):((e.lanes&n)!==0&&(Go(e,t),bi(t,null,null,n),xi()),u=e.memoizedState,f=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),fa(t,Nt,l)):(l=f.cache,fa(t,Nt,l),l!==u.cache&&Io(t,[Nt],n,!0))),Vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xn(e){e.flags|=4}function Ou(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(rh())e.flags|=8192;else throw Wa=kr,Yo}else e.flags&=-16777217}function Dm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fh(t))if(rh())e.flags|=8192;else throw Wa=kr,Yo}function Wr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sr():536870912,e.lanes|=t,Al|=t)}function Oi(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Iv(e,t,n){var l=t.pendingProps;switch(Do(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return st(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),qn(Nt),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yl(t)?Xn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lo())),st(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(Xn(t),f!==null?(st(t),Dm(t,f)):(st(t),Ou(t,u,null,l,n))):f?f!==e.memoizedState?(Xn(t),st(t),Dm(t,f)):(st(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Xn(t),st(t),Ou(t,u,e,l,n)),null;case 27:if(je(t),n=fe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Xn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return st(t),null}e=ie.current,yl(t)?md(t):(e=Bh(u,l,n),t.stateNode=e,Xn(t))}return st(t),null;case 5:if(je(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Xn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return st(t),null}if(f=ie.current,yl(t))md(t);else{var v=os(fe.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(u,{is:l.is}):v.createElement(u)}}f[Ye]=t,f[St]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=f;e:switch(It(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xn(t)}}return st(t),Ou(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Xn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=fe.current,yl(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Lt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Ye]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||kh(e.nodeValue,n)),e||ca(t,!0)}else e=os(e).createTextNode(l),e[Ye]=t,t.stateNode=e}return st(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=yl(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ye]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;st(t),e=!1}else n=Lo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rn(t),t):(rn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return st(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=yl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[Ye]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;st(t),u=!1}else u=Lo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(rn(t),t):(rn(t),null)}return rn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Wr(t,t.updateQueue),st(t),null);case 4:return Y(),e===null&&$u(t.stateNode.containerInfo),st(t),null;case 10:return qn(t.type),st(t),null;case 19:if(q(bt),l=t.memoizedState,l===null)return st(t),null;if(u=(t.flags&128)!==0,f=l.rendering,f===null)if(u)Oi(l,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Dr(e),f!==null){for(t.flags|=128,Oi(l,!1),e=f.updateQueue,t.updateQueue=e,Wr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)od(n,e),n=n.sibling;return J(bt,bt.current&1|2),Be&&Un(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&pe()>Jr&&(t.flags|=128,u=!0,Oi(l,!1),t.lanes=4194304)}else{if(!u)if(e=Dr(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Wr(t,e),Oi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return st(t),null}else 2*pe()-l.renderingStartTime>Jr&&n!==536870912&&(t.flags|=128,u=!0,Oi(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=pe(),e.sibling=null,n=bt.current,J(bt,u?n&1|2:n&1),Be&&Un(t,l.treeForkCount),e):(st(t),null);case 22:case 23:return rn(t),Fo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),n=t.updateQueue,n!==null&&Wr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&q(Ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),qn(Nt),st(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Uv(e,t){switch(Do(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(Nt),Y(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return je(t),null;case 31:if(t.memoizedState!==null){if(rn(t),t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(bt),null;case 4:return Y(),null;case 10:return qn(t.type),null;case 22:case 23:return rn(t),Fo(),e!==null&&q(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qn(Nt),null;case 25:return null;default:return null}}function zm(e,t){switch(Do(t),t.tag){case 3:qn(Nt),Y();break;case 26:case 27:case 5:je(t);break;case 4:Y();break;case 31:t.memoizedState!==null&&rn(t);break;case 13:rn(t);break;case 19:q(bt);break;case 10:qn(t.type);break;case 22:case 23:rn(t),Fo(),e!==null&&q(Ga);break;case 24:qn(Nt)}}function Ei(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var f=n.create,v=n.inst;l=f(),v.destroy=l}n=n.next}while(n!==u)}}catch(N){et(t,t.return,N)}}function va(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var v=l.inst,N=v.destroy;if(N!==void 0){v.destroy=void 0,u=t;var R=n,X=N;try{X()}catch(ee){et(u,R,ee)}}}l=l.next}while(l!==f)}}catch(ee){et(t,t.return,ee)}}function Lm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Od(t,n)}catch(l){et(e,e.return,l)}}}function Hm(e,t,n){n.props=Za(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){et(e,t,l)}}function Mi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){et(e,t,u)}}function Mn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){et(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){et(e,t,u)}else n.current=null}function Vm(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){et(e,e.return,u)}}function Eu(e,t,n){try{var l=e.stateNode;oy(l,e.type,n,t),l[St]=t}catch(u){et(e,e.return,u)}}function Im(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ja(e.type)||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hn));else if(l!==4&&(l===27&&ja(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Tu(e,t,n),e=e.sibling;e!==null;)Tu(e,t,n),e=e.sibling}function $r(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&ja(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($r(e,t,n),e=e.sibling;e!==null;)$r(e,t,n),e=e.sibling}function Um(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);It(t,l,n),t[Ye]=e,t[St]=n}catch(f){et(e,e.return,f)}}var Wn=!1,Ot=!1,ku=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Bv(e,t){if(e=e.containerInfo,Ku=ps,e=Pf(e),No(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var v=0,N=-1,R=-1,X=0,ee=0,re=e,$=null;t:for(;;){for(var F;re!==n||u!==0&&re.nodeType!==3||(N=v+u),re!==f||l!==0&&re.nodeType!==3||(R=v+l),re.nodeType===3&&(v+=re.nodeValue.length),(F=re.firstChild)!==null;)$=re,re=F;for(;;){if(re===e)break t;if($===n&&++X===u&&(N=v),$===f&&++ee===l&&(R=v),(F=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=F}n=N===-1||R===-1?null:{start:N,end:R}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:e,selectionRange:n},ps=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){switch(t=Dt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,u=f.memoizedProps,f=f.memoizedState,l=n.stateNode;try{var ve=Za(n.type,u);e=l.getSnapshotBeforeUpdate(ve,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){et(n,n.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)tc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function qm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n),l&4&&Ei(5,n);break;case 1:if(Fn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){et(n,n.return,v)}else{var u=Za(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){et(n,n.return,v)}}l&64&&Lm(n),l&512&&Mi(n,n.return);break;case 3:if(Fn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Od(e,t)}catch(v){et(n,n.return,v)}}break;case 27:t===null&&l&4&&Um(n);case 26:case 5:Fn(e,n),t===null&&l&4&&Vm(n),l&512&&Mi(n,n.return);break;case 12:Fn(e,n);break;case 31:Fn(e,n),l&4&&Gm(e,n);break;case 13:Fn(e,n),l&4&&Xm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Zv.bind(null,n),gy(e,n))));break;case 22:if(l=n.memoizedState!==null||Wn,!l){t=t!==null&&t.memoizedState!==null||Ot,u=Wn;var f=Ot;Wn=l,(Ot=t)&&!f?Zn(e,n,(n.subtreeFlags&8772)!==0):Fn(e,n),Wn=u,Ot=f}break;case 30:break;default:Fn(e,n)}}function Ym(e){var t=e.alternate;t!==null&&(e.alternate=null,Ym(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&io(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,Zt=!1;function $n(e,t,n){for(n=n.child;n!==null;)Qm(e,t,n),n=n.sibling}function Qm(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(zt,n)}catch{}switch(n.tag){case 26:Ot||Mn(n,t),$n(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ot||Mn(n,t);var l=ct,u=Zt;ja(n.type)&&(ct=n.stateNode,Zt=!1),$n(e,t,n),Hi(n.stateNode),ct=l,Zt=u;break;case 5:Ot||Mn(n,t);case 6:if(l=ct,u=Zt,ct=null,$n(e,t,n),ct=l,Zt=u,ct!==null)if(Zt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(n.stateNode)}catch(f){et(n,t,f)}else try{ct.removeChild(n.stateNode)}catch(f){et(n,t,f)}break;case 18:ct!==null&&(Zt?(e=ct,Lh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Il(e)):Lh(ct,n.stateNode));break;case 4:l=ct,u=Zt,ct=n.stateNode.containerInfo,Zt=!0,$n(e,t,n),ct=l,Zt=u;break;case 0:case 11:case 14:case 15:va(2,n,t),Ot||va(4,n,t),$n(e,t,n);break;case 1:Ot||(Mn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Hm(n,t,l)),$n(e,t,n);break;case 21:$n(e,t,n);break;case 22:Ot=(l=Ot)||n.memoizedState!==null,$n(e,t,n),Ot=l;break;default:$n(e,t,n)}}function Gm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Il(e)}catch(n){et(t,t.return,n)}}}function Xm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Il(e)}catch(n){et(t,t.return,n)}}function qv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Bm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Bm),t;default:throw Error(o(435,e.tag))}}function Fr(e,t){var n=qv(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=Kv.bind(null,e,l);l.then(u,u)}})}function Kt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],f=e,v=t,N=v;e:for(;N!==null;){switch(N.tag){case 27:if(ja(N.type)){ct=N.stateNode,Zt=!1;break e}break;case 5:ct=N.stateNode,Zt=!1;break e;case 3:case 4:ct=N.stateNode.containerInfo,Zt=!0;break e}N=N.return}if(ct===null)throw Error(o(160));Qm(f,v,u),ct=null,Zt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Wm(t,e),t=t.sibling}var jn=null;function Wm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Jt(e),l&4&&(va(3,e,e.return),Ei(3,e),va(5,e,e.return));break;case 1:Kt(t,e),Jt(e),l&512&&(Ot||n===null||Mn(n,n.return)),l&64&&Wn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=jn;if(Kt(t,e),Jt(e),l&512&&(Ot||n===null||Mn(n,n.return)),l&4){var f=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[ti]||f[Ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),It(f,l,n),f[Ye]=e,Rt(f),l=f;break e;case"link":var v=Wh("link","href",u).get(l+(n.href||""));if(v){for(var N=0;N<v.length;N++)if(f=v[N],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(N,1);break t}}f=u.createElement(l),It(f,l,n),u.head.appendChild(f);break;case"meta":if(v=Wh("meta","content",u).get(l+(n.content||""))){for(N=0;N<v.length;N++)if(f=v[N],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(N,1);break t}}f=u.createElement(l),It(f,l,n),u.head.appendChild(f);break;default:throw Error(o(468,l))}f[Ye]=e,Rt(f),l=f}e.stateNode=l}else $h(u,e.type,e.stateNode);else e.stateNode=Xh(u,l,e.memoizedProps);else f!==l?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,l===null?$h(u,e.type,e.stateNode):Xh(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Eu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kt(t,e),Jt(e),l&512&&(Ot||n===null||Mn(n,n.return)),n!==null&&l&4&&Eu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kt(t,e),Jt(e),l&512&&(Ot||n===null||Mn(n,n.return)),e.flags&32){u=e.stateNode;try{ol(u,"")}catch(ve){et(e,e.return,ve)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,Eu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(ku=!0);break;case 6:if(Kt(t,e),Jt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ve){et(e,e.return,ve)}}break;case 3:if(fs=null,u=jn,jn=us(t.containerInfo),Kt(t,e),jn=u,Jt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(ve){et(e,e.return,ve)}ku&&(ku=!1,$m(e));break;case 4:l=jn,jn=us(e.stateNode.containerInfo),Kt(t,e),Jt(e),jn=l;break;case 12:Kt(t,e),Jt(e);break;case 31:Kt(t,e),Jt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 13:Kt(t,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Kr=pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 22:u=e.memoizedState!==null;var R=n!==null&&n.memoizedState!==null,X=Wn,ee=Ot;if(Wn=X||u,Ot=ee||R,Kt(t,e),Ot=ee,Wn=X,Jt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||R||Wn||Ot||Ka(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){R=n=t;try{if(f=R.stateNode,u)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{N=R.stateNode;var re=R.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ve){et(R,R.return,ve)}}}else if(t.tag===6){if(n===null){R=t;try{R.stateNode.nodeValue=u?"":R.memoizedProps}catch(ve){et(R,R.return,ve)}}}else if(t.tag===18){if(n===null){R=t;try{var F=R.stateNode;u?Hh(F,!0):Hh(R.stateNode,!1)}catch(ve){et(R,R.return,ve)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Fr(e,n))));break;case 19:Kt(t,e),Jt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 30:break;case 21:break;default:Kt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Im(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var u=n.stateNode,f=Mu(e);$r(e,f,u);break;case 5:var v=n.stateNode;n.flags&32&&(ol(v,""),n.flags&=-33);var N=Mu(e);$r(e,N,v);break;case 3:case 4:var R=n.stateNode.containerInfo,X=Mu(e);Tu(e,X,R);break;default:throw Error(o(161))}}catch(ee){et(e,e.return,ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$m(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)qm(e,t.alternate,t),t=t.sibling}function Ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:va(4,t,t.return),Ka(t);break;case 1:Mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Hm(t,t.return,n),Ka(t);break;case 27:Hi(t.stateNode);case 26:case 5:Mn(t,t.return),Ka(t);break;case 22:t.memoizedState===null&&Ka(t);break;case 30:Ka(t);break;default:Ka(t)}e=e.sibling}}function Zn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:Zn(u,f,n),Ei(4,f);break;case 1:if(Zn(u,f,n),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(X){et(l,l.return,X)}if(l=f,u=l.updateQueue,u!==null){var N=l.stateNode;try{var R=u.shared.hiddenCallbacks;if(R!==null)for(u.shared.hiddenCallbacks=null,u=0;u<R.length;u++)Cd(R[u],N)}catch(X){et(l,l.return,X)}}n&&v&64&&Lm(f),Mi(f,f.return);break;case 27:Um(f);case 26:case 5:Zn(u,f,n),n&&l===null&&v&4&&Vm(f),Mi(f,f.return);break;case 12:Zn(u,f,n);break;case 31:Zn(u,f,n),n&&v&4&&Gm(u,f);break;case 13:Zn(u,f,n),n&&v&4&&Xm(u,f);break;case 22:f.memoizedState===null&&Zn(u,f,n),Mi(f,f.return);break;case 30:break;default:Zn(u,f,n)}t=t.sibling}}function Au(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&hi(n))}function _u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hi(e))}function Cn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fm(e,t,n,l),t=t.sibling}function Fm(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Cn(e,t,n,l),u&2048&&Ei(9,t);break;case 1:Cn(e,t,n,l);break;case 3:Cn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hi(e)));break;case 12:if(u&2048){Cn(e,t,n,l),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,N=f.onPostCommit;typeof N=="function"&&N(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){et(t,t.return,R)}}else Cn(e,t,n,l);break;case 31:Cn(e,t,n,l);break;case 13:Cn(e,t,n,l);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?Cn(e,t,n,l):Ti(e,t):f._visibility&2?Cn(e,t,n,l):(f._visibility|=2,Ml(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Au(v,t);break;case 24:Cn(e,t,n,l),u&2048&&_u(t.alternate,t);break;default:Cn(e,t,n,l)}}function Ml(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,v=t,N=n,R=l,X=v.flags;switch(v.tag){case 0:case 11:case 15:Ml(f,v,N,R,u),Ei(8,v);break;case 23:break;case 22:var ee=v.stateNode;v.memoizedState!==null?ee._visibility&2?Ml(f,v,N,R,u):Ti(f,v):(ee._visibility|=2,Ml(f,v,N,R,u)),u&&X&2048&&Au(v.alternate,v);break;case 24:Ml(f,v,N,R,u),u&&X&2048&&_u(v.alternate,v);break;default:Ml(f,v,N,R,u)}t=t.sibling}}function Ti(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Ti(n,l),u&2048&&Au(l.alternate,l);break;case 24:Ti(n,l),u&2048&&_u(l.alternate,l);break;default:Ti(n,l)}t=t.sibling}}var ki=8192;function Tl(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)Zm(e,t,n),e=e.sibling}function Zm(e,t,n){switch(e.tag){case 26:Tl(e,t,n),e.flags&ki&&e.memoizedState!==null&&My(n,jn,e.memoizedState,e.memoizedProps);break;case 5:Tl(e,t,n);break;case 3:case 4:var l=jn;jn=us(e.stateNode.containerInfo),Tl(e,t,n),jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Tl(e,t,n),ki=l):Tl(e,t,n));break;default:Tl(e,t,n)}}function Km(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ai(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Dt=l,Pm(l,e)}Km(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jm(e),e=e.sibling}function Jm(e){switch(e.tag){case 0:case 11:case 15:Ai(e),e.flags&2048&&va(9,e,e.return);break;case 3:Ai(e);break;case 12:Ai(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zr(e)):Ai(e);break;default:Ai(e)}}function Zr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Dt=l,Pm(l,e)}Km(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:va(8,t,t.return),Zr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Zr(t));break;default:Zr(t)}e=e.sibling}}function Pm(e,t){for(;Dt!==null;){var n=Dt;switch(n.tag){case 0:case 11:case 15:va(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Dt=l;else e:for(n=e;Dt!==null;){l=Dt;var u=l.sibling,f=l.return;if(Ym(l),l===n){Dt=null;break e}if(u!==null){u.return=f,Dt=u;break e}Dt=f}}}var Yv={getCacheForType:function(e){var t=Ht(Nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ht(Nt).controller.signal}},Qv=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Le=null,Ie=0,Pe=0,sn=null,ya=!1,kl=!1,Ru=!1,Kn=0,ht=0,xa=0,Ja=0,Du=0,on=0,Al=0,_i=null,Pt=null,zu=!1,Kr=0,eh=0,Jr=1/0,Pr=null,ba=null,kt=0,wa=null,_l=null,Jn=0,Lu=0,Hu=null,th=null,Ri=0,Vu=null;function un(){return($e&2)!==0&&Ie!==0?Ie&-Ie:D.T!==null?Qu():U()}function nh(){if(on===0)if((Ie&536870912)===0||Be){var e=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),on=e}else on=536870912;return e=ln.current,e!==null&&(e.flags|=32),on}function en(e,t,n){(e===it&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(Rl(e,0),Sa(e,Ie,on,!1)),Ra(e,n),(($e&2)===0||e!==it)&&(e===it&&(($e&2)===0&&(Ja|=n),ht===4&&Sa(e,Ie,on,!1)),Tn(e))}function ah(e,t,n){if(($e&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||fn(e,t),u=l?Wv(e,t):Uu(e,t,!0),f=l;do{if(u===0){kl&&!l&&Sa(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!Gv(n)){u=Uu(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var N=e;u=_i;var R=N.current.memoizedState.isDehydrated;if(R&&(Rl(N,v).flags|=256),v=Uu(N,v,!1),v!==2){if(Ru&&!R){N.errorRecoveryDisabledLanes|=f,Ja|=f,u=4;break e}f=Pt,Pt=u,f!==null&&(Pt===null?Pt=f:Pt.push.apply(Pt,f))}u=v}if(f=!1,u!==2)continue}}if(u===1){Rl(e,0),Sa(e,t,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Sa(l,t,on,!ya);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(u=Kr+300-pe(),10<u)){if(Sa(l,t,on,!ya),Xt(l,0,!0)!==0)break e;Jn=t,l.timeoutHandle=Dh(lh.bind(null,l,n,Pt,Pr,zu,t,on,Ja,Al,ya,f,"Throttled",-0,0),u);break e}lh(l,n,Pt,Pr,zu,t,on,Ja,Al,ya,f,null,-0,0)}}break}while(!0);Tn(e)}function lh(e,t,n,l,u,f,v,N,R,X,ee,re,$,F){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Zm(t,f,re);var ve=(f&62914560)===f?Kr-pe():(f&4194048)===f?eh-pe():0;if(ve=Ty(re,ve),ve!==null){Jn=f,e.cancelPendingCommit=ve(dh.bind(null,e,t,f,n,l,u,v,N,R,ee,re,null,$,F)),Sa(e,f,v,!X);return}}dh(e,t,f,n,l,u,v,N,R)}function Gv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],f=u.getSnapshot;u=u.value;try{if(!nn(f(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sa(e,t,n,l){t&=~Du,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var f=31-Mt(u),v=1<<f;l[f]=-1,u&=~v}n!==0&&or(e,n,t)}function es(){return($e&6)===0?(Di(0),!1):!0}function Iu(){if(Le!==null){if(Pe===0)var e=Le.return;else e=Le,Bn=Ya=null,tu(e),Nl=null,gi=0,e=Le;for(;e!==null;)zm(e.alternate,e),e=e.return;Le=null}}function Rl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,fy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Jn=0,Iu(),it=e,Le=n=In(e.current,null),Ie=t,Pe=0,sn=null,ya=!1,kl=fn(e,t),Ru=!1,Al=on=Du=Ja=xa=ht=0,Pt=_i=null,zu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Mt(l),f=1<<u;t|=e[u],l&=~f}return Kn=t,wr(),n}function ih(e,t){_e=null,D.H=ji,t===Sl||t===Tr?(t=wd(),Pe=3):t===Yo?(t=wd(),Pe=4):Pe=t===vu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,Le===null&&(ht=1,Yr(e,pn(t,e.current)))}function rh(){var e=ln.current;return e===null?!0:(Ie&4194048)===Ie?xn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?e===xn:!1}function sh(){var e=D.H;return D.H=ji,e===null?ji:e}function oh(){var e=D.A;return D.A=Yv,e}function ts(){ht=4,ya||(Ie&4194048)!==Ie&&ln.current!==null||(kl=!0),(xa&134217727)===0&&(Ja&134217727)===0||it===null||Sa(it,Ie,on,!1)}function Uu(e,t,n){var l=$e;$e|=2;var u=sh(),f=oh();(it!==e||Ie!==t)&&(Pr=null,Rl(e,t)),t=!1;var v=ht;e:do try{if(Pe!==0&&Le!==null){var N=Le,R=sn;switch(Pe){case 8:Iu(),v=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(t=!0);var X=Pe;if(Pe=0,sn=null,Dl(e,N,R,X),n&&kl){v=0;break e}break;default:X=Pe,Pe=0,sn=null,Dl(e,N,R,X)}}Xv(),v=ht;break}catch(ee){ih(e,ee)}while(!0);return t&&e.shellSuspendCounter++,Bn=Ya=null,$e=l,D.H=u,D.A=f,Le===null&&(it=null,Ie=0,wr()),v}function Xv(){for(;Le!==null;)uh(Le)}function Wv(e,t){var n=$e;$e|=2;var l=sh(),u=oh();it!==e||Ie!==t?(Pr=null,Jr=pe()+500,Rl(e,t)):kl=fn(e,t);e:do try{if(Pe!==0&&Le!==null){t=Le;var f=sn;t:switch(Pe){case 1:Pe=0,sn=null,Dl(e,t,f,1);break;case 2:case 9:if(xd(f)){Pe=0,sn=null,ch(t);break}t=function(){Pe!==2&&Pe!==9||it!==e||(Pe=7),Tn(e)},f.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:xd(f)?(Pe=0,sn=null,ch(t)):(Pe=0,sn=null,Dl(e,t,f,7));break;case 5:var v=null;switch(Le.tag){case 26:v=Le.memoizedState;case 5:case 27:var N=Le;if(v?Fh(v):N.stateNode.complete){Pe=0,sn=null;var R=N.sibling;if(R!==null)Le=R;else{var X=N.return;X!==null?(Le=X,ns(X)):Le=null}break t}}Pe=0,sn=null,Dl(e,t,f,5);break;case 6:Pe=0,sn=null,Dl(e,t,f,6);break;case 8:Iu(),ht=6;break e;default:throw Error(o(462))}}$v();break}catch(ee){ih(e,ee)}while(!0);return Bn=Ya=null,D.H=l,D.A=u,$e=n,Le!==null?0:(it=null,Ie=0,wr(),ht)}function $v(){for(;Le!==null&&!Sn();)uh(Le)}function uh(e){var t=Rm(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?ns(e):Le=t}function ch(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Em(n,t,t.pendingProps,t.type,void 0,Ie);break;case 11:t=Em(n,t,t.pendingProps,t.type.render,t.ref,Ie);break;case 5:tu(t);default:zm(n,t),t=Le=od(t,Kn),t=Rm(n,t,Kn)}e.memoizedProps=e.pendingProps,t===null?ns(e):Le=t}function Dl(e,t,n,l){Bn=Ya=null,tu(t),Nl=null,gi=0;var u=t.return;try{if(Lv(e,u,t,n,Ie)){ht=1,Yr(e,pn(n,e.current)),Le=null;return}}catch(f){if(u!==null)throw Le=u,f;ht=1,Yr(e,pn(n,e.current)),Le=null;return}t.flags&32768?(Be||l===1?e=!0:kl||(Ie&536870912)!==0?e=!1:(ya=e=!0,(l===2||l===9||l===3||l===6)&&(l=ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),fh(t,e)):ns(t)}function ns(e){var t=e;do{if((t.flags&32768)!==0){fh(t,ya);return}e=t.return;var n=Iv(t.alternate,t,Kn);if(n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ht===0&&(ht=5)}function fh(e,t){do{var n=Uv(e.alternate,e);if(n!==null){n.flags&=32767,Le=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Le=e;return}Le=e=n}while(e!==null);ht=6,Le=null}function dh(e,t,n,l,u,f,v,N,R){e.cancelPendingCommit=null;do as();while(kt!==0);if(($e&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=Mo,ia(e,n,f,v,N,R),e===it&&(Le=it=null,Ie=0),_l=t,wa=e,Jn=n,Lu=f,Hu=u,th=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jv(ze,function(){return vh(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,u=Q.p,Q.p=2,v=$e,$e|=4;try{Bv(e,t,n)}finally{$e=v,Q.p=u,D.T=l}}kt=1,mh(),hh(),ph()}}function mh(){if(kt===1){kt=0;var e=wa,t=_l,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var l=Q.p;Q.p=2;var u=$e;$e|=4;try{Wm(t,e);var f=Ju,v=Pf(e.containerInfo),N=f.focusedElem,R=f.selectionRange;if(v!==N&&N&&N.ownerDocument&&Jf(N.ownerDocument.documentElement,N)){if(R!==null&&No(N)){var X=R.start,ee=R.end;if(ee===void 0&&(ee=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(ee,N.value.length);else{var re=N.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var F=$.getSelection(),ve=N.textContent.length,Ee=Math.min(R.start,ve),lt=R.end===void 0?Ee:Math.min(R.end,ve);!F.extend&&Ee>lt&&(v=lt,lt=Ee,Ee=v);var I=Kf(N,Ee),z=Kf(N,lt);if(I&&z&&(F.rangeCount!==1||F.anchorNode!==I.node||F.anchorOffset!==I.offset||F.focusNode!==z.node||F.focusOffset!==z.offset)){var G=re.createRange();G.setStart(I.node,I.offset),F.removeAllRanges(),Ee>lt?(F.addRange(G),F.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),F.addRange(G))}}}}for(re=[],F=N;F=F.parentNode;)F.nodeType===1&&re.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<re.length;N++){var ne=re[N];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ps=!!Ku,Ju=Ku=null}finally{$e=u,Q.p=l,D.T=n}}e.current=t,kt=2}}function hh(){if(kt===2){kt=0;var e=wa,t=_l,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var l=Q.p;Q.p=2;var u=$e;$e|=4;try{qm(e,t.alternate,t)}finally{$e=u,Q.p=l,D.T=n}}kt=3}}function ph(){if(kt===4||kt===3){kt=0,zn();var e=wa,t=_l,n=Jn,l=th;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?kt=5:(kt=0,_l=wa=null,gh(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ba=null),za(n),t=t.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(zt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,u=Q.p,Q.p=2,D.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var N=l[v];f(N.value,{componentStack:N.stack})}}finally{D.T=t,Q.p=u}}(Jn&3)!==0&&as(),Tn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Vu?Ri++:(Ri=0,Vu=e):Ri=0,Di(0)}}function gh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hi(t)))}function as(){return mh(),hh(),ph(),vh()}function vh(){if(kt!==5)return!1;var e=wa,t=Lu;Lu=0;var n=za(Jn),l=D.T,u=Q.p;try{Q.p=32>n?32:n,D.T=null,n=Hu,Hu=null;var f=wa,v=Jn;if(kt=0,_l=wa=null,Jn=0,($e&6)!==0)throw Error(o(331));var N=$e;if($e|=4,Jm(f.current),Fm(f,f.current,v,n),$e=N,Di(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(zt,f)}catch{}return!0}finally{Q.p=u,D.T=l,gh(e,t)}}function yh(e,t,n){t=pn(n,t),t=gu(e.stateNode,t,2),e=ha(e,t,2),e!==null&&(Ra(e,2),Tn(e))}function et(e,t,n){if(e.tag===3)yh(e,e,n);else for(;t!==null;){if(t.tag===3){yh(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ba===null||!ba.has(l))){e=pn(n,e),n=xm(2),l=ha(t,n,2),l!==null&&(bm(n,l,t,e),Ra(l,2),Tn(l));break}}t=t.return}}function Bu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Qv;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(Ru=!0,u.add(n),e=Fv.bind(null,e,t,n),t.then(e,e))}function Fv(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,it===e&&(Ie&n)===n&&(ht===4||ht===3&&(Ie&62914560)===Ie&&300>pe()-Kr?($e&2)===0&&Rl(e,0):Du|=n,Al===Ie&&(Al=0)),Tn(e)}function xh(e,t){t===0&&(t=sr()),e=Ua(e,t),e!==null&&(Ra(e,t),Tn(e))}function Zv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xh(e,n)}function Kv(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),xh(e,n)}function Jv(e,t){return vt(e,t)}var ls=null,zl=null,qu=!1,is=!1,Yu=!1,Na=0;function Tn(e){e!==zl&&e.next===null&&(zl===null?ls=zl=e:zl=zl.next=e),is=!0,qu||(qu=!0,ey())}function Di(e,t){if(!Yu&&is){Yu=!0;do for(var n=!1,l=ls;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var v=l.suspendedLanes,N=l.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=u&~(v&~N),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,Nh(l,f))}else f=Ie,f=Xt(l,l===it?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||fn(l,f)||(n=!0,Nh(l,f));l=l.next}while(n);Yu=!1}}function Pv(){bh()}function bh(){is=qu=!1;var e=0;Na!==0&&cy()&&(e=Na);for(var t=pe(),n=null,l=ls;l!==null;){var u=l.next,f=wh(l,t);f===0?(l.next=null,n===null?ls=u:n.next=u,u===null&&(zl=n)):(n=l,(e!==0||(f&3)!==0)&&(is=!0)),l=u}kt!==0&&kt!==5||Di(e),Na!==0&&(Na=0)}function wh(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Mt(f),N=1<<v,R=u[v];R===-1?((N&n)===0||(N&l)!==0)&&(u[v]=nl(N,t)):R<=t&&(e.expiredLanes|=N),f&=~N}if(t=it,n=Ie,n=Xt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Bt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||fn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Bt(l),za(n)){case 2:case 8:n=xe;break;case 32:n=ze;break;case 268435456:n=tt;break;default:n=ze}return l=Sh.bind(null,e),n=vt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Bt(l),e.callbackPriority=2,e.callbackNode=null,2}function Sh(e,t){if(kt!==0&&kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(as()&&e.callbackNode!==n)return null;var l=Ie;return l=Xt(e,e===it?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ah(e,l,t),wh(e,pe()),e.callbackNode!=null&&e.callbackNode===n?Sh.bind(null,e):null)}function Nh(e,t){if(as())return null;ah(e,t,!0)}function ey(){dy(function(){($e&6)!==0?vt(ke,Pv):bh()})}function Qu(){if(Na===0){var e=bl;e===0&&(e=Ve,Ve<<=1,(Ve&261888)===0&&(Ve=256)),Na=e}return Na}function jh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mr(""+e)}function Ch(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ty(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var f=jh((u[St]||null).action),v=l.submitter;v&&(t=(t=v[St]||null)?jh(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var N=new vr("action","action",null,l,u);e.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var R=v?Ch(u,v):new FormData(u);cu(n,{pending:!0,data:R,method:u.method,action:f},null,R)}}else typeof f=="function"&&(N.preventDefault(),R=v?Ch(u,v):new FormData(u),cu(n,{pending:!0,data:R,method:u.method,action:f},f,R))},currentTarget:u}]})}}for(var Gu=0;Gu<Eo.length;Gu++){var Xu=Eo[Gu],ny=Xu.toLowerCase(),ay=Xu[0].toUpperCase()+Xu.slice(1);Nn(ny,"on"+ay)}Nn(nd,"onAnimationEnd"),Nn(ad,"onAnimationIteration"),Nn(ld,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(xv,"onTransitionRun"),Nn(bv,"onTransitionStart"),Nn(wv,"onTransitionCancel"),Nn(id,"onTransitionEnd"),rl("onMouseEnter",["mouseout","mouseover"]),rl("onMouseLeave",["mouseout","mouseover"]),rl("onPointerEnter",["pointerout","pointerover"]),rl("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zi));function Oh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var v=l.length-1;0<=v;v--){var N=l[v],R=N.instance,X=N.currentTarget;if(N=N.listener,R!==f&&u.isPropagationStopped())break e;f=N,u.currentTarget=X;try{f(u)}catch(ee){br(ee)}u.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(N=l[v],R=N.instance,X=N.currentTarget,N=N.listener,R!==f&&u.isPropagationStopped())break e;f=N,u.currentTarget=X;try{f(u)}catch(ee){br(ee)}u.currentTarget=null,f=R}}}}function He(e,t){var n=t[Pl];n===void 0&&(n=t[Pl]=new Set);var l=e+"__bubble";n.has(l)||(Eh(t,e,2,!1),n.add(l))}function Wu(e,t,n){var l=0;t&&(l|=4),Eh(n,e,l,t)}var rs="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[rs]){e[rs]=!0,bf.forEach(function(n){n!=="selectionchange"&&(ly.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rs]||(t[rs]=!0,Wu("selectionchange",!1,t))}}function Eh(e,t,n,l){switch(np(t)){case 2:var u=_y;break;case 8:u=Ry;break;default:u=uc}n=u.bind(null,t,n,e),u=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Fu(e,t,n,l,u){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var N=l.stateNode.containerInfo;if(N===u)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;N!==null;){if(v=al(N),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue e}N=N.parentNode}}l=l.return}_f(function(){var X=f,ee=fo(n),re=[];e:{var $=rd.get(e);if($!==void 0){var F=vr,ve=e;switch(e){case"keypress":if(pr(n)===0)break e;case"keydown":case"keyup":F=Kg;break;case"focusin":ve="focus",F=yo;break;case"focusout":ve="blur",F=yo;break;case"beforeblur":case"afterblur":F=yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=ev;break;case nd:case ad:case ld:F=qg;break;case id:F=nv;break;case"scroll":case"scrollend":F=Hg;break;case"wheel":F=lv;break;case"copy":case"cut":case"paste":F=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Hf;break;case"toggle":case"beforetoggle":F=rv}var Ee=(t&4)!==0,lt=!Ee&&(e==="scroll"||e==="scrollend"),I=Ee?$!==null?$+"Capture":null:$;Ee=[];for(var z=X,G;z!==null;){var ne=z;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||I===null||(ne=ai(z,I),ne!=null&&Ee.push(Li(z,ne,G))),lt)break;z=z.return}0<Ee.length&&($=new F($,ve,null,n,ee),re.push({event:$,listeners:Ee}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",$&&n!==co&&(ve=n.relatedTarget||n.fromElement)&&(al(ve)||ve[ra]))break e;if((F||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,F?(ve=n.relatedTarget||n.toElement,F=X,ve=ve?al(ve):null,ve!==null&&(lt=d(ve),Ee=ve.tag,ve!==lt||Ee!==5&&Ee!==27&&Ee!==6)&&(ve=null)):(F=null,ve=X),F!==ve)){if(Ee=zf,ne="onMouseLeave",I="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Hf,ne="onPointerLeave",I="onPointerEnter",z="pointer"),lt=F==null?$:ni(F),G=ve==null?$:ni(ve),$=new Ee(ne,z+"leave",F,n,ee),$.target=lt,$.relatedTarget=G,ne=null,al(ee)===X&&(Ee=new Ee(I,z+"enter",ve,n,ee),Ee.target=G,Ee.relatedTarget=lt,ne=Ee),lt=ne,F&&ve)t:{for(Ee=iy,I=F,z=ve,G=0,ne=I;ne;ne=Ee(ne))G++;ne=0;for(var Se=z;Se;Se=Ee(Se))ne++;for(;0<G-ne;)I=Ee(I),G--;for(;0<ne-G;)z=Ee(z),ne--;for(;G--;){if(I===z||z!==null&&I===z.alternate){Ee=I;break t}I=Ee(I),z=Ee(z)}Ee=null}else Ee=null;F!==null&&Mh(re,$,F,Ee,!1),ve!==null&&lt!==null&&Mh(re,lt,ve,Ee,!0)}}e:{if($=X?ni(X):window,F=$.nodeName&&$.nodeName.toLowerCase(),F==="select"||F==="input"&&$.type==="file")var Xe=Gf;else if(Yf($))if(Xf)Xe=gv;else{Xe=hv;var ye=mv}else F=$.nodeName,!F||F.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?X&&uo(X.elementType)&&(Xe=Gf):Xe=pv;if(Xe&&(Xe=Xe(e,X))){Qf(re,Xe,n,ee);break e}ye&&ye(e,$,X),e==="focusout"&&X&&$.type==="number"&&X.memoizedProps.value!=null&&oo($,"number",$.value)}switch(ye=X?ni(X):window,e){case"focusin":(Yf(ye)||ye.contentEditable==="true")&&(dl=ye,jo=X,fi=null);break;case"focusout":fi=jo=dl=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,ed(re,n,ee);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":ed(re,n,ee)}var Re;if(bo)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else fl?Bf(e,n)&&(Ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ue="onCompositionStart");Ue&&(Vf&&n.locale!=="ko"&&(fl||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&fl&&(Re=Rf()):(sa=ee,po="value"in sa?sa.value:sa.textContent,fl=!0)),ye=ss(X,Ue),0<ye.length&&(Ue=new Lf(Ue,e,null,n,ee),re.push({event:Ue,listeners:ye}),Re?Ue.data=Re:(Re=qf(n),Re!==null&&(Ue.data=Re)))),(Re=ov?uv(e,n):cv(e,n))&&(Ue=ss(X,"onBeforeInput"),0<Ue.length&&(ye=new Lf("onBeforeInput","beforeinput",null,n,ee),re.push({event:ye,listeners:Ue}),ye.data=Re)),ty(re,e,X,n,ee)}Oh(re,t)})}function Li(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ss(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=ai(e,n),u!=null&&l.unshift(Li(e,u,f)),u=ai(e,t),u!=null&&l.push(Li(e,u,f))),e.tag===3)return l;e=e.return}return[]}function iy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mh(e,t,n,l,u){for(var f=t._reactName,v=[];n!==null&&n!==l;){var N=n,R=N.alternate,X=N.stateNode;if(N=N.tag,R!==null&&R===l)break;N!==5&&N!==26&&N!==27||X===null||(R=X,u?(X=ai(n,f),X!=null&&v.unshift(Li(n,X,R))):u||(X=ai(n,f),X!=null&&v.push(Li(n,X,R)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var ry=/\r\n?/g,sy=/\u0000|\uFFFD/g;function Th(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(sy,"")}function kh(e,t){return t=Th(t),Th(e)===t}function at(e,t,n,l,u,f){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ol(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ol(e,""+l);break;case"className":fr(e,"class",l);break;case"tabIndex":fr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,n,l);break;case"style":kf(e,l,f);break;case"data":if(t!=="object"){fr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=mr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&at(e,t,"name",u.name,u,null),at(e,t,"formEncType",u.formEncType,u,null),at(e,t,"formMethod",u.formMethod,u,null),at(e,t,"formTarget",u.formTarget,u,null)):(at(e,t,"encType",u.encType,u,null),at(e,t,"method",u.method,u,null),at(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=mr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=mr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":He("beforetoggle",e),He("toggle",e),cr(e,"popover",l);break;case"xlinkActuate":Ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ln(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ln(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ln(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ln(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zg.get(n)||n,cr(e,n,l))}}function Zu(e,t,n,l,u,f){switch(n){case"style":kf(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ol(e,l):(typeof l=="number"||typeof l=="bigint")&&ol(e,""+l);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),f=e[St]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):cr(e,n,l)}}}function It(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var l=!1,u=!1,f;for(f in n)if(n.hasOwnProperty(f)){var v=n[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:at(e,t,f,v,n,null)}}u&&at(e,t,"srcSet",n.srcSet,n,null),l&&at(e,t,"src",n.src,n,null);return;case"input":He("invalid",e);var N=f=v=u=null,R=null,X=null;for(l in n)if(n.hasOwnProperty(l)){var ee=n[l];if(ee!=null)switch(l){case"name":u=ee;break;case"type":v=ee;break;case"checked":R=ee;break;case"defaultChecked":X=ee;break;case"value":f=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,t));break;default:at(e,t,l,ee,n,null)}}Of(e,f,N,R,X,v,u,!1);return;case"select":He("invalid",e),l=v=f=null;for(u in n)if(n.hasOwnProperty(u)&&(N=n[u],N!=null))switch(u){case"value":f=N;break;case"defaultValue":v=N;break;case"multiple":l=N;default:at(e,t,u,N,n,null)}t=f,n=v,e.multiple=!!l,t!=null?sl(e,!!l,t,!1):n!=null&&sl(e,!!l,n,!0);return;case"textarea":He("invalid",e),f=u=l=null;for(v in n)if(n.hasOwnProperty(v)&&(N=n[v],N!=null))switch(v){case"value":l=N;break;case"defaultValue":u=N;break;case"children":f=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:at(e,t,v,N,n,null)}Mf(e,l,u,f);return;case"option":for(R in n)n.hasOwnProperty(R)&&(l=n[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":at(e,t,R,l,n,null));return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(l=0;l<zi.length;l++)He(zi[l],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in n)if(n.hasOwnProperty(X)&&(l=n[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:at(e,t,X,l,n,null)}return;default:if(uo(t)){for(ee in n)n.hasOwnProperty(ee)&&(l=n[ee],l!==void 0&&Zu(e,t,ee,l,n,void 0));return}}for(N in n)n.hasOwnProperty(N)&&(l=n[N],l!=null&&at(e,t,N,l,n,null))}function oy(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,v=null,N=null,R=null,X=null,ee=null;for(F in n){var re=n[F];if(n.hasOwnProperty(F)&&re!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=re;default:l.hasOwnProperty(F)||at(e,t,F,null,l,re)}}for(var $ in l){var F=l[$];if(re=n[$],l.hasOwnProperty($)&&(F!=null||re!=null))switch($){case"type":f=F;break;case"name":u=F;break;case"checked":X=F;break;case"defaultChecked":ee=F;break;case"value":v=F;break;case"defaultValue":N=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:F!==re&&at(e,t,$,F,l,re)}}so(e,v,N,R,X,ee,f,u);return;case"select":F=v=N=$=null;for(f in n)if(R=n[f],n.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(f)||at(e,t,f,null,l,R)}for(u in l)if(f=l[u],R=n[u],l.hasOwnProperty(u)&&(f!=null||R!=null))switch(u){case"value":$=f;break;case"defaultValue":N=f;break;case"multiple":v=f;default:f!==R&&at(e,t,u,f,l,R)}t=N,n=v,l=F,$!=null?sl(e,!!n,$,!1):!!l!=!!n&&(t!=null?sl(e,!!n,t,!0):sl(e,!!n,n?[]:"",!1));return;case"textarea":F=$=null;for(N in n)if(u=n[N],n.hasOwnProperty(N)&&u!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:at(e,t,N,null,l,u)}for(v in l)if(u=l[v],f=n[v],l.hasOwnProperty(v)&&(u!=null||f!=null))switch(v){case"value":$=u;break;case"defaultValue":F=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==f&&at(e,t,v,u,l,f)}Ef(e,$,F);return;case"option":for(var ve in n)$=n[ve],n.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?e.selected=!1:at(e,t,ve,null,l,$));for(R in l)$=l[R],F=n[R],l.hasOwnProperty(R)&&$!==F&&($!=null||F!=null)&&(R==="selected"?e.selected=$&&typeof $!="function"&&typeof $!="symbol":at(e,t,R,$,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in n)$=n[Ee],n.hasOwnProperty(Ee)&&$!=null&&!l.hasOwnProperty(Ee)&&at(e,t,Ee,null,l,$);for(X in l)if($=l[X],F=n[X],l.hasOwnProperty(X)&&$!==F&&($!=null||F!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,t));break;default:at(e,t,X,$,l,F)}return;default:if(uo(t)){for(var lt in n)$=n[lt],n.hasOwnProperty(lt)&&$!==void 0&&!l.hasOwnProperty(lt)&&Zu(e,t,lt,void 0,l,$);for(ee in l)$=l[ee],F=n[ee],!l.hasOwnProperty(ee)||$===F||$===void 0&&F===void 0||Zu(e,t,ee,$,l,F);return}}for(var I in n)$=n[I],n.hasOwnProperty(I)&&$!=null&&!l.hasOwnProperty(I)&&at(e,t,I,null,l,$);for(re in l)$=l[re],F=n[re],!l.hasOwnProperty(re)||$===F||$==null&&F==null||at(e,t,re,$,l,F)}function Ah(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],f=u.transferSize,v=u.initiatorType,N=u.duration;if(f&&N&&Ah(v)){for(v=0,N=u.responseEnd,l+=1;l<n.length;l++){var R=n[l],X=R.startTime;if(X>N)break;var ee=R.transferSize,re=R.initiatorType;ee&&Ah(re)&&(R=R.responseEnd,v+=ee*(R<N?1:(N-X)/(R-X)))}if(--l,t+=8*(f+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ku=null,Ju=null;function os(e){return e.nodeType===9?e:e.ownerDocument}function _h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ec=null;function cy(){var e=window.event;return e&&e.type==="popstate"?e===ec?!1:(ec=e,!0):(ec=null,!1)}var Dh=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(e){return zh.resolve(null).then(e).catch(my)}:Dh;function my(e){setTimeout(function(){throw e})}function ja(e){return e==="head"}function Lh(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),Il(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Hi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Hi(n);for(var f=n.firstChild;f;){var v=f.nextSibling,N=f.nodeName;f[ti]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=v}}else n==="body"&&Hi(e.ownerDocument.body);n=u}while(n);Il(t)}function Hh(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":tc(n),io(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function hy(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ti])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=bn(e.nextSibling),e===null)break}return null}function py(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=bn(e.nextSibling),e===null))return null;return e}function Vh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=bn(e.nextSibling),e===null))return null;return e}function nc(e){return e.data==="$?"||e.data==="$~"}function ac(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var lc=null;function Ih(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return bn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Bh(e,t,n){switch(t=os(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Hi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);io(e)}var wn=new Map,qh=new Set;function us(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pn=Q.d;Q.d={f:vy,r:yy,D:xy,C:by,L:wy,m:Sy,X:jy,S:Ny,M:Cy};function vy(){var e=Pn.f(),t=es();return e||t}function yy(e){var t=ll(e);t!==null&&t.tag===5&&t.type==="form"?im(t):Pn.r(e)}var Ll=typeof document>"u"?null:document;function Yh(e,t,n){var l=Ll;if(l&&typeof t=="string"&&t){var u=mn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),qh.has(u)||(qh.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),It(t,"link",e),Rt(t),l.head.appendChild(t)))}}function xy(e){Pn.D(e),Yh("dns-prefetch",e,null)}function by(e,t){Pn.C(e,t),Yh("preconnect",e,t)}function wy(e,t,n){Pn.L(e,t,n);var l=Ll;if(l&&e&&t){var u='link[rel="preload"][as="'+mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+mn(n.imageSizes)+'"]')):u+='[href="'+mn(e)+'"]';var f=u;switch(t){case"style":f=Hl(e);break;case"script":f=Vl(e)}wn.has(f)||(e=x({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),wn.set(f,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Vi(f))||t==="script"&&l.querySelector(Ii(f))||(t=l.createElement("link"),It(t,"link",e),Rt(t),l.head.appendChild(t)))}}function Sy(e,t){Pn.m(e,t);var n=Ll;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Vl(e)}if(!wn.has(f)&&(e=x({rel:"modulepreload",href:e},t),wn.set(f,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ii(f)))return}l=n.createElement("link"),It(l,"link",e),Rt(l),n.head.appendChild(l)}}}function Ny(e,t,n){Pn.S(e,t,n);var l=Ll;if(l&&e){var u=il(l).hoistableStyles,f=Hl(e);t=t||"default";var v=u.get(f);if(!v){var N={loading:0,preload:null};if(v=l.querySelector(Vi(f)))N.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wn.get(f))&&ic(e,n);var R=v=l.createElement("link");Rt(R),It(R,"link",e),R._p=new Promise(function(X,ee){R.onload=X,R.onerror=ee}),R.addEventListener("load",function(){N.loading|=1}),R.addEventListener("error",function(){N.loading|=2}),N.loading|=4,cs(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:N},u.set(f,v)}}}function jy(e,t){Pn.X(e,t);var n=Ll;if(n&&e){var l=il(n).hoistableScripts,u=Vl(e),f=l.get(u);f||(f=n.querySelector(Ii(u)),f||(e=x({src:e,async:!0},t),(t=wn.get(u))&&rc(e,t),f=n.createElement("script"),Rt(f),It(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Cy(e,t){Pn.M(e,t);var n=Ll;if(n&&e){var l=il(n).hoistableScripts,u=Vl(e),f=l.get(u);f||(f=n.querySelector(Ii(u)),f||(e=x({src:e,async:!0,type:"module"},t),(t=wn.get(u))&&rc(e,t),f=n.createElement("script"),Rt(f),It(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Qh(e,t,n,l){var u=(u=fe.current)?us(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Hl(n.href),n=il(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Hl(n.href);var f=il(u).hoistableStyles,v=f.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=u.querySelector(Vi(e)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wn.set(e,n),f||Oy(u,e,n,v.state))),t&&l===null)throw Error(o(528,""));return v}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vl(n),n=il(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Hl(e){return'href="'+mn(e)+'"'}function Vi(e){return'link[rel="stylesheet"]['+e+"]"}function Gh(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Oy(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),It(t,"link",n),Rt(t),e.head.appendChild(t))}function Vl(e){return'[src="'+mn(e)+'"]'}function Ii(e){return"script[async]"+e}function Xh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+mn(n.href)+'"]');if(l)return t.instance=l,Rt(l),l;var u=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Rt(l),It(l,"style",u),cs(l,n.precedence,e),t.instance=l;case"stylesheet":u=Hl(n.href);var f=e.querySelector(Vi(u));if(f)return t.state.loading|=4,t.instance=f,Rt(f),f;l=Gh(n),(u=wn.get(u))&&ic(l,u),f=(e.ownerDocument||e).createElement("link"),Rt(f);var v=f;return v._p=new Promise(function(N,R){v.onload=N,v.onerror=R}),It(f,"link",l),t.state.loading|=4,cs(f,n.precedence,e),t.instance=f;case"script":return f=Vl(n.src),(u=e.querySelector(Ii(f)))?(t.instance=u,Rt(u),u):(l=n,(u=wn.get(f))&&(l=x({},n),rc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Rt(u),It(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,cs(l,n.precedence,e));return t.instance}function cs(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,v=0;v<l.length;v++){var N=l[v];if(N.dataset.precedence===t)f=N;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fs=null;function Wh(e,t,n){if(fs===null){var l=new Map,u=fs=new Map;u.set(n,l)}else u=fs,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var f=n[u];if(!(f[ti]||f[Ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var N=l.get(v);N?N.push(f):l.set(v,[f])}}return l}function $h(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ey(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function My(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Hl(l.href),f=t.querySelector(Vi(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ds.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,Rt(f);return}f=t.ownerDocument||t,l=Gh(l),(u=wn.get(u))&&ic(l,u),f=f.createElement("link"),Rt(f);var v=f;v._p=new Promise(function(N,R){v.onload=N,v.onerror=R}),It(f,"link",l),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ds.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var sc=0;function Ty(e,t){return e.stylesheets&&e.count===0&&hs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&hs(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&sc===0&&(sc=62500*uy());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hs(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>sc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function ds(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ms=null;function hs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ms=new Map,t.forEach(ky,e),ms=null,ds.call(e))}function ky(e,t){if(!(t.state.loading&4)){var n=ms.get(e);if(n)var l=n.get(null);else{n=new Map,ms.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var v=u[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),l=v)}l&&n.set(null,l)}u=t.instance,v=u.getAttribute("data-precedence"),f=n.get(v)||l,f===l&&n.set(null,u),n.set(v,u),this.count++,l=ds.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ui={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Ay(e,t,n,l,u,f,v,N,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.hiddenUpdates=Kl(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Zh(e,t,n,l,u,f,v,N,R,X,ee,re){return e=new Ay(e,t,n,v,R,X,ee,re,N),t=1,f===!0&&(t|=24),f=an(3,null,null,t),e.current=f,f.stateNode=e,t=Uo(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:n,cache:t},Qo(f),e}function Kh(e){return e?(e=pl,e):pl}function Jh(e,t,n,l,u,f){u=Kh(u),l.context===null?l.context=u:l.pendingContext=u,l=ma(t),l.payload={element:n},f=f===void 0?null:f,f!==null&&(l.callback=f),n=ha(e,l,t),n!==null&&(en(n,e,t),yi(n,e,t))}function Ph(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oc(e,t){Ph(e,t),(e=e.alternate)&&Ph(e,t)}function ep(e){if(e.tag===13||e.tag===31){var t=Ua(e,67108864);t!==null&&en(t,e,67108864),oc(e,67108864)}}function tp(e){if(e.tag===13||e.tag===31){var t=un();t=Jl(t);var n=Ua(e,t);n!==null&&en(n,e,t),oc(e,t)}}var ps=!0;function _y(e,t,n,l){var u=D.T;D.T=null;var f=Q.p;try{Q.p=2,uc(e,t,n,l)}finally{Q.p=f,D.T=u}}function Ry(e,t,n,l){var u=D.T;D.T=null;var f=Q.p;try{Q.p=8,uc(e,t,n,l)}finally{Q.p=f,D.T=u}}function uc(e,t,n,l){if(ps){var u=cc(l);if(u===null)Fu(e,t,l,gs,n),ap(e,l);else if(zy(u,e,t,n,l))l.stopPropagation();else if(ap(e,l),t&4&&-1<Dy.indexOf(e)){for(;u!==null;){var f=ll(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ft(f.pendingLanes);if(v!==0){var N=f;for(N.pendingLanes|=2,N.entangledLanes|=2;v;){var R=1<<31-Mt(v);N.entanglements[1]|=R,v&=~R}Tn(f),($e&6)===0&&(Jr=pe()+500,Di(0))}}break;case 31:case 13:N=Ua(f,2),N!==null&&en(N,f,2),es(),oc(f,2)}if(f=cc(l),f===null&&Fu(e,t,l,gs,n),f===u)break;u=f}u!==null&&l.stopPropagation()}else Fu(e,t,l,null,n)}}function cc(e){return e=fo(e),fc(e)}var gs=null;function fc(e){if(gs=null,e=al(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gs=e,null}function np(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case ke:return 2;case xe:return 8;case ze:case yt:return 32;case tt:return 268435456;default:return 32}default:return 32}}var dc=!1,Ca=null,Oa=null,Ea=null,Bi=new Map,qi=new Map,Ma=[],Dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ap(e,t){switch(e){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(t.pointerId)}}function Yi(e,t,n,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},t!==null&&(t=ll(t),t!==null&&ep(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function zy(e,t,n,l,u){switch(t){case"focusin":return Ca=Yi(Ca,e,t,n,l,u),!0;case"dragenter":return Oa=Yi(Oa,e,t,n,l,u),!0;case"mouseover":return Ea=Yi(Ea,e,t,n,l,u),!0;case"pointerover":var f=u.pointerId;return Bi.set(f,Yi(Bi.get(f)||null,e,t,n,l,u)),!0;case"gotpointercapture":return f=u.pointerId,qi.set(f,Yi(qi.get(f)||null,e,t,n,l,u)),!0}return!1}function lp(e){var t=al(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Ge(e.priority,function(){tp(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Ge(e.priority,function(){tp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);co=l,n.target.dispatchEvent(l),co=null}else return t=ll(n),t!==null&&ep(t),e.blockedOn=n,!1;t.shift()}return!0}function ip(e,t,n){vs(e)&&n.delete(t)}function Ly(){dc=!1,Ca!==null&&vs(Ca)&&(Ca=null),Oa!==null&&vs(Oa)&&(Oa=null),Ea!==null&&vs(Ea)&&(Ea=null),Bi.forEach(ip),qi.forEach(ip)}function ys(e,t){e.blockedOn===t&&(e.blockedOn=null,dc||(dc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ly)))}var xs=null;function rp(e){xs!==e&&(xs=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){xs===e&&(xs=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(fc(l||n)===null)continue;break}var f=ll(n);f!==null&&(e.splice(t,3),t-=3,cu(f,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function Il(e){function t(R){return ys(R,e)}Ca!==null&&ys(Ca,e),Oa!==null&&ys(Oa,e),Ea!==null&&ys(Ea,e),Bi.forEach(t),qi.forEach(t);for(var n=0;n<Ma.length;n++){var l=Ma[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ma.length&&(n=Ma[0],n.blockedOn===null);)lp(n),n.blockedOn===null&&Ma.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],f=n[l+1],v=u[St]||null;if(typeof f=="function")v||rp(n);else if(v){var N=null;if(f&&f.hasAttribute("formAction")){if(u=f,v=f[St]||null)N=v.formAction;else if(fc(u)!==null)continue}else N=v.action;typeof N=="function"?n[l+1]=N:(n.splice(l,3),l-=3),rp(n)}}}function sp(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function mc(e){this._internalRoot=e}bs.prototype.render=mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=un();Jh(n,l,e,t,null,null)},bs.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jh(e.current,2,null,e,null,null),es(),t[ra]=null}};function bs(e){this._internalRoot=e}bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=U();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ma.length&&t!==0&&t<Ma[n].priority;n++);Ma.splice(n,0,e),n===0&&lp(e)}};var op=i.version;if(op!=="19.2.3")throw Error(o(527,op,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Hy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{zt=ws.inject(Hy),ut=ws}catch{}}return Gi.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,l="",u=pm,f=gm,v=vm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Zh(e,1,!1,null,null,n,l,null,u,f,v,sp),e[ra]=t.current,$u(e),new mc(t)},Gi.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var l=!1,u="",f=pm,v=gm,N=vm,R=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.formState!==void 0&&(R=n.formState)),t=Zh(e,1,!0,t,n??null,l,u,R,f,v,N,sp),t.context=Kh(null),n=t.current,l=un(),l=Jl(l),u=ma(l),u.callback=null,ha(n,u,l),n=l,t.current.lanes=n,Ra(t,n),Tn(t),e[ra]=t.current,$u(e),new bs(t)},Gi.version="19.2.3",Gi}var xp;function $y(){if(xp)return gc.exports;xp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),gc.exports=Wy(),gc.exports}var Fy=$y();const bp=a=>{let i;const r=new Set,o=(g,y)=>{const x=typeof g=="function"?g(i):g;if(!Object.is(x,i)){const C=i;i=y??(typeof x!="object"||x===null)?x:Object.assign({},i,x),r.forEach(O=>O(i,C))}},s=()=>i,p={setState:o,getState:s,getInitialState:()=>h,subscribe:g=>(r.add(g),()=>r.delete(g))},h=i=a(o,s,p);return p},Zy=(a=>a?bp(a):bp),Ky=a=>a;function Jy(a,i=Ky){const r=ql.useSyncExternalStore(a.subscribe,ql.useCallback(()=>i(a.getState()),[a,i]),ql.useCallback(()=>i(a.getInitialState()),[a,i]));return ql.useDebugValue(r),r}const wp=a=>{const i=Zy(a),r=o=>Jy(i,o);return Object.assign(r,i),r},Jc=(a=>a?wp(a):wp);function w0(a,i){let r;try{r=a()}catch{return}return{getItem:s=>{var d;const m=h=>h===null?null:JSON.parse(h,void 0),p=(d=r.getItem(s))!=null?d:null;return p instanceof Promise?p.then(m):m(p)},setItem:(s,d)=>r.setItem(s,JSON.stringify(d,void 0)),removeItem:s=>r.removeItem(s)}}const Lc=a=>i=>{try{const r=a(i);return r instanceof Promise?r:{then(o){return Lc(o)(r)},catch(o){return this}}}catch(r){return{then(o){return this},catch(o){return Lc(o)(r)}}}},Py=(a,i)=>(r,o,s)=>{let d={storage:w0(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...i},m=!1;const p=new Set,h=new Set;let g=d.storage;if(!g)return a((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),r(...w)},o,s);const y=()=>{const w=d.partialize({...o()});return g.setItem(d.name,{state:w,version:d.version})},x=s.setState;s.setState=(w,S)=>(x(w,S),y());const C=a((...w)=>(r(...w),y()),o,s);s.getInitialState=()=>C;let O;const M=()=>{var w,S;if(!g)return;m=!1,p.forEach(E=>{var T;return E((T=o())!=null?T:C)});const b=((S=d.onRehydrateStorage)==null?void 0:S.call(d,(w=o())!=null?w:C))||void 0;return Lc(g.getItem.bind(g))(d.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==d.version){if(d.migrate){const T=d.migrate(E.state,E.version);return T instanceof Promise?T.then(_=>[!0,_]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var T;const[_,A]=E;if(O=d.merge(A,(T=o())!=null?T:C),r(O,!0),_)return y()}).then(()=>{b?.(O,void 0),O=o(),m=!0,h.forEach(E=>E(O))}).catch(E=>{b?.(void 0,E)})};return s.persist={setOptions:w=>{d={...d,...w},w.storage&&(g=w.storage)},clearStorage:()=>{g?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>M(),hasHydrated:()=>m,onHydrate:w=>(p.add(w),()=>{p.delete(w)}),onFinishHydration:w=>(h.add(w),()=>{h.delete(w)})},d.skipHydration||M(),O||C},ex=Py;function tx(a){return!!a&&typeof a=="object"&&!Array.isArray(a)}function er(a,i,r){const o=a.widgets_values;if(Array.isArray(o))return r===void 0||r<0||r>=o.length?void 0:o[r];if(tx(o)){if(o[i]!==void 0)return o[i];if(a.type==="VHS_VideoCombine"&&i==="save_image"&&o.save_output!==void 0)return o.save_output}}function Pc(a,i){const r=a.widget_idx_map?.[String(i)];return r||(a.extra?.widget_idx_map?.[String(i)]??null)}function $s(a){if(Array.isArray(a))return!0;const i=String(a).toUpperCase();return i==="INT"||i==="FLOAT"||i==="BOOLEAN"||i==="STRING"}function ef(a,i,r){if(Array.isArray(i)){if(r?.comboIndexToValue&&typeof a=="number"&&Number.isFinite(a)){const o=Math.trunc(a);return i[o]??a}return a}if(i==="INT"&&typeof a=="string"&&a.trim()!==""&&!Number.isNaN(Number(a)))return Math.trunc(Number(a));if(i==="FLOAT"&&typeof a=="string"&&a.trim()!==""&&!Number.isNaN(Number(a)))return Number(a);if(i==="BOOLEAN"&&typeof a=="string"){if(a.toLowerCase()==="true")return!0;if(a.toLowerCase()==="false")return!1}return a}function nx(a,i,r){if(i.length===0)return a;const o=ef(a,i,{comboIndexToValue:!0}),s=String(o),d=s.split(/[\\/]/).pop()??s,m=i.find(h=>String(h)===s);if(m!==void 0)return m;const p=i.find(h=>String(h)===d);return p!==void 0?p:r!==void 0&&i.some(h=>String(h)===String(r))?r:i[0]}function S0(a,i){const r=a.links.find(m=>m[0]===i);if(!r)return null;const o=r[1],s=r[2],d=a.nodes.find(m=>m.id===o);if(!d)return null;if(d.mode===4||d.type==="Reroute"){const m=d.outputs[s];if(!m)return null;const p=d.inputs.find(h=>{if(h.link===null)return!1;const g=String(h.type).toUpperCase(),y=String(m.type).toUpperCase();return g===y||g==="*"||y==="*"});return p?.link!=null?S0(a,p.link):null}return{nodeId:o,slotIndex:s}}function ax(a,i,r,o,s,d,m){const p={};for(const M of r.inputs)if(M.link!=null){const w=S0(a,M.link);if(w)if(s.has(w.nodeId))p[M.name]=[String(w.nodeId),w.slotIndex];else{const S=a.nodes.find(b=>b.id===w.nodeId);if(S&&S.type==="PrimitiveNode"){const b=Array.isArray(S.widgets_values)?S.widgets_values[0]:void 0;b!==void 0&&(p[M.name]=b)}}}const h=i[o];if(!h?.input)return p;const g=h.input_order?.required||Object.keys(h.input.required||{}),y=h.input_order?.optional||Object.keys(h.input.optional||{}),x=[...g,...y];let C=0;const O=Array.isArray(r.widgets_values)?r.widgets_values:null;for(const M of x)try{const w=h.input.required?.[M]||h.input.optional?.[M];if(!w)continue;const[S]=w,b=r.inputs.find(P=>P.name===M),E=b?.link!=null,T=!!b?.widget&&!E,_=!!b,A=w[1]?.default,L=Object.prototype.hasOwnProperty.call(w[1]??{},"default");if($s(S)||T||!_){let P=d?.[M];if(P===void 0&&(P=C),M==="seed"&&m?.[r.id]!==void 0&&!(M in p))p[M]=m[r.id];else if(P!==void 0&&!E&&!(M in p)){const V=er(r,M,P);V!==void 0&&(Array.isArray(S)?p[M]=nx(V,S,A):p[M]=ef(V,S))}else!E&&L&&!(M in p)&&(p[M]=A);P!==void 0&&(C=Math.max(C,P+1)),String(S)==="INT"&&(M==="seed"||M==="noise_seed")&&(P!==void 0?C=Math.max(C,P+2):C=Math.max(C,C+1))}}catch(w){console.error(`Error processing input '${M}' for node ${r.id} (${r.type}):`,w)}if(d)for(const[M,w]of Object.entries(d)){if(!(M in p)&&O&&w<O.length){const S=O[w];S!=null&&(p[M]=S)}if(!(M in p)&&!O){const S=er(r,M,w);S!=null&&(p[M]=S)}}return(o==="Power Lora Loader (rgthree)"||r.type==="Power Lora Loader (rgthree)")&&O&&O.forEach((M,w)=>{if(typeof M=="object"&&M!==null&&"lora"in M&&!(Object.values(d||{}).some(b=>b===w)||d===null&&w<C)){const b=`lora_${w}`;b in p||(p[b]=M)}}),m?.[r.id]!==void 0&&!("seed"in p)&&!("noise_seed"in p)&&(p.seed=m[r.id]),p}const At="";function lx(){const a="comfyui-mobile-client-id";let i=localStorage.getItem(a);return i||(i="mobile-"+Math.random().toString(36).substring(2,15),localStorage.setItem(a,i)),i}const N0=lx();async function ix(){const a=await fetch(`${At}/api/object_info`);if(!a.ok)throw new Error("Failed to fetch node types");return a.json()}async function rx(){const a=await fetch(`${At}/api/queue`);if(!a.ok)throw new Error("Failed to fetch queue");return a.json()}async function sx(a){const i=`${At}/api/history?max_items=${a}`,r=await fetch(i);if(!r.ok)throw new Error("Failed to fetch history");return r.json()}async function ox(){const a=await fetch(`${At}/api/v2/userdata?path=workflows`);if(!a.ok){if(a.status===404)return[];throw new Error("Failed to list user workflows")}return(await a.json()).filter(r=>r.type==="file"&&r.name.endsWith(".json"))}function j0(a){return encodeURIComponent(a)}async function C0(a){const i=await fetch(`${At}/api/userdata/${j0("workflows/"+a)}`);if(!i.ok)throw new Error("Failed to load workflow");return i.json()}async function ux(a,i){if(!(await fetch(`${At}/api/userdata/${j0("workflows/"+a)}?overwrite=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw new Error("Failed to save workflow")}async function cx(){const a=await fetch(`${At}/api/workflow_templates`);if(!a.ok)throw new Error("Failed to fetch templates");return a.json()}async function O0(a,i){const r=await fetch(`${At}/api/workflow_templates/${encodeURIComponent(a)}/${encodeURIComponent(i)}`);if(!r.ok)throw new Error("Failed to load template");return r.json()}async function fx(){await fetch(`${At}/api/interrupt`,{method:"POST"})}async function dx(){await fetch(`${At}/api/queue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clear:!0})})}async function mx(a){await fetch(`${At}/api/queue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({delete:[a]})})}async function hx(a,i){const r=new FormData;r.append("image",a),i?.type&&r.append("type",i.type),i?.subfolder&&r.append("subfolder",i.subfolder),i?.overwrite!==void 0&&r.append("overwrite",i.overwrite?"true":"false");const o=await fetch(`${At}/upload/image`,{method:"POST",body:r});if(!o.ok)throw new Error("Failed to upload image");return o.json()}async function px(a){await fetch(`${At}/api/history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({delete:[a]})})}async function Sp(a){a.length!==0&&await fetch(`${At}/api/history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({delete:a})})}async function gx(){await fetch(`${At}/api/history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clear:!0})})}function _n(a,i,r){return`${At}/view?filename=${encodeURIComponent(a)}&subfolder=${encodeURIComponent(i)}&type=${encodeURIComponent(r)}`}function vx(a,i,r,o,s){const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws?clientId=${a}`,p=new WebSocket(m);return p.onopen=()=>{r?.()},p.onmessage=h=>{try{const g=JSON.parse(h.data);i(g)}catch(g){console.error("[WS] Failed to parse message:",g)}},p.onclose=()=>{o?.()},p.onerror=h=>{console.error("[WS] Error:",h),s?.(h)},p}const pt=Jc((a,i)=>({running:[],pending:[],isLoading:!1,fetchQueue:async()=>{a({isLoading:!0});try{const r=await rx(),o=r.queue_running.map(d=>({number:d[0],prompt_id:d[1],prompt:d[2],extra:d[3],outputs_to_execute:d[4]})),s=r.queue_pending.map(d=>({number:d[0],prompt_id:d[1],prompt:d[2],extra:d[3],outputs_to_execute:d[4]}));a({running:o,pending:s})}catch(r){console.error("Failed to fetch queue:",r)}finally{a({isLoading:!1})}},clearQueue:async()=>{try{await dx(),a({pending:[]})}catch(r){console.error("Failed to clear queue:",r)}},deleteItem:async r=>{try{await mx(r),a(o=>({pending:o.pending.filter(s=>s.prompt_id!==r)}))}catch(o){console.error("Failed to delete queue item:",o)}},interrupt:async()=>{try{await fx()}catch(r){console.error("Failed to interrupt execution:",r)}},updateFromStatus:r=>{const{pending:o}=i();r!==o.length&&i().fetchQueue()}}));function Pa(a,i,r,o){if(!i)return null;const d=Pc(a,r.id)?.[o];if(d!==void 0)return d;const m=i[r.type];if(!m?.input)return null;const p=m.input_order?.required||Object.keys(m.input.required||{}),h=m.input_order?.optional||Object.keys(m.input.optional||{}),g=[...p,...h];let y=0;for(const x of g){const C=m.input.required?.[x]||m.input.optional?.[x];if(!C)continue;const[O]=C,M=r.inputs.find(_=>_.name===x),w=M?.link!=null,S=!!M?.widget&&!w,b=!!M;if($s(O)||S||!b){if(x===o)return y;y+=1,String(O)==="INT"&&(x==="seed"||x==="noise_seed")&&(y+=1)}}return null}function Yl(a,i,r){const o=Pa(a,i,r,"seed")??Pa(a,i,r,"noise_seed");if(o!==null)return o;if(!i)return r.outputs?.some(x=>String(x.name||"").toLowerCase().includes("seed")&&String(x.type||"").toUpperCase().includes("INT"))&&Array.isArray(r.widgets_values)&&r.widgets_values.length>0?0:null;const s=i[r.type];if(!s?.input)return r.outputs?.some(x=>String(x.name||"").toLowerCase().includes("seed")&&String(x.type||"").toUpperCase().includes("INT"))&&Array.isArray(r.widgets_values)&&r.widgets_values.length>0?0:null;const d=Pc(a,r.id),m=s.input_order?.required||Object.keys(s.input.required||{}),p=s.input_order?.optional||Object.keys(s.input.optional||{}),h=[...m,...p];let g=0;for(const y of h){const x=s.input.required?.[y]||s.input.optional?.[y];if(!x)continue;const[C]=x,O=r.inputs.find(E=>E.name===y),M=O?.link!=null,w=!!O?.widget&&!M,S=!!O;if($s(C)||w||!S){const T=d?.[y]??g;if(String(C)==="INT"&&y.toLowerCase().includes("seed"))return T;g+=1,String(C)==="INT"&&(y==="seed"||y==="noise_seed")&&(g+=1)}}return null}function bc(a,i,r){const o=["fixed","randomize","increment","decrement"];if(Array.isArray(r.widgets_values)){const d=r.widgets_values.find(m=>typeof m=="string"&&o.includes(m.toLowerCase()));if(typeof d=="string"){const m=d.toLowerCase();if(o.includes(m))return m}}const s=Yl(a,i,r);if(s!==null&&Array.isArray(r.widgets_values)){const d=Number(r.widgets_values[s]),m=E0(d);if(m)return m;const h=(r.outputs??[]).some(C=>String(C.name||"").toLowerCase().includes("seed")&&String(C.type||"").toUpperCase().includes("INT")),g=r.widgets_values.slice(s+1),y=g.length>0&&g.every(C=>C===""||C===null||C===void 0),x=r.properties&&("randomMin"in r.properties||"randomMax"in r.properties);if(h&&y&&x)return"randomize"}return"fixed"}const tf=-1,Fs=-2,Zs=-3,Ss=0x4000000000000,Ds=new Set([tf,Fs,Zs]);function Hc(a){return Ds.has(a)}function E0(a){return a===tf?"randomize":a===Fs?"increment":a===Zs?"decrement":null}function yx(a){return a==="randomize"?tf:a==="increment"?Fs:a==="decrement"?Zs:null}function xx(a,i){const r=a[i.type];if(!r?.input)return 1;const s=(r.input.required?.seed||r.input.optional?.seed)?.[1],d=typeof s?.step=="number"?s.step:1;return d>0?d:1}function bx(a){const i=Number(a.properties?.randomMin??0),r=Number(a.properties?.randomMax??Ss),o=Number.isFinite(i)?Math.max(-Ss,i):0,s=Number.isFinite(r)?Math.min(Ss,r):Ss;return o<=s?{min:o,max:s}:{min:s,max:o}}function Ji(a,i){const r=xx(a,i),{min:o,max:s}=bx(i),d=r>0?r/10:1,m=s-o;let p=o+Math.random()*m;return d>0&&(p=Math.round((p-o)/d)*d+o),p>s&&(p=s),p<o&&(p=o),Ds.has(p)&&(p=0),p}function wx(a,i,r,o){if(Ds.has(a)){if(typeof i=="number"&&!Ds.has(i)){if(a===Fs)return i+1;if(a===Zs)return i-1}return Ji(r,o)}return Number.isFinite(a)?a:0}function Sx(a,i){const r={};for(const o of a.nodes){const s=i[o.type];if(!s?.input)continue;const d=s.input_order?.required||Object.keys(s.input.required||{}),m=s.input_order?.optional||Object.keys(s.input.optional||{}),p=[...d,...m];for(const h of p){const g=s.input.required?.[h]||s.input.optional?.[h];if(!g)continue;const[y]=g;if(!Array.isArray(y)||y.length===0||o.inputs.find(E=>E.name===h)?.link!=null)continue;const C=Pa(a,i,o,h);if(C===null)continue;const O=er(o,h,C);if(O==null)continue;const M=ef(O,y,{comboIndexToValue:!0}),w=String(M),S=w.split(/[\\/]/).pop()??w;if(!y.some(E=>{const T=String(E);return T===w||T===S})){const E=String(o.id);r[E]||(r[E]=[]),r[E].push({type:"workflow_load",message:`Missing value: ${w}`,details:"Not found on server.",inputName:h})}}}return r}const Z=Jc()(ex((a,i)=>({workflowSource:null,workflow:null,originalWorkflow:null,currentFilename:null,nodeTypes:null,isLoading:!1,error:null,savedWorkflowStates:{},isExecuting:!1,executingNodeId:null,executingPromptId:null,progress:0,executionStartTime:null,currentNodeStartTime:null,nodeDurationStats:{},workflowDurationStats:{},seedModes:{},nodeOutputs:{},promptOutputs:{},theme:"dark",previewVisibility:{},previewVisibilityDefault:!1,runCount:1,viewerOpen:!1,viewerImages:[],viewerIndex:0,viewerScale:1,viewerTranslate:{x:0,y:0},workflowLoadedAt:0,queuePanelOpen:!1,queueItemExpanded:{},queueItemUserToggled:{},queueItemHideImages:{},seedLastValues:{},hideStaticNodes:!1,hideBypassedNodes:!1,showQueueMetadata:!1,connectionHighlightModes:{},manuallyHiddenNodes:{},bookmarkedWidgets:{},bookmarkedWidget:null,bookmarkOverlayOpen:!1,nodeErrors:{},setNodeOutput:(r,o)=>{a(s=>({nodeOutputs:{...s.nodeOutputs,[r]:o}}))},clearNodeOutputs:()=>{a({nodeOutputs:{}})},addPromptOutputs:(r,o)=>{!r||o.length===0||a(s=>({promptOutputs:{...s.promptOutputs,[r]:[...s.promptOutputs[r]??[],...o]}}))},clearPromptOutputs:r=>{if(!r){a({promptOutputs:{}});return}a(o=>{if(!o.promptOutputs[r])return o;const s={...o.promptOutputs};return delete s[r],{promptOutputs:s}})},setTheme:r=>{a({theme:r})},toggleTheme:()=>{a(r=>({theme:r.theme==="dark"?"light":"dark"}))},setPreviewVisibility:(r,o)=>{a(s=>({previewVisibility:{...s.previewVisibility,[r]:o}}))},togglePreviewVisibility:r=>{a(o=>({previewVisibility:{...o.previewVisibility,[r]:!o.previewVisibility[r]}}))},setPreviewVisibilityDefault:r=>{a({previewVisibilityDefault:r})},setRunCount:r=>{a({runCount:Math.max(1,Math.floor(r))})},setViewerState:r=>{a(o=>{const s={...o,...r};return s.viewerOpen===o.viewerOpen&&s.viewerIndex===o.viewerIndex&&s.viewerScale===o.viewerScale&&s.viewerTranslate.x===o.viewerTranslate.x&&s.viewerTranslate.y===o.viewerTranslate.y&&s.viewerImages===o.viewerImages?o:s})},setQueuePanelOpen:r=>{a({queuePanelOpen:r})},setQueueItemExpanded:(r,o)=>{a(s=>({queueItemExpanded:{...s.queueItemExpanded,[r]:o}}))},setQueueItemUserToggled:(r,o)=>{a(s=>({queueItemUserToggled:{...s.queueItemUserToggled,[r]:o}}))},setQueueItemHideImages:(r,o)=>{a(s=>({queueItemHideImages:{...s.queueItemHideImages,[r]:o}}))},toggleQueueItemHideImages:r=>{a(o=>({queueItemHideImages:{...o.queueItemHideImages,[r]:!o.queueItemHideImages[r]}}))},setHideStaticNodes:r=>{a({hideStaticNodes:r})},toggleHideStaticNodes:()=>{a(r=>({hideStaticNodes:!r.hideStaticNodes}))},setHideBypassedNodes:r=>{a({hideBypassedNodes:r})},toggleHideBypassedNodes:()=>{a(r=>({hideBypassedNodes:!r.hideBypassedNodes}))},setShowQueueMetadata:r=>{a({showQueueMetadata:r})},toggleShowQueueMetadata:()=>{a(r=>({showQueueMetadata:!r.showQueueMetadata}))},cycleConnectionHighlight:r=>{a(o=>{const s=o.connectionHighlightModes[r]??"off",d=s==="off"?"inputs":s==="inputs"?"outputs":s==="outputs"?"both":"off";return{connectionHighlightModes:{...o.connectionHighlightModes,[r]:d}}})},setConnectionHighlightMode:(r,o)=>{a(s=>({connectionHighlightModes:{...s.connectionHighlightModes,[r]:o}}))},hideNode:r=>{a(o=>({manuallyHiddenNodes:{...o.manuallyHiddenNodes,[r]:!0}}))},showAllHiddenNodes:()=>{a({hideStaticNodes:!1,hideBypassedNodes:!1,manuallyHiddenNodes:{}})},updateWorkflowDuration:(r,o)=>{!r||o<=0||a(s=>{const d=s.workflowDurationStats[r],m=(d?.count??0)+1,p=d?(d.avgMs*d.count+o)/m:o;return{workflowDurationStats:{...s.workflowDurationStats,[r]:{avgMs:p,count:m}}}})},setError:r=>{a({error:r})},clearWorkflowCache:()=>{const{currentFilename:r,savedWorkflowStates:o,originalWorkflow:s,nodeTypes:d,bookmarkedWidgets:m}=i(),p={...o},h={...m};if(r&&(delete p[r],delete h[r]),!s){a({savedWorkflowStates:p,bookmarkedWidgets:h,bookmarkedWidget:null,bookmarkOverlayOpen:!1});return}const g={};if(d)for(const y of s.nodes)Yl(s,d,y)!==null&&(g[y.id]=bc(s,d,y));a({workflow:JSON.parse(JSON.stringify(s)),savedWorkflowStates:p,bookmarkedWidgets:h,bookmarkedWidget:null,bookmarkOverlayOpen:!1,seedModes:g,error:null,runCount:1,workflowLoadedAt:Date.now()})},saveCurrentWorkflowState:()=>{const{workflow:r,currentFilename:o,seedModes:s,savedWorkflowStates:d}=i();if(!r||!o)return;const m={};for(const p of r.nodes)m[p.id]={mode:p.mode,flags:p.flags?{collapsed:!!p.flags.collapsed}:void 0,widgets_values:p.widgets_values};a({savedWorkflowStates:{...d,[o]:{nodes:m,seedModes:{...s}}}})},loadWorkflow:(r,o,s)=>{const{currentFilename:d,savedWorkflowStates:m,nodeTypes:p,bookmarkedWidgets:h}=i(),g=s?.fresh??!1,y=s?.source??{type:"other"},x=r.nodes.map(b=>({...b,widgets_values:b.widgets_values??[],inputs:b.inputs??[],outputs:b.outputs??[],flags:b.flags??{},properties:b.properties??{},mode:b.mode??0,order:b.order??0})),C={...r,nodes:x,links:r.links??[],groups:r.groups??[],config:r.config??{},last_node_id:r.last_node_id??Math.max(0,...x.map(b=>b.id)),last_link_id:r.last_link_id??0,version:r.version??.4};let O=null;if(o&&h[o]){const b=h[o];C.nodes.some(T=>T.id===b.nodeId)&&(O=b)}if(d&&i().saveCurrentWorkflowState(),g&&o&&m[o]){const b={...m};delete b[o],a({savedWorkflowStates:b})}const M={};if(p)for(const b of C.nodes)Yl(C,p,b)!==null&&(M[b.id]=bc(C,p,b));const w=!g&&o?m[o]:null;let S=C;if(w){const b=C.nodes.map(T=>{const _=w.nodes[T.id];return _?{...T,mode:_.mode??T.mode,flags:_.flags??T.flags,widgets_values:_.widgets_values??T.widgets_values}:T}),E={...C,nodes:b};S=E,a({workflowSource:y,workflow:E,originalWorkflow:JSON.parse(JSON.stringify(C)),currentFilename:o||null,seedModes:{...M,...w.seedModes},error:null,runCount:1,queuePanelOpen:!1,viewerOpen:!1,viewerImages:[],viewerIndex:0,viewerScale:1,viewerTranslate:{x:0,y:0},workflowLoadedAt:Date.now(),bookmarkedWidget:O,bookmarkOverlayOpen:!1})}else a({workflowSource:y,workflow:C,originalWorkflow:JSON.parse(JSON.stringify(C)),currentFilename:o||null,seedModes:M,error:null,runCount:1,queuePanelOpen:!1,viewerOpen:!1,viewerImages:[],viewerIndex:0,viewerScale:1,viewerTranslate:{x:0,y:0},workflowLoadedAt:Date.now(),bookmarkedWidget:O,bookmarkOverlayOpen:!1});if(p){const b=Sx(S,p),E=Object.values(b).reduce((T,_)=>T+_.length,0);E>0?(i().setNodeErrors(b),a({error:`Workflow load error: ${E} input${E===1?"":"s"} reference missing options.`})):i().clearNodeErrors()}},unloadWorkflow:()=>{const{currentFilename:r,savedWorkflowStates:o}=i();if(r){const s={...o};delete s[r],a({savedWorkflowStates:s})}a({workflowSource:null,workflow:null,originalWorkflow:null,currentFilename:null,seedModes:{},error:null,runCount:1,nodeOutputs:{},promptOutputs:{},queuePanelOpen:!1,viewerOpen:!1,viewerImages:[],viewerIndex:0,viewerScale:1,viewerTranslate:{x:0,y:0},workflowLoadedAt:Date.now(),connectionHighlightModes:{},manuallyHiddenNodes:{},bookmarkedWidget:null,bookmarkOverlayOpen:!1})},setSavedWorkflow:(r,o)=>{a({workflow:r,originalWorkflow:JSON.parse(JSON.stringify(r)),currentFilename:o,error:null})},updateNodeWidget:(r,o,s,d)=>{const{workflow:m}=i();if(!m)return;const p=m.nodes.map(h=>{if(h.id===r){if(!Array.isArray(h.widgets_values)){const y={...h.widgets_values||{}};return d?(y[d]=s,h.type==="VHS_VideoCombine"&&d==="save_image"&&"save_output"in y&&(y.save_output=s)):o>=0&&(y[String(o)]=s),{...h,widgets_values:y}}let g=[...h.widgets_values];return o>=g.length?g.push(s):g[o]=s,h.type==="Power Lora Loader (rgthree)"&&(g=g.filter(y=>y!==null)),{...h,widgets_values:g}}return h});a({workflow:{...m,nodes:p}})},updateNodeWidgets:(r,o)=>{const{workflow:s}=i();if(!s)return;const d=s.nodes.map(m=>{if(m.id===r){if(!Array.isArray(m.widgets_values))return m;const p=[...m.widgets_values];for(const[h,g]of Object.entries(o)){const y=parseInt(h,10);p[y]=g}return{...m,widgets_values:p}}return m});a({workflow:{...s,nodes:d}})},toggleBypass:r=>{const{workflow:o}=i();if(!o)return;const s=o.nodes.map(d=>{if(d.id===r){const p=(d.mode||0)===4?0:4;return{...d,mode:p}}return d});a({workflow:{...o,nodes:s}})},toggleNodeFold:r=>{const{workflow:o}=i();if(!o)return;const s=o.nodes.map(d=>{if(d.id===r){const m=d.flags||{},p=m.collapsed;return{...d,flags:{...m,collapsed:!p}}}return d});a({workflow:{...o,nodes:s}})},setNodeFold:(r,o)=>{const{workflow:s}=i();if(!s)return;const d=s.nodes.map(m=>{if(m.id===r){const p=m.flags||{};return{...m,flags:{...p,collapsed:o}}}return m});a({workflow:{...s,nodes:d}})},ensureNodeExpanded:r=>{const{workflow:o}=i();if(!o||!o.nodes.find(m=>m.id===r)?.flags?.collapsed)return;const d=o.nodes.map(m=>m.id===r?{...m,flags:{...m.flags,collapsed:!1}}:m);a({workflow:{...o,nodes:d}})},scrollToNode:r=>{if(document.body.dataset.textareaFocus==="true")return;i().ensureNodeExpanded(r);const o=document.getElementById(`node-anchor-${r}`)??document.getElementById(`node-${r}`),s=document.getElementById(`node-${r}`);if(o){const d=o.closest('[data-node-list="true"]');if(d){const m=o.getBoundingClientRect(),p=d.getBoundingClientRect(),h=m.top-p.top,g=Math.max(0,d.scrollTop+h);d.scrollTo({top:g,behavior:"smooth"})}else o.scrollIntoView({behavior:"smooth",block:"start"})}if(s){const d=o?.closest('[data-node-list="true"]')||window;let m=null;const p=()=>{document.querySelectorAll(".highlight-pulse").forEach(y=>y.classList.remove("highlight-pulse")),s.classList.add("highlight-pulse"),setTimeout(()=>s.classList.remove("highlight-pulse"),1200),"vibrate"in navigator&&navigator.vibrate(10)},h=()=>{m&&clearTimeout(m),m=setTimeout(()=>{g(),p()},120)},g=()=>{m&&(clearTimeout(m),m=null),d.removeEventListener("scroll",h)};d.addEventListener("scroll",h,{passive:!0}),m=setTimeout(()=>{g(),p()},200)}},setNodeTypes:r=>{a({nodeTypes:r})},setExecutionState:(r,o,s,d)=>{a(m=>{const p=Date.now(),h=r?s??m.executingPromptId:null,g=r?o??m.executingNodeId:null,y={isExecuting:r,executingNodeId:g,executingPromptId:h,progress:d},x=(M,w)=>{if(!M||w<=0||m.workflow?.nodes.find(A=>String(A.id)===M)?.mode===4)return m.nodeDurationStats;const b=String(M),E=m.nodeDurationStats[b],T=(E?.count??0)+1,_=E?(E.avgMs*E.count+w)/T:w;return{...m.nodeDurationStats,[b]:{avgMs:_,count:T}}};if(!r){if(m.currentNodeStartTime&&m.executingNodeId){const M=p-m.currentNodeStartTime;y.nodeDurationStats=x(m.executingNodeId,M)}if(m.executionStartTime&&m.workflow){const M=p-m.executionStartTime,w=zs(m.workflow),S=m.workflowDurationStats[w],b=(S?.count??0)+1,E=S?(S.avgMs*S.count+M)/b:M;y.workflowDurationStats={...m.workflowDurationStats,[w]:{avgMs:E,count:b}}}return y.executionStartTime=null,y.currentNodeStartTime=null,y}const C=h&&h!==m.executingPromptId,O=g&&g!==m.executingNodeId;if(C&&(y.executionStartTime=p,y.currentNodeStartTime=p),O&&m.currentNodeStartTime&&m.executingNodeId){const M=p-m.currentNodeStartTime;y.nodeDurationStats=x(m.executingNodeId,M),y.currentNodeStartTime=p}else m.currentNodeStartTime||(y.currentNodeStartTime=p);return y})},queueWorkflow:async r=>{const{workflow:o,nodeTypes:s,seedModes:d,seedLastValues:m}=i();if(!o||!s){a({error:"Node types are still loading. Try again in a moment."});return}a({isLoading:!0,error:null});try{let p=o,h={...m};for(let g=0;g<r;g++){const y={},x=p.nodes.map(S=>{const b=Yl(p,s,S);if(b===null||!Array.isArray(S.widgets_values))return S;const E=d[S.id]??bc(p,s,S),T=b+1;if(typeof S.widgets_values[T]=="string"){if(!E||E==="fixed")return S;const P=Number(S.widgets_values[b])||0;let V;switch(E){case"randomize":V=Ji(s,S);break;case"increment":V=P+1;break;case"decrement":V=P-1;break;default:return S}const oe=[...S.widgets_values];return oe[b]=V,{...S,widgets_values:oe}}const L=Number(S.widgets_values[b]),H=h[S.id]??null;let W=null;return Hc(L)?W=wx(L,H,s,S):E&&E!=="fixed"&&(E==="randomize"?W=Ji(s,S):E==="increment"?W=(typeof H=="number"?H:L)+1:E==="decrement"&&(W=(typeof H=="number"?H:L)-1)),W===null||(y[S.id]=W,h={...h,[S.id]:W}),S});p={...p,nodes:x},a({workflow:p,seedLastValues:h});const C={},O=new Set,M=new Map;for(const S of p.nodes){if(S.mode===4)continue;let b=null;if(s[S.type])b=S.type;else{const E=Object.entries(s).find(([,T])=>T.display_name===S.type||T.name===S.type);E&&(b=E[0])}b&&(O.add(S.id),M.set(S.id,b))}for(const S of p.nodes){if(S.mode===4)continue;const b=M.get(S.id);if(!b)continue;const E=ax(p,s,S,b,O,Pc(p,S.id),y);C[String(S.id)]={class_type:b,inputs:E}}const w=await fetch(`${At}/api/prompt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:C,client_id:N0,extra_data:{extra_pnginfo:{workflow:p}}})});if(!w.ok){const S=await w.json(),b={};if(S.node_errors)for(const[E,T]of Object.entries(S.node_errors)){const _=T.errors;_&&_.length>0&&(b[E]=_.map(A=>({type:A.type,message:A.message,details:A.details,inputName:A.extra_info?.input_name})))}throw Object.keys(b).length>0&&i().setNodeErrors(b),new Error(S.error?.message||"Failed to queue prompt")}i().clearNodeErrors()}}catch(p){a({error:p instanceof Error?p.message:"Failed to queue workflow"})}finally{pt.getState().fetchQueue(),a({isLoading:!1})}},setSeedMode:(r,o)=>{const{workflow:s,nodeTypes:d,seedModes:m,seedLastValues:p}=i();let h=s;if(s&&d){const g=s.nodes.find(y=>y.id===r);if(g){const y=Yl(s,d,g);if(y!==null&&Array.isArray(g.widgets_values)){const x=y+1,C=[...g.widgets_values];if(typeof C[x]=="string")C[x]=o;else{const w=yx(o);if(w!==null&&o!=="fixed")C[y]=w;else if(o==="fixed"){const S=Number(C[y]);if(Hc(S)){const b=p[r],E=typeof b=="number"?b:Ji(d,g);C[y]=E}}}const M=s.nodes.map(w=>w.id===r?{...w,widgets_values:C}:w);h={...s,nodes:M}}}}a({workflow:h,seedModes:{...m,[r]:o}})},applyControlAfterGenerate:()=>{const{workflow:r}=i();if(!r)return;let o=!1;const s=r.nodes.map(d=>{if(d.type==="PrimitiveNode"){if(!Array.isArray(d.widgets_values))return d;const m=d.outputs?.[0]?.type,p=String(m).toUpperCase();if(p!=="INT"&&p!=="FLOAT")return d;const h=d.widgets_values?.[1];if(!h||h==="fixed")return d;const g=d.widgets_values?.[0];if(typeof g!="number")return d;let y=g;if(h==="increment"?y=p==="INT"?g+1:g+.01:h==="decrement"?y=p==="INT"?g-1:g-.01:h==="randomize"&&(y=p==="INT"?Math.floor(Math.random()*0xffffffffffff):Math.random()),y!==g){o=!0;const x=[...d.widgets_values];return x[0]=y,{...d,widgets_values:x}}}return d});o&&a({workflow:{...r,nodes:s}})},setBookmarkedWidget:r=>{const{currentFilename:o,bookmarkedWidgets:s}=i();if(o&&r)a({bookmarkedWidget:r,bookmarkedWidgets:{...s,[o]:r}});else if(o&&!r){const d={...s};delete d[o],a({bookmarkedWidget:null,bookmarkedWidgets:d})}else a({bookmarkedWidget:r})},setBookmarkOverlayOpen:r=>{a({bookmarkOverlayOpen:r})},toggleBookmarkOverlay:()=>{a(r=>({bookmarkOverlayOpen:!r.bookmarkOverlayOpen}))},setNodeErrors:r=>{const{manuallyHiddenNodes:o}=i(),d=Object.keys(r).filter(m=>o[Number(m)]);if(d.length>0){const m={...o};for(const p of d)delete m[Number(p)];a({nodeErrors:r,manuallyHiddenNodes:m})}else a({nodeErrors:r})},clearNodeErrors:()=>{a({nodeErrors:{}})}}),{name:"workflow-storage",storage:w0(()=>localStorage),partialize:a=>({workflow:a.workflow,originalWorkflow:a.originalWorkflow,currentFilename:a.currentFilename,seedModes:a.seedModes,savedWorkflowStates:a.savedWorkflowStates,theme:a.theme,previewVisibility:a.previewVisibility,previewVisibilityDefault:a.previewVisibilityDefault,runCount:a.runCount,queuePanelOpen:a.queuePanelOpen,queueItemExpanded:a.queueItemExpanded,queueItemUserToggled:a.queueItemUserToggled,queueItemHideImages:a.queueItemHideImages,hideStaticNodes:a.hideStaticNodes,hideBypassedNodes:a.hideBypassedNodes,showQueueMetadata:a.showQueueMetadata,manuallyHiddenNodes:a.manuallyHiddenNodes,bookmarkedWidgets:a.bookmarkedWidgets,bookmarkedWidget:a.bookmarkedWidget,nodeErrors:a.nodeErrors,isExecuting:a.isExecuting,executingNodeId:a.executingNodeId,executingPromptId:a.executingPromptId,progress:a.progress,executionStartTime:a.executionStartTime,currentNodeStartTime:a.currentNodeStartTime,nodeDurationStats:a.nodeDurationStats,workflowDurationStats:a.workflowDurationStats})}));function Np(a,i){return a&&a[i]||null}function zs(a){const i=[...a.nodes].sort((r,o)=>r.id-o.id).map(r=>({id:r.id,type:r.type,mode:r.mode,inputs:r.inputs?.map(o=>o.link??null)??[],outputs:r.outputs?.map(o=>o.links??[])??[]}));return JSON.stringify({nodes:i,links:a.links??[]})}function M0(a,i){try{if(i.type==="PrimitiveNode"){const h=i.outputs?.[0]?.type;if(!h)return[];const g=String(h).toUpperCase(),y=Array.isArray(i.widgets_values)?i.widgets_values[0]:void 0;return[{name:i.outputs?.[0]?.name||"value",type:g,options:void 0,value:y,widgetIndex:0,isCombo:!1,connected:!1,inputIndex:-1}]}if(i.type==="Power Lora Loader (rgthree)"){const h=[],g=i.properties?.["Show Strengths"]==="Separate Model & Clip";let y=[];if(a){const x=Np(a,"LoraLoader");if(x?.input?.required?.lora_name){const[C]=x.input.required.lora_name;Array.isArray(C)&&(y=C)}}if(Array.isArray(i.widgets_values)){const x=i.widgets_values,C=[];x.forEach((O,M)=>{typeof O=="object"&&O!==null&&"lora"in O&&"strength"in O&&C.push(M)}),C.length>0&&(h.push({name:"Loras",type:"POWER_LORA_HEADER",options:{loraIndices:C},value:null,widgetIndex:-1,isCombo:!1,connected:!1,inputIndex:-1}),C.forEach(O=>{const M=x[O];h.push({name:"Lora",type:"POWER_LORA",options:{choices:y.length>0?y:void 0,showSeparate:g},value:M,widgetIndex:O,isCombo:!1,connected:!1,inputIndex:-1})})),h.push({name:"Add Lora",type:"POWER_LORA_ADD",options:void 0,value:null,widgetIndex:i.widgets_values.length,isCombo:!1,connected:!1,inputIndex:-1})}return h}const r=Np(a,i.type);if(!r?.input)return i.outputs?.some(g=>String(g.name||"").toLowerCase().includes("seed")&&String(g.type||"").toUpperCase().includes("INT"))&&Array.isArray(i.widgets_values)&&i.widgets_values.length>0?[{name:"seed",type:"INT",options:void 0,value:i.widgets_values[0],widgetIndex:0,isCombo:!1,connected:!1,inputIndex:-1}]:[];const o=r.input_order?.required||Object.keys(r.input.required||{}),s=r.input_order?.optional||Object.keys(r.input.optional||{}),d=[];let m=0;const p=(h,g)=>{if(!g)return;const[y,x]=g,C=i.inputs.findIndex(A=>A.name===h),O=C>=0?i.inputs[C]:void 0,M=O?.link!=null,w=!!O?.widget&&!M,S=!!O,b=Object.prototype.hasOwnProperty.call(x??{},"default"),E=$s(y)||w||!S||b,T=Array.isArray(y),_=T?{...x??{},options:y}:x;if(E){const A=er(i,h,m);d.push({name:h,type:T?"COMBO":String(y),options:_,value:A,widgetIndex:m,isCombo:T,connected:!!M,inputIndex:C})}E&&(m+=1,String(y)==="INT"&&(h==="seed"||h==="noise_seed")&&(m+=1))};for(const h of o){const g=r.input.required?.[h];g&&p(h,g)}for(const h of s){const g=r.input.optional?.[h];g&&p(h,g)}return d}catch(r){return console.error(`Error collecting widget definitions for node ${i.id} (${i.type}):`,r),[]}}function Aa(a,i){return M0(a,i).filter(r=>!r.isCombo).map(r=>({name:r.name,type:r.type,options:r.options,value:r.value,widgetIndex:r.widgetIndex,connected:r.connected,inputIndex:r.inputIndex}))}function _a(a,i){return M0(a,i).filter(r=>r.isCombo).map(r=>({name:r.name,type:r.type,value:r.value,options:r.options,widgetIndex:r.widgetIndex,connected:r.connected,inputIndex:r.inputIndex}))}const $t=Jc((a,i)=>({history:[],isLoading:!1,addHistoryEntry:r=>{a(s=>s.history.some(d=>d.prompt_id===r.prompt_id)?s:{history:[r,...s.history]});const o=Z.getState();if(o.queueItemExpanded[r.prompt_id]===void 0&&o.setQueueItemExpanded(r.prompt_id,!0),r.workflow&&r.durationSeconds){const s=zs(r.workflow);o.updateWorkflowDuration(s,r.durationSeconds*1e3)}},fetchHistory:async()=>{a({isLoading:!0});try{const r=await sx(50),o=Object.entries(r).map(([d,m])=>{const p=[];for(const S of Object.values(m.outputs))S.images&&p.push(...S.images),S.gifs&&p.push(...S.gifs),S.videos&&p.push(...S.videos);let h=Date.now(),g=null,y=null,x=!1;if(m.status?.messages)for(const[S,b]of m.status.messages)S==="execution_start"&&b.timestamp&&(h=b.timestamp,g=b.timestamp),(S==="execution_end"||S==="execution_success")&&b.timestamp&&(y=b.timestamp),S==="execution_error"&&(x=!0);g===null&&h&&(g=h);const C=g!==null&&y!==null&&y>=g?(y-g)/1e3:void 0,O=m.status?.status_str?.toLowerCase()||"",M=!x&&m.status?.completed!==!1&&!O.includes("error"),w=m.prompt?.[3]?.extra_pnginfo?.workflow;return{prompt_id:d,timestamp:h,durationSeconds:C,success:M,outputs:{images:p},prompt:m.prompt[2],workflow:w}});o.sort((d,m)=>m.timestamp-d.timestamp),a({history:o});const s=Z.getState();for(const d of o)if(s.queueItemExpanded[d.prompt_id]===void 0&&s.setQueueItemExpanded(d.prompt_id,!0),d.workflow&&d.durationSeconds){const m=zs(d.workflow);s.updateWorkflowDuration(m,d.durationSeconds*1e3)}}catch(r){console.error("Failed to fetch history:",r)}finally{a({isLoading:!1})}},deleteItem:async r=>{try{await px(r),a(o=>({history:o.history.filter(s=>s.prompt_id!==r)}))}catch(o){console.error("Failed to delete history item:",o)}},clearHistory:async()=>{try{await gx()}catch(r){console.error("Failed to clear history:",r);try{const o=i().history.map(s=>s.prompt_id);await Sp(o)}catch(o){console.error("Failed to delete history items:",o)}}finally{a({history:[]})}},clearEmptyItems:async()=>{const r=i().history.filter(o=>o.outputs.images.length===0).map(o=>o.prompt_id);if(r.length!==0)try{await Sp(r),a(o=>({history:o.history.filter(s=>!r.includes(s.prompt_id))}))}catch(o){console.error("Failed to delete empty history items:",o)}}}));function Nx(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...a,children:c.jsx("path",{d:"M12 11V16M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21ZM12.0498 8V8.1L11.9502 8.1002V8H12.0498Z"})})}function jx(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M6 4h9l3 3v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),c.jsx("path",{d:"M9 10h6M9 14h6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Cx(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M6 4h9l3 3v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),c.jsx("path",{d:"M9 10h6M9 14h6M9 18h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Ox(a){return c.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:c.jsx("path",{d:"M4 20h16M6 16l4-4m0 0l4-4m-4 4l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function Ex(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M3 7h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),c.jsx("path",{d:"M3 7l9 6 9-6",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})]})}function tr(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("circle",{cx:"12",cy:"5",r:"2",fill:"currentColor"}),c.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}),c.jsx("circle",{cx:"12",cy:"19",r:"2",fill:"currentColor"})]})}function Ls(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{d:"M10 17l5-5-5-5v10z"})})}function ea(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{d:"M7 10l5 5 5-5H7z"})})}function Mx(a){return c.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:c.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})})}function nf(a){return c.jsx("svg",{viewBox:"0 0 16 16","aria-hidden":"true",...a,children:c.jsx("path",{d:"M6.4 11.2L3.2 8l1.1-1.1 2.1 2.1 5-5L12.5 5l-6.1 6.2Z",fill:"currentColor"})})}function T0(a){return c.jsx("svg",{viewBox:"0 0 16 16","aria-hidden":"true",...a,children:c.jsx("path",{d:"M4.2 4.2l7.6 7.6m0-7.6l-7.6 7.6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function k0(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M7 18a4 4 0 0 1 0-8 6 6 0 0 1 11.3-2.2A4.5 4.5 0 0 1 18 18H7Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),c.jsx("path",{d:"M12 10v7m0 0l-3-3m3 3l3-3",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Ql(a){return c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function Xl(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22"})})}function $i(a){return c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M3 6h18M8 6V4h8v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),c.jsx("path",{d:"M10 11v6M14 11v6"})]})}function Tx(a){return c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M15 9l-6 6M9 9l6 6"})]})}function wc(a){return c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M23 4v6h-6M1 20v-6h6"}),c.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]})}function kx(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"})})}function Vc(a){return c.jsx("svg",{viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",...a,children:c.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.3",d:"M9.18613 3.09999H6.81377M9.18613 12.9H7.55288c-3.08678 0-5.35171-2.99581-4.60305-6.08843l.3054-1.26158M14.7486 2.1721l-.5931 2.45c-.132.54533-.6065.92789-1.1508.92789h-2.2993c-.77173 0-1.33797-.74895-1.1508-1.5221l.5931-2.45c.132-.54533.6065-.9279 1.1508-.9279h2.2993c.7717 0 1.3379.74896 1.1508 1.52211Zm-8.3033 0-.59309 2.45c-.13201.54533-.60646.92789-1.15076.92789H2.4021c-.7717 0-1.33793-.74895-1.15077-1.5221l.59309-2.45c.13201-.54533.60647-.9279 1.15077-.9279h2.29935c.77169 0 1.33792.74896 1.15076 1.52211Zm8.3033 9.8-.5931 2.45c-.132.5453-.6065.9279-1.1508.9279h-2.2993c-.77173 0-1.33797-.749-1.1508-1.5221l.5931-2.45c.132-.5453.6065-.9279 1.1508-.9279h2.2993c.7717 0 1.3379.7489 1.1508 1.5221Z"})})}function Ax(a){return c.jsxs("svg",{viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M10.667 2.667c1.45.008 2.235.072 2.748.585C14 3.837 14 4.78 14 6.666v4c0 1.885 0 2.828-.585 3.414-.586.585-1.529.585-3.415.585H6c-1.886 0-2.829 0-3.414-.585C2 13.494 2 12.55 2 10.666v-4c0-1.886 0-2.829.586-3.414.512-.513 1.297-.577 2.747-.585",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),c.jsx("path",{d:"M5.333 2.333c0-.552.448-1 1-1h3.334c.552 0 1 .448 1 1v.667c0 .553-.448 1-1 1H6.333c-.552 0-1-.447-1-1v-.667Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"})]})}function _x(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:c.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})}function Rx(a){return c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...a,children:[c.jsx("rect",{x:"9",y:"9",width:"10",height:"12",rx:"2"}),c.jsx("path",{d:"M5 15V5a2 2 0 0 1 2-2h8"})]})}function Dx(a){return c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...a,children:[c.jsx("circle",{cx:"12",cy:"12",r:"9"}),c.jsx("path",{d:"M7 12h10"})]})}function jp(a){return c.jsx("svg",{viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",...a,children:c.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6 8l4 4 4-4"})})}function nr(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:c.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})}function A0({showSlash:a=!1,...i}){return c.jsxs("svg",{viewBox:"0 0 32 32","aria-hidden":"true",overflow:"visible",...i,children:[c.jsx("path",{d:"M28 28H4a2.002 2.002 0 0 1-2-2V21h2v5h24v-5h2v5a2.002 2.002 0 0 1-2 2Z",fill:"currentColor"}),c.jsx("rect",{x:"7",y:"21",width:"18",height:"2",fill:"currentColor"}),c.jsx("rect",{x:"7",y:"16",width:"18",height:"2",fill:"currentColor"}),c.jsx("rect",{x:"7",y:"11",width:"18",height:"2",fill:"currentColor"}),c.jsx("rect",{x:"7",y:"6",width:"18",height:"2",fill:"currentColor"}),c.jsx("path",{d:"M16 -3l5 4H11l5-4Z",fill:"currentColor"}),a&&c.jsx("line",{x1:"2",y1:"30",x2:"28",y2:"4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})]})}function zx({progress:a,radius:i=11,...r}){const o=Math.min(100,Math.max(0,a)),s=2*Math.PI*i,d=s*(1-o/100);return c.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...r,children:c.jsx("circle",{cx:"12",cy:"12",r:i,fill:"none",stroke:"rgba(34,197,94,0.9)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:s,strokeDashoffset:d})})}function Lx(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}function Hx(a){return c.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}function _0(a){return c.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})}function Vx(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),c.jsx("circle",{cx:"9",cy:"9",r:"1.5",fill:"currentColor"}),c.jsx("circle",{cx:"15",cy:"15",r:"1.5",fill:"currentColor"}),c.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"currentColor"}),c.jsx("circle",{cx:"9",cy:"15",r:"1.5",fill:"currentColor"}),c.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor"})]})}function af(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function Ix(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{d:"M12 2L1 21h22L12 2zm0 3.5L19.5 19h-15L12 5.5zM11 10v4h2v-4h-2zm0 6v2h2v-2h-2z"})})}function Ic(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:c.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})}function Ux(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...a,children:c.jsx("path",{d:"M9 6l6 6-6 6"})})}function Bx(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...a,children:c.jsx("path",{d:"M15 19l-7-7 7-7"})})}function qx({isBypassed:a,...i}){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",...i,children:a?c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M5 12h14"}),c.jsx("path",{d:"M12 5l7 7-7 7"})]}):c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}function Yx({nodeId:a,connectionHighlightMode:i,leftLineCount:r,rightLineCount:o,...s}){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...s,children:[c.jsxs("defs",{children:[c.jsx("clipPath",{id:`node-rect-left-${a}`,children:c.jsx("rect",{x:"0",y:"0",width:"12",height:"24"})}),c.jsx("clipPath",{id:`node-rect-right-${a}`,children:c.jsx("rect",{x:"12",y:"0",width:"12",height:"24"})})]}),i==="off"?c.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.6",fill:"none",className:"text-gray-500"}):c.jsxs(c.Fragment,{children:[c.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.6",fill:"none",strokeLinejoin:"round",clipPath:`url(#node-rect-left-${a})`,className:i==="inputs"||i==="both"?"text-orange-500":"text-gray-500"}),c.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.6",fill:"none",strokeLinejoin:"round",clipPath:`url(#node-rect-right-${a})`,className:i==="outputs"||i==="both"?"text-orange-500":"text-gray-500"})]}),c.jsxs("g",{className:i==="inputs"||i==="both"?"text-orange-500":"text-gray-500",children:[r===1&&c.jsx("line",{x1:"7",y1:"12",x2:"-4.25",y2:"12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),r===2&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:"7",y1:"12",x2:"-4.25",y2:"8.625",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),c.jsx("line",{x1:"7",y1:"12",x2:"-4.25",y2:"15.375",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]}),r>=3&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:"7",y1:"12",x2:"-4.25",y2:"12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),c.jsx("line",{x1:"7",y1:"12",x2:"-2.743",y2:"6.375",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),c.jsx("line",{x1:"7",y1:"12",x2:"-2.743",y2:"17.625",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})]}),c.jsxs("g",{className:i==="outputs"||i==="both"?"text-orange-500":"text-gray-500",children:[o===1&&c.jsx("line",{x1:"17",y1:"12",x2:"28.25",y2:"12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),o===2&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:"17",y1:"12",x2:"28.25",y2:"8.625",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),c.jsx("line",{x1:"17",y1:"12",x2:"28.25",y2:"15.375",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]}),o>=3&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:"17",y1:"12",x2:"28.25",y2:"12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),c.jsx("line",{x1:"17",y1:"12",x2:"26.743",y2:"6.375",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),c.jsx("line",{x1:"17",y1:"12",x2:"26.743",y2:"17.625",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})]})]})}function Qx(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsxs("defs",{children:[c.jsx("clipPath",{id:"legend-trace-left",children:c.jsx("rect",{x:"0",y:"0",width:"12",height:"24"})}),c.jsx("clipPath",{id:"legend-trace-right",children:c.jsx("rect",{x:"12",y:"0",width:"12",height:"24"})})]}),c.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.6",fill:"none",clipPath:"url(#legend-trace-left)",className:"text-gray-400"}),c.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.6",fill:"none",clipPath:"url(#legend-trace-right)",className:"text-orange-500"}),c.jsx("line",{x1:"7",y1:"12",x2:"-4.25",y2:"12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",className:"text-gray-400"}),c.jsx("line",{x1:"17",y1:"12",x2:"28.25",y2:"12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",className:"text-orange-500"})]})}function Cp(a){return c.jsx("svg",{viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",...a,children:c.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.3",d:"m14.6685 5.7416.6425-2.57c.2028-.811-.4106-1.5967-1.2466-1.5967H2.5782a1.285 1.285 0 0 0-1.2467.9733l-.6425 2.57c-.2027.8111.4107 1.5968 1.2467 1.5968h11.4861a1.285 1.285 0 0 0 1.2467-.9734Zm0 7.7102.6425-2.5701c.2028-.811-.4106-1.5967-1.2466-1.5967h-5.061a1.285 1.285 0 0 0-1.2467.9734l-.6425 2.5701c-.2028.811.4106 1.5966 1.2466 1.5966h5.061a1.285 1.285 0 0 0 1.2467-.9733Zm-10.2802 0 .6425-2.5701c.2027-.811-.4107-1.5967-1.2467-1.5967H2.5782a1.285 1.285 0 0 0-1.2467.9734L.689 12.8285c-.2027.811.4107 1.5966 1.2467 1.5966h1.206a1.285 1.285 0 0 0 1.2466-.9733Z"})})}function Gx(a){return c.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:c.jsx("path",{d:"M12 3v10m0 0l-4-4m4 4l4-4M5 19h14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function Xx(a){return c.jsxs("svg",{viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M10.667 2.667c1.45.008 2.235.072 2.748.585C14 3.837 14 4.78 14 6.666v4c0 1.885 0 2.828-.585 3.414-.586.585-1.529.585-3.415.585H6c-1.886 0-2.829 0-3.414-.585C2 13.494 2 12.55 2 10.666v-4c0-1.886 0-2.829.586-3.414.512-.513 1.297-.577 2.747-.585",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),c.jsx("path",{d:"M5.333 2.333c0-.552.448-1 1-1h3.334c.552 0 1 .448 1 1v.667c0 .553-.448 1-1 1H6.333c-.552 0-1-.447-1-1v-.667Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),c.jsx("path",{d:"M8 6.667v4.666m0 0L5.667 9m2.333 2.333L10.333 9",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Wx(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M3 7a2 2 0 0 1 2-2h4l2 2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),c.jsx("path",{d:"M3 9h18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function $x(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M5 4h12l3 3v13H4V5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),c.jsx("rect",{x:"7",y:"4",width:"8",height:"4",fill:"currentColor"}),c.jsx("rect",{x:"7",y:"13",width:"10",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})]})}function Fx(a){return c.jsxs("svg",{viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",...a,children:[c.jsx("path",{d:"M12.667 14H3.333C2.597 14 2 13.403 2 12.667V3.333C2 2.597 2.597 2 3.333 2h7.334L14 5.333v7.334c0 .736-.597 1.333-1.333 1.333Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M11.333 14v-4H4.667v4M4.667 2v3.333h5.333",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Zx(a){return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:[c.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"currentColor"}),c.jsx("path",{d:"M12 2v3M12 19v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M2 12h3M19 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})}function Kx(a){return c.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:c.jsx("path",{d:"M21 14.5A9 9 0 0 1 9.5 3a7 7 0 1 0 11.5 11.5Z",fill:"currentColor"})})}function Jx(a){return c.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor",...a,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})})}function Op(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}function Px(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function eb(a){return c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",...a,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}function tb(a){return c.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...a,children:c.jsx("path",{d:"M8 4h8M8 20h8M9 6h6l-1 4 1 4H9l1-4-1-4Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function nb({progress:a,radius:i=10,trackColor:r="#e5e7eb",progressColor:o="#3b82f6",...s}){const d=Math.min(100,Math.max(0,a)),m=2*Math.PI*i,p=m*(1-d/100);return c.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...s,children:[c.jsx("circle",{cx:"12",cy:"12",r:i,fill:"none",stroke:r,strokeWidth:"2"}),c.jsx("circle",{cx:"12",cy:"12",r:i,fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:p})]})}function ab({onMenuClick:a,mode:i="workflow",rightSlot:r}){const o=j.useRef(null),s=j.useRef(0),d=j.useCallback(()=>{const S=Date.now(),b=S-s.current;if(s.current=S,b<300){if(i==="workflow"){window.dispatchEvent(new Event("workflow-scroll-to-top")),"vibrate"in navigator&&navigator.vibrate(10);return}const E=i==="queue"?['[data-queue-list="true"]','[data-node-list="true"]']:['[data-node-list="true"]','[data-queue-list="true"]'];for(const T of E){const _=document.querySelector(T);if(_&&_.scrollHeight>0&&!_.closest(".pointer-events-none")){_.scrollTo({top:0,behavior:"smooth"}),"vibrate"in navigator&&navigator.vibrate(10);break}}}},[i]),m=Z(S=>S.workflow),p=Z(S=>S.originalWorkflow),h=Z(S=>S.currentFilename),g=Z(S=>S.hideStaticNodes),y=Z(S=>S.hideBypassedNodes),x=Z(S=>S.manuallyHiddenNodes),C=Z(S=>S.nodeTypes),O=pt(S=>S.pending),M=$t(S=>S.history),w=m&&p&&JSON.stringify(m)!==JSON.stringify(p);return j.useEffect(()=>{const S=o.current;if(!S)return;const b=()=>{const T=S.getBoundingClientRect();document.documentElement.style.setProperty("--top-bar-offset",`${T.height}px`)};b();const E=new ResizeObserver(b);return E.observe(S),()=>E.disconnect()},[]),c.jsx("div",{ref:o,className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-40 safe-area-top","data-top-bar":"true",children:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[c.jsx("button",{onClick:a,className:`w-10 h-10 flex items-center justify-center rounded-lg
                     text-gray-700 hover:bg-gray-100`,children:c.jsx(Lx,{className:"w-6 h-6"})}),c.jsxs("div",{className:"flex-1 text-center min-w-0 px-2 cursor-pointer",onClick:d,children:[c.jsxs("h1",{className:"font-semibold text-gray-900 text-lg truncate flex items-center justify-center",children:[c.jsx("span",{className:"truncate",children:i==="queue"?"Queue":h?h.replace(".json",""):m?"Untitled":"ComfyUI Mobile"}),i==="workflow"&&w&&c.jsx("span",{className:"text-blue-500 ml-1 font-bold",children:"*"})]}),i==="workflow"&&m&&c.jsx("p",{className:"text-xs text-gray-500",children:(()=>{const S=m.nodes.length;if(!g&&!y&&Object.keys(x).length===0)return`${S} nodes ${w?"[Unsaved]":""}`.trim();const b=m.nodes.filter(T=>{if(x[T.id]||y&&T.mode===4)return!1;if(!g)return!0;const _=Aa(C,T),A=_a(C,T);return _.length>0||A.length>0}).length,E=S-b;return`${S} nodes (${E} hidden) ${w?"[Unsaved]":""}`.trim()})()}),i==="queue"&&c.jsxs("p",{className:"text-xs text-gray-500",children:[M.length," ",M.length===1?"run":"runs",O.length>0&&` (${O.length} pending)`]})]}),c.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:r??null})]})})}var aa=b0();function Ul(a,i,r){let o=r.initialDeps??[],s,d=!0;function m(){var p,h,g;let y;r.key&&((p=r.debug)!=null&&p.call(r))&&(y=Date.now());const x=a();if(!(x.length!==o.length||x.some((M,w)=>o[w]!==M)))return s;o=x;let O;if(r.key&&((h=r.debug)!=null&&h.call(r))&&(O=Date.now()),s=i(...x),r.key&&((g=r.debug)!=null&&g.call(r))){const M=Math.round((Date.now()-y)*100)/100,w=Math.round((Date.now()-O)*100)/100,S=w/16,b=(E,T)=>{for(E=String(E);E.length<T;)E=" "+E;return E};console.info(`%c ${b(w,5)} /${b(M,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,r?.key)}return r?.onChange&&!(d&&r.skipInitialOnChange)&&r.onChange(s),d=!1,s}return m.updateDeps=p=>{o=p},m}function Ep(a,i){if(a===void 0)throw new Error("Unexpected undefined");return a}const lb=(a,i)=>Math.abs(a-i)<1.01,ib=(a,i,r)=>{let o;return function(...s){a.clearTimeout(o),o=a.setTimeout(()=>i.apply(this,s),r)}},Mp=a=>{const{offsetWidth:i,offsetHeight:r}=a;return{width:i,height:r}},rb=a=>a,sb=a=>{const i=Math.max(a.startIndex-a.overscan,0),r=Math.min(a.endIndex+a.overscan,a.count-1),o=[];for(let s=i;s<=r;s++)o.push(s);return o},ob=(a,i)=>{const r=a.scrollElement;if(!r)return;const o=a.targetWindow;if(!o)return;const s=m=>{const{width:p,height:h}=m;i({width:Math.round(p),height:Math.round(h)})};if(s(Mp(r)),!o.ResizeObserver)return()=>{};const d=new o.ResizeObserver(m=>{const p=()=>{const h=m[0];if(h?.borderBoxSize){const g=h.borderBoxSize[0];if(g){s({width:g.inlineSize,height:g.blockSize});return}}s(Mp(r))};a.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(p):p()});return d.observe(r,{box:"border-box"}),()=>{d.unobserve(r)}},Tp={passive:!0},kp=typeof window>"u"?!0:"onscrollend"in window,ub=(a,i)=>{const r=a.scrollElement;if(!r)return;const o=a.targetWindow;if(!o)return;let s=0;const d=a.options.useScrollendEvent&&kp?()=>{}:ib(o,()=>{i(s,!1)},a.options.isScrollingResetDelay),m=y=>()=>{const{horizontal:x,isRtl:C}=a.options;s=x?r.scrollLeft*(C&&-1||1):r.scrollTop,d(),i(s,y)},p=m(!0),h=m(!1);h(),r.addEventListener("scroll",p,Tp);const g=a.options.useScrollendEvent&&kp;return g&&r.addEventListener("scrollend",h,Tp),()=>{r.removeEventListener("scroll",p),g&&r.removeEventListener("scrollend",h)}},cb=(a,i,r)=>{if(i?.borderBoxSize){const o=i.borderBoxSize[0];if(o)return Math.round(o[r.options.horizontal?"inlineSize":"blockSize"])}return a[r.options.horizontal?"offsetWidth":"offsetHeight"]},fb=(a,{adjustments:i=0,behavior:r},o)=>{var s,d;const m=a+i;(d=(s=o.scrollElement)==null?void 0:s.scrollTo)==null||d.call(s,{[o.options.horizontal?"left":"top"]:m,behavior:r})};class db{constructor(i){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const o=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(s=>{s.forEach(d=>{const m=()=>{this._measureElement(d.target,d)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(m):m()})}));return{disconnect:()=>{var s;(s=o())==null||s.disconnect(),r=null},observe:s=>{var d;return(d=o())==null?void 0:d.observe(s,{box:"border-box"})},unobserve:s=>{var d;return(d=o())==null?void 0:d.unobserve(s)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([o,s])=>{typeof s>"u"&&delete r[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:rb,rangeExtractor:sb,onChange:()=>{},measureElement:cb,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var o,s;(s=(o=this.options).onChange)==null||s.call(o,this,r)},this.maybeNotify=Ul(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,d)=>{this.scrollAdjustments=0,this.scrollDirection=d?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=d,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,o)=>{const s=new Map,d=new Map;for(let m=o-1;m>=0;m--){const p=r[m];if(s.has(p.lane))continue;const h=d.get(p.lane);if(h==null||p.end>h.end?d.set(p.lane,p):p.end<h.end&&s.set(p.lane,!0),s.size===this.options.lanes)break}return d.size===this.options.lanes?Array.from(d.values()).sort((m,p)=>m.end===p.end?m.index-p.index:m.end-p.end)[0]:void 0},this.getMeasurementOptions=Ul(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(r,o,s,d,m,p)=>(this.prevLanes!==void 0&&this.prevLanes!==p&&(this.lanesChangedFlag=!0),this.prevLanes=p,this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:s,getItemKey:d,enabled:m,lanes:p}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Ul(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:o,scrollMargin:s,getItemKey:d,enabled:m,lanes:p},h)=>{if(!m)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>r)for(const C of this.laneAssignments.keys())C>=r&&this.laneAssignments.delete(C);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(C=>{this.itemSizeCache.set(C.key,C.size)}));const g=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===r&&(this.lanesSettling=!1);const y=this.measurementsCache.slice(0,g),x=new Array(p).fill(void 0);for(let C=0;C<g;C++){const O=y[C];O&&(x[O.lane]=C)}for(let C=g;C<r;C++){const O=d(C),M=this.laneAssignments.get(C);let w,S;if(M!==void 0&&this.options.lanes>1){w=M;const _=x[w],A=_!==void 0?y[_]:void 0;S=A?A.end+this.options.gap:o+s}else{const _=this.options.lanes===1?y[C-1]:this.getFurthestMeasurement(y,C);S=_?_.end+this.options.gap:o+s,w=_?_.lane:C%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(C,w)}const b=h.get(O),E=typeof b=="number"?b:this.options.estimateSize(C),T=S+E;y[C]={index:C,start:S,size:E,end:T,key:O,lane:w},x[w]=C}return this.measurementsCache=y,y},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ul(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,o,s,d)=>this.range=r.length>0&&o>0?mb({measurements:r,outerSize:o,scrollOffset:s,lanes:d}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ul(()=>{let r=null,o=null;const s=this.calculateRange();return s&&(r=s.startIndex,o=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,o]},(r,o,s,d,m)=>d===null||m===null?[]:r({startIndex:d,endIndex:m,overscan:o,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const o=this.options.indexAttribute,s=r.getAttribute(o);return s?parseInt(s,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(r,o)=>{const s=this.indexFromElement(r),d=this.measurementsCache[s];if(!d)return;const m=d.key,p=this.elementsCache.get(m);p!==r&&(p&&this.observer.unobserve(p),this.observer.observe(r),this.elementsCache.set(m,r)),r.isConnected&&this.resizeItem(s,this.options.measureElement(r,o,this))},this.resizeItem=(r,o)=>{const s=this.measurementsCache[r];if(!s)return;const d=this.itemSizeCache.get(s.key)??s.size,m=o-d;m!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,m,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=m,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,o)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((o,s)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(s))});return}this._measureElement(r,void 0)},this.getVirtualItems=Ul(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,o)=>{const s=[];for(let d=0,m=r.length;d<m;d++){const p=r[d],h=o[p];s.push(h)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const o=this.getMeasurements();if(o.length!==0)return Ep(o[R0(0,o.length-1,s=>Ep(o[s]).start,r)])},this.getOffsetForAlignment=(r,o,s=0)=>{const d=this.getSize(),m=this.getScrollOffset();o==="auto"&&(o=r>=m+d?"end":"start"),o==="center"?r+=(s-d)/2:o==="end"&&(r-=d);const p=this.getTotalSize()+this.options.scrollMargin-d;return Math.max(Math.min(p,r),0)},this.getOffsetForIndex=(r,o="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const s=this.measurementsCache[r];if(!s)return;const d=this.getSize(),m=this.getScrollOffset();if(o==="auto")if(s.end>=m+d-this.options.scrollPaddingEnd)o="end";else if(s.start<=m+this.options.scrollPaddingStart)o="start";else return[m,o];const p=o==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(p,o,s.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:o="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,o),{adjustments:void 0,behavior:s})},this.scrollToIndex=(r,{align:o="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let d=0;const m=10,p=g=>{if(!this.targetWindow)return;const y=this.getOffsetForIndex(r,g);if(!y){console.warn("Failed to get offset for index:",r);return}const[x,C]=y;this._scrollToOffset(x,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const O=this.getScrollOffset(),M=this.getOffsetForIndex(r,C);if(!M){console.warn("Failed to get offset for index:",r);return}lb(M[0],O)||h(C)})},h=g=>{this.targetWindow&&(d++,d<m?this.targetWindow.requestAnimationFrame(()=>p(g)):console.warn(`Failed to scroll to index ${r} after ${m} attempts.`))};p(o)},this.scrollBy=(r,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var r;const o=this.getMeasurements();let s;if(o.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((r=o[o.length-1])==null?void 0:r.end)??0;else{const d=Array(this.options.lanes).fill(null);let m=o.length-1;for(;m>=0&&d.some(p=>p===null);){const p=o[m];d[p.lane]===null&&(d[p.lane]=p.end),m--}s=Math.max(...d.filter(p=>p!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:o,behavior:s})=>{this.options.scrollToFn(r,{behavior:s,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(i)}}const R0=(a,i,r,o)=>{for(;a<=i;){const s=(a+i)/2|0,d=r(s);if(d<o)a=s+1;else if(d>o)i=s-1;else return s}return a>0?a-1:0};function mb({measurements:a,outerSize:i,scrollOffset:r,lanes:o}){const s=a.length-1,d=h=>a[h].start;if(a.length<=o)return{startIndex:0,endIndex:s};let m=R0(0,s,d,r),p=m;if(o===1)for(;p<s&&a[p].end<r+i;)p++;else if(o>1){const h=Array(o).fill(0);for(;p<s&&h.some(y=>y<r+i);){const y=a[p];h[y.lane]=y.end,p++}const g=Array(o).fill(r+i);for(;m>=0&&g.some(y=>y>=r);){const y=a[m];g[y.lane]=y.start,m--}m=Math.max(0,m-m%o),p=Math.min(s,p+(o-1-p%o))}return{startIndex:m,endIndex:p}}const Ap=typeof document<"u"?j.useLayoutEffect:j.useEffect;function hb(a){const i=j.useReducer(()=>({}),{})[1],r={...a,onChange:(s,d)=>{var m;d?aa.flushSync(i):i(),(m=a.onChange)==null||m.call(a,s,d)}},[o]=j.useState(()=>new db(r));return o.setOptions(r),Ap(()=>o._didMount(),[]),Ap(()=>o._willUpdate()),o}function pb(a){return hb({observeElementRect:ob,observeElementOffset:ub,scrollToFn:fb,...a})}function gb(a){const i=new Map,r=new Map,o=new Map;for(const s of a.nodes)i.set(s.id,s),r.set(s.id,[]),o.set(s.id,[]);for(const s of a.links){const[,d,,m]=s,p=r.get(m);p&&!p.includes(d)&&p.push(d);const h=o.get(d);h&&!h.includes(m)&&h.push(m)}return{nodes:i,dependencies:r,dependents:o}}function vb(a){return["SaveImage","PreviewImage","SaveAnimatedWEBP","SaveAnimatedPNG","SaveVideo","SaveAudio"].some(r=>a.type.includes(r))||a.outputs.length===0||a.outputs.every(r=>!r.links||r.links.length===0)}function yb(a){if(a.nodes.length===0)return[];const i=gb(a),r=new Set,o=[];function s(m){if(r.has(m))return;r.add(m);const p=i.nodes.get(m);if(!p)return;const h=i.dependencies.get(m)||[];for(const g of h)s(g);o.push(p)}const d=a.nodes.filter(vb);if(d.length===0)for(const m of a.nodes)(i.dependents.get(m.id)||[]).length===0&&d.push(m);for(const m of d)s(m.id);for(const m of a.nodes)r.has(m.id)||s(m.id);return o}function Hs(a,i,r){const o=a.nodes.find(g=>g.id===i);if(!o||!o.inputs[r])return null;const s=o.inputs[r].link;if(s===null)return null;const d=a.links.find(g=>g[0]===s);if(!d)return null;const[,m,p]=d,h=a.nodes.find(g=>g.id===m);return h?{node:h,outputIndex:p}:null}function Vs(a,i,r){const o=a.nodes.find(m=>m.id===i);if(!o||!o.outputs[r])return[];const s=o.outputs[r].links||[],d=[];for(const m of s){const p=a.links.find(x=>x[0]===m);if(!p)continue;const[,,,h,g]=p,y=a.nodes.find(x=>x.id===h);y&&d.push({node:y,inputIndex:g})}return d}function Ks({workflow:a,runKey:i,isRunning:r,workflowDurationStats:o}){const[s,d]=j.useState(null),m=j.useRef(null),p=j.useRef(null),h=j.useRef(null),g=j.useRef(null),y=j.useRef(null),x=j.useRef(0),C=j.useRef(null);return j.useEffect(()=>{let O=null,M=null;const w=()=>{if(!a){C.current!==null&&(C.current=null,d(null)),h.current=null,g.current=null,y.current=null,m.current=null,x.current=0,p.current=null;return}const S=250,b=Date.now();let E=null;if(!i)p.current?(h.current=b+S,p.current=null,x.current=100,E=100):h.current&&b<h.current?E=100:(h.current=null,g.current=null,y.current=null,m.current=null,x.current=0,E=null);else if(h.current&&b<h.current)g.current=i,E=100;else if(g.current&&b>=(h.current??0)&&(p.current=g.current,g.current=null,m.current=b-S,x.current=0,h.current=null),p.current&&i!==p.current)y.current!==i&&(y.current=i,h.current=b+S,x.current=100),E=100;else{p.current!==i&&(m.current=b,p.current=i,x.current=0,h.current=null);const T=Math.max(0,b-(m.current??b)),_=zs(a),A=o[_]?.avgMs??null;let L;if(A){const W=T/A*100;L=Math.min(99,Math.max(0,W))}else{const W=T/1e3;W<=50?L=W:L=50+(W-50)*.5,L=Math.min(90,L)}const H=Math.max(x.current,L);x.current=H,E=Math.round(H)}C.current!==E&&(C.current=E,d(E))};return a?(O=setTimeout(w,0),(r||h.current||i)&&(M=setInterval(w,200))):O=setTimeout(w,0),()=>{O&&clearTimeout(O),M&&clearInterval(M)}},[a,i,r,o]),s}function _p(a){const i=a.split(",")[0].trim();return["IMAGE","LATENT","MODEL","CLIP","VAE","CONDITIONING","INT","FLOAT","STRING","BOOLEAN","MASK"].includes(i)?`type-${i}`:"type-default"}function Rp(a){return String(a).split(",").map(i=>i.trim().toUpperCase()).filter(Boolean)}const Dp=j.memo(function({slot:i,nodeId:r,direction:o,slotIndex:s,compact:d=!1,hideLabel:m=!1}){const p=Z(ae=>ae.workflow),h=Z(ae=>ae.scrollToNode),g=Z(ae=>ae.nodeTypes),y=Z(ae=>ae.hideBypassedNodes),x=Z(ae=>ae.hideStaticNodes),C=Z(ae=>ae.manuallyHiddenNodes),[O,M]=j.useState(!1),w=j.useRef(null),S=j.useRef(null),[b,E]=j.useState(null),T=j.useRef(null),_=j.useMemo(()=>{if(!p)return[];const ae=[];if(o==="input"){if(i.link!=null){const D=Hs(p,r,s);D&&ae.push(D.node)}}else{const ce=Vs(p,r,s);for(const D of ce)ae.push(D.node)}return ae},[p,r,o,i,s]),{effectiveNodes:A,directNodes:L,bypassedTargets:H}=j.useMemo(()=>{if(!p)return{effectiveNodes:[],directNodes:[],bypassedTargets:[]};if(!y&&!x)return{effectiveNodes:_,directNodes:_,bypassedTargets:[]};const ae=new Map(p.nodes.map(le=>[le.id,le])),ce=le=>{if(!x)return!0;const fe=Aa(g,le).filter(he=>!he.connected),B=_a(g,le).filter(he=>!he.connected);return fe.length>0||B.length>0},D=le=>y&&le.mode===4||x&&!ce(le)||!!C[le.id],Q=new Set,te=le=>{if(Q.has(le))return[];Q.add(le);const fe=ae.get(le);if(!fe)return[];const B=[];return fe.outputs?.forEach((he,Y)=>{Vs(p,le,Y).forEach(je=>{const Ce=je.node;D(Ce)?B.push(...te(Ce.id)):B.push(Ce)})}),B},me=le=>{if(Q.has(le))return[];Q.add(le);const fe=ae.get(le);if(!fe)return[];const B=[];return fe.inputs?.forEach((he,Y)=>{if(he.link===null)return;const we=Hs(p,le,Y);we&&(D(we.node)?B.push(...me(we.node.id)):B.push(we.node))}),B},K=[],k=[];_.forEach(le=>{D(le)?o==="input"?k.push(...me(le.id)):k.push(...te(le.id)):K.push(le)});const q=new Set(K.map(le=>le.id));let ie=(le=>{const fe=[],B=new Set;return le.forEach(he=>{q.has(he.id)||B.has(he.id)||(B.add(he.id),fe.push(he))}),fe})(k);if(o==="input"&&ie.length>1){const le=new Set(Rp(i.type)),fe=ie.filter(B=>B.outputs?.some(he=>Rp(he.type).some(Y=>le.has(Y))));fe.length>0&&(ie=fe)}return{effectiveNodes:[...K,...ie],directNodes:K,bypassedTargets:ie}},[_,y,x,g,p,o,i.type,C]),W=A.length,P=W===1?A[0].id:null,V=W>0,oe=()=>{if(V){if(W===1&&P!==null){h(P);return}M(ae=>!ae)}};j.useLayoutEffect(()=>{if(!O)return;const ae=()=>{const ce=S.current;if(!ce)return;const D=ce.getBoundingClientRect(),Q=8;E({top:D.bottom+6,...o==="input"?{left:Math.min(D.left,window.innerWidth-Q)}:{right:Math.max(Q,window.innerWidth-D.right)}})};return T.current=ae,ae(),()=>{}},[O,W,o]),j.useEffect(()=>{if(!O)return;const ae=()=>T.current?.(),ce=Q=>{!w.current||!Q.target||S.current?.contains(Q.target)||w.current.contains(Q.target)||M(!1)},D=Q=>{const te=Q.target;w.current&&te&&w.current.contains(te)||M(!1)};return document.addEventListener("mousedown",ce),document.addEventListener("scroll",D,!0),window.addEventListener("resize",ae),()=>{document.removeEventListener("mousedown",ce),document.removeEventListener("scroll",D,!0),window.removeEventListener("resize",ae)}},[O]);const se=d?"w-7 h-7":"w-10 h-10",ge=d?"text-sm":"text-base";return p?c.jsxs("div",{className:"flex items-center gap-2",children:[o==="input"?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:oe,disabled:!V,ref:S,className:`
              flex items-center justify-center rounded-full font-medium
              ${se} flex-shrink-0
              transition-opacity
              ${_p(i.type)}
              ${V?"opacity-100 cursor-pointer active:scale-95":"opacity-40 cursor-not-allowed"}
            `,children:V&&c.jsx("span",{className:ge,children:""})}),!m&&c.jsx("span",{className:"text-sm text-gray-700 truncate",children:i.localized_name||i.name})]}):c.jsxs(c.Fragment,{children:[!m&&c.jsx("span",{className:"text-sm text-gray-700 truncate",children:i.localized_name||i.name}),W>1&&c.jsx("span",{className:"bg-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium flex-shrink-0",children:W}),c.jsx("button",{onClick:oe,disabled:!V,ref:S,className:`
              flex items-center justify-center rounded-full font-medium
              ${se} flex-shrink-0
              transition-opacity
              ${_p(i.type)}
              ${V?"opacity-100 cursor-pointer active:scale-95":"opacity-40 cursor-not-allowed"}
            `,children:V&&c.jsx("span",{className:ge,children:""})})]}),O&&b&&aa.createPortal(c.jsxs("div",{ref:w,className:"fixed z-[1000] bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",style:{top:b.top,right:b.right,left:b.left,maxWidth:"calc(100vw - 16px)"},children:[L.map(ae=>{const D=g?.[ae.type]?.display_name||ae.type;return c.jsxs("button",{className:"block text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:Q=>{Q.stopPropagation(),h(ae.id),M(!1)},children:[D," #",ae.id]},ae.id)}),L.length>0&&H.length>0&&c.jsx("div",{className:"px-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-px flex-1 bg-gray-200"}),c.jsx("span",{className:"text-[10px] text-gray-400",children:"(via bypassed)"}),c.jsx("div",{className:"h-px flex-1 bg-gray-200"})]})}),H.map(ae=>{const D=g?.[ae.type]?.display_name||ae.type;return c.jsxs("button",{className:"block text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:Q=>{Q.stopPropagation(),h(ae.id),M(!1)},children:[D," #",ae.id]},`bypassed-${ae.id}`)})]}),document.body)]}):null});function xb({nodeId:a,inputs:i,outputs:r,allInputs:o,allOutputs:s}){return i.length===0&&r.length===0?null:c.jsxs("div",{className:"mb-3 grid grid-cols-2 gap-3",children:[c.jsx("div",{children:i.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1.5 uppercase tracking-wide",children:"Inputs"}),c.jsx("div",{className:"flex flex-col gap-1.5",children:i.map(d=>{const m=o.findIndex(p=>p.name===d.name);return c.jsx(Dp,{slot:d,nodeId:a,direction:"input",slotIndex:m},`input-${d.name}`)})})]})}),c.jsx("div",{className:"flex flex-col items-end",children:r.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1.5 uppercase tracking-wide text-right w-full",children:"Outputs"}),c.jsx("div",{className:"flex flex-col gap-1.5 w-full items-end",children:r.map(d=>{const m=s.findIndex(p=>p.name===d.name);return c.jsx(Dp,{slot:d,nodeId:a,direction:"output",slotIndex:m},`output-${m}`)})})]})})]})}function bb({nodeId:a,isBypassed:i,bookmarkableWidgets:r,singleBookmarkableWidget:o,isSingleWidgetBookmarked:s,hasNodeBookmark:d,toggleWidgetBookmark:m,setBookmarkedWidget:p,toggleBypass:h,hideNode:g,connectionHighlightMode:y,setConnectionHighlightMode:x,leftLineCount:C,rightLineCount:O}){const[M,w]=j.useState(!1),[S,b]=j.useState(!1),E=j.useRef(null),T=j.useRef(null),[_,A]=j.useState(null);return j.useEffect(()=>{if(!M)return;const L=()=>{const P=T.current;if(!P)return;const V=P.getBoundingClientRect();A({top:V.bottom+6,left:V.right-160})};L();const H=P=>{!E.current||!P.target||T.current?.contains(P.target)||E.current.contains(P.target)||(w(!1),b(!1))},W=P=>{const V=P.target;E.current&&V&&E.current.contains(V)||(w(!1),b(!1))};return document.addEventListener("mousedown",H),document.addEventListener("scroll",W,!0),window.addEventListener("resize",L),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("scroll",W,!0),window.removeEventListener("resize",L)}},[M]),c.jsxs("div",{className:"flex items-center gap-1 relative",onClick:L=>L.stopPropagation(),children:[c.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center","aria-pressed":y!=="off","aria-label":"Highlight connected nodes",onClick:L=>{L.stopPropagation();const H=C>0,W=O>0;if(!H&&!W)return;const P=H&&W?["off","inputs","outputs","both"]:H?["off","inputs"]:["off","outputs"],V=P.indexOf(y),oe=P[(V+1)%P.length];x(a,oe)},disabled:C===0&&O===0,children:c.jsx(Yx,{className:"w-6 h-6 overflow-visible",nodeId:a,connectionHighlightMode:y,leftLineCount:C,rightLineCount:O})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),w(H=>!H)},className:"w-8 h-8 flex items-center justify-center text-gray-700 hover:text-gray-900 bg-transparent hover:bg-transparent","aria-label":"Node options",ref:T,children:c.jsx(tr,{className:"w-5 h-5 -rotate-90"})}),M&&_&&aa.createPortal(c.jsxs("div",{ref:E,className:"fixed z-[1000] w-44 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",style:{top:_.top,left:_.left},children:[c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:L=>{L.stopPropagation(),h(a),w(!1),b(!1)},children:[c.jsx(qx,{className:"w-4 h-4 text-gray-500",isBypassed:i}),i?"Engage node":"Bypass node"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:L=>{L.stopPropagation(),g(a),w(!1),b(!1)},children:[c.jsx(Xl,{className:"w-4 h-4 text-gray-500"}),"Hide node"]}),r.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-gray-200 my-1"}),o?c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:L=>{L.stopPropagation(),m(o.widgetIndex,o.name,o.type,o.options),w(!1),b(!1)},children:[s?c.jsx(nr,{className:"w-4 h-4 text-yellow-500"}):c.jsx(Ic,{className:"w-4 h-4 text-gray-500"}),s?"Remove bookmark":"Bookmark widget"]}):c.jsxs(c.Fragment,{children:[d&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:L=>{L.stopPropagation(),p(null),w(!1),b(!1)},children:[c.jsx(nr,{className:"w-4 h-4 text-yellow-500"}),"Remove bookmark"]}),c.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center justify-between",onClick:L=>{L.stopPropagation(),b(!S)},children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Ic,{className:"w-4 h-4 text-gray-500"}),"Bookmark widget"]}),c.jsx(Ux,{className:`w-4 h-4 text-gray-400 transition-transform ${S?"rotate-90":""}`})]}),S&&c.jsx("div",{className:"border-t border-gray-100 bg-gray-50 max-h-48 overflow-auto",children:r.map(L=>c.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 text-gray-700",onClick:H=>{H.stopPropagation(),p({nodeId:a,widgetIndex:L.widgetIndex,widgetName:L.name,widgetType:L.type,options:L.options}),w(!1),b(!1)},children:L.name},L.widgetIndex))})]})]})]}),document.body)]})}function wb({nodeId:a,open:i,errors:r,anchorRef:o,onClose:s}){const[d,m]=j.useState(null);return j.useEffect(()=>{if(!i)return;const p=()=>{const y=o.current;if(!y)return;const x=y.getBoundingClientRect();m({top:x.bottom+8,left:Math.max(16,Math.min(x.left+x.width/2-140,window.innerWidth-296))})};p();const h=y=>{!y.target||o.current?.contains(y.target)||document.getElementById(`error-popover-${a}`)?.contains(y.target)||s()},g=()=>{s()};return document.addEventListener("mousedown",h),document.addEventListener("scroll",g,!0),window.addEventListener("resize",p),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("scroll",g,!0),window.removeEventListener("resize",p)}},[i,a,s,o]),!i||r.length===0||!d?null:aa.createPortal(c.jsxs("div",{id:`error-popover-${a}`,className:"fixed z-[2000] bg-red-50 border border-red-700 rounded-lg shadow-lg w-72 max-h-64 overflow-auto",style:{top:d.top,left:d.left},children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-red-200 bg-red-700",children:[c.jsxs("span",{className:"text-sm font-semibold text-white",children:[r.length," ",r.length===1?"Error":"Errors"]}),c.jsx("button",{type:"button",onClick:s,className:"w-6 h-6 flex items-center justify-center text-red-200 hover:text-white rounded","aria-label":"Close",children:c.jsx(af,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"p-3 space-y-2 bg-red-100",children:r.map((p,h)=>{const g=p.details?.toLowerCase().replace(/[_\s]/g,"")||"",y=p.inputName?.toLowerCase().replace(/[_\s]/g,"")||"",x=!p.details||p.details===p.message||p.inputName&&g===y;return c.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[c.jsx("span",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-red-700 shrink-0","aria-hidden":"true"}),c.jsxs("div",{className:"min-w-0",children:[p.inputName&&c.jsx("div",{className:"font-medium text-red-900 mb-0.5",children:p.inputName}),c.jsx("div",{className:"text-red-800",children:p.message}),!x&&c.jsx("div",{className:"text-xs text-red-700 mt-0.5 break-words",children:p.details})]})]},h)})})]}),document.body)}async function Sb(a){if(navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(a);return}catch{}const i=document.createElement("textarea");i.value=a,i.readOnly=!0,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.opacity="0",document.body.appendChild(i),i.focus(),i.select(),i.setSelectionRange(0,i.value.length),document.execCommand("copy"),document.body.removeChild(i)}function zp(a,i,r){const o=a.current;if(o){if(o.focus(),i)o.setSelectionRange(i.start,i.end);else if(r!==void 0){const s=r.length;o.setSelectionRange(s,s)}}}function Nb(a){const i=a.current;if(!i)return;const o=i.closest('[data-textarea-root="true"]')?.querySelector('[data-textarea-header="true"]');o?o.scrollIntoView({block:"nearest",behavior:"auto"}):i.scrollIntoView({block:"nearest",behavior:"auto"})}function Pi({value:a,onChange:i,textareaRef:r,className:o=""}){const[s,d]=j.useState(!1),m=j.useRef(null),p=j.useRef(null),h=()=>{d(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>d(!1),900)},g=y=>{y.preventDefault()};return c.jsxs("div",{className:`flex items-center text-[11px] text-gray-500 ${o}`,children:[c.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 px-1 py-0.5 text-gray-600",onMouseDown:g,onClick:async()=>{const y=r.current;y&&(p.current={start:y.selectionStart??0,end:y.selectionEnd??0});const x=r.current?.value??a;await Sb(x),requestAnimationFrame(()=>zp(r,p.current||void 0)),h()},"aria-label":"Copy to clipboard",children:[s?c.jsx(nf,{className:"w-3.5 h-3.5 text-green-500"}):c.jsx(Rx,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Copy"})]}),c.jsx("span",{className:"text-gray-500/50",children:"|"}),c.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 px-1 py-0.5 text-red-600",onMouseDown:g,onClick:()=>{i(""),requestAnimationFrame(()=>{zp(r,void 0,""),Nb(r)})},"aria-label":"Clear text",children:[c.jsx(Dx,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Clear"})]})]})}function jb({noteText:a,noteLinkified:i,noteWidgetIndex:r,isEditingNote:o,setIsEditingNote:s,onUpdateNote:d,noteTextareaRef:m,onNoteTap:p}){return c.jsxs("div",{className:"mb-3 group","data-textarea-root":"true",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1.5","data-textarea-header":"true",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Note"}),o&&c.jsx(Pi,{value:a,onChange:h=>{r!==null&&d(h)},textareaRef:m,className:"opacity-70 transition-opacity group-focus-within:opacity-100"})]}),o?c.jsx("textarea",{ref:m,value:a,onChange:h=>{r!==null&&d(h.target.value)},onBlur:()=>s(!1),className:"w-full p-3 border rounded-lg text-base resize-none note-display",rows:Math.min(8,Math.max(3,a.split(`
`).length))}):c.jsx("div",{className:"w-full p-3 border rounded-lg text-base whitespace-pre-wrap break-words note-display",onDoubleClick:()=>s(!0),onTouchEnd:p,children:i})]})}function Cb({show:a,previewImage:i,displayName:r,onImageClick:o,isExecuting:s,overallProgress:d,displayNodeProgress:m}){return!a||!i?null:c.jsxs("div",{className:"mb-3",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1.5 uppercase tracking-wide",children:"Output Preview"}),c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:_n(i.filename,i.subfolder,i.type),alt:`${r} output`,className:"w-full h-auto rounded-lg border border-gray-100",loading:"lazy",onClick:o},"preview"),s&&d!==null&&c.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-lg flex items-end p-3",children:c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-white/90 mb-1",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[m,"%"]})]}),c.jsx("div",{className:"h-2 rounded-full bg-white/30 overflow-hidden",children:c.jsx("div",{className:"h-full bg-green-500 transition-none",style:{width:`${Math.min(100,Math.max(0,m))}%`}})}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-white/90 mt-2 mb-1",children:[c.jsx("span",{children:"Overall"}),c.jsxs("span",{children:[d,"%"]})]}),c.jsx("div",{className:"h-2 rounded-full bg-white/30 overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-none",style:{width:`${Math.min(100,Math.max(0,d))}%`}})})]})})]})]})}function Ob({nodeId:a,displayName:i,isCollapsed:r,isBypassed:o,isExecuting:s,overallProgress:d,hasErrors:m,errorIconRef:p,errorPopoverOpen:h,setErrorPopoverOpen:g,toggleNodeFold:y,rightSlot:x}){return c.jsxs("div",{className:`flex items-center justify-between cursor-pointer gap-3 ${r?"":"mb-3 pb-2 border-b"} ${o?`bg-purple-200 border-purple-300 -mx-4 px-4 -mt-1 pt-1 rounded-t-xl ${r?"pb-1 -mb-1 rounded-b-xl":""}`:r?"":"border-gray-100"}`,onClick:()=>y(a),children:[c.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[c.jsx("button",{onClick:C=>{C.stopPropagation(),y(a)},className:"w-8 h-8 -ml-2 flex items-center justify-center text-gray-400 hover:text-gray-600 shrink-0",children:r?c.jsx(Ls,{className:"w-6 h-6"}):c.jsx(ea,{className:"w-6 h-6"})}),c.jsx("h3",{className:`font-semibold text-gray-900 select-none flex-1 min-w-0 ${r?"whitespace-nowrap overflow-hidden text-ellipsis":"whitespace-normal break-words"}`,children:i}),c.jsxs("span",{className:"text-xs text-gray-400 min-w-[2ch] text-right",children:["#",a]}),m&&c.jsx("button",{ref:p,type:"button",onClick:C=>{C.stopPropagation(),g(!h)},className:"w-5 h-5 flex items-center justify-center text-red-500 hover:text-red-600 shrink-0","aria-label":"View errors",children:c.jsx(Ix,{className:"w-4 h-4"})}),s&&r&&d!==null?c.jsxs("div",{className:"relative w-6 h-6 flex items-center justify-center",children:[c.jsx(nb,{className:"absolute",width:"24",height:"24",style:{transform:"rotate(-90deg)"},progress:d,radius:10}),c.jsx("span",{className:"text-[8px] font-bold text-blue-600",children:d})]}):null,s&&!r?c.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):null]}),x]})}function Rn({isBookmarked:a,onToggle:i}){return!a||!i?null:c.jsx("button",{type:"button",onClick:r=>{r.preventDefault(),r.stopPropagation(),i()},className:"flex items-center justify-center transition-colors text-yellow-500 hover:text-yellow-600","aria-label":"Remove bookmark",children:c.jsx(nr,{className:"w-5 h-5"})})}function el(a){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},el(a)}function Eb(a,i){if(el(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var o=r.call(a,i);if(el(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function D0(a){var i=Eb(a,"string");return el(i)=="symbol"?i:i+""}function Fi(a,i,r){return(i=D0(i))in a?Object.defineProperty(a,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[i]=r,a}function Lp(a,i){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);i&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),r.push.apply(r,o)}return r}function Oe(a){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?Lp(Object(r),!0).forEach(function(o){Fi(a,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(r,o))})}return a}function Mb(a){if(Array.isArray(a))return a}function Tb(a,i){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var o,s,d,m,p=[],h=!0,g=!1;try{if(d=(r=r.call(a)).next,i===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(o=d.call(r)).done)&&(p.push(o.value),p.length!==i);h=!0);}catch(y){g=!0,s=y}finally{try{if(!h&&r.return!=null&&(m=r.return(),Object(m)!==m))return}finally{if(g)throw s}}return p}}function Uc(a,i){(i==null||i>a.length)&&(i=a.length);for(var r=0,o=Array(i);r<i;r++)o[r]=a[r];return o}function z0(a,i){if(a){if(typeof a=="string")return Uc(a,i);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uc(a,i):void 0}}function kb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ta(a,i){return Mb(a)||Tb(a,i)||z0(a,i)||kb()}function Ab(a,i){if(a==null)return{};var r={};for(var o in a)if({}.hasOwnProperty.call(a,o)){if(i.indexOf(o)!==-1)continue;r[o]=a[o]}return r}function la(a,i){if(a==null)return{};var r,o,s=Ab(a,i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);for(o=0;o<d.length;o++)r=d[o],i.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}var _b=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Rb(a){var i=a.defaultInputValue,r=i===void 0?"":i,o=a.defaultMenuIsOpen,s=o===void 0?!1:o,d=a.defaultValue,m=d===void 0?null:d,p=a.inputValue,h=a.menuIsOpen,g=a.onChange,y=a.onInputChange,x=a.onMenuClose,C=a.onMenuOpen,O=a.value,M=la(a,_b),w=j.useState(p!==void 0?p:r),S=ta(w,2),b=S[0],E=S[1],T=j.useState(h!==void 0?h:s),_=ta(T,2),A=_[0],L=_[1],H=j.useState(O!==void 0?O:m),W=ta(H,2),P=W[0],V=W[1],oe=j.useCallback(function(te,me){typeof g=="function"&&g(te,me),V(te)},[g]),se=j.useCallback(function(te,me){var K;typeof y=="function"&&(K=y(te,me)),E(K!==void 0?K:te)},[y]),ge=j.useCallback(function(){typeof C=="function"&&C(),L(!0)},[C]),ae=j.useCallback(function(){typeof x=="function"&&x(),L(!1)},[x]),ce=p!==void 0?p:b,D=h!==void 0?h:A,Q=O!==void 0?O:P;return Oe(Oe({},M),{},{inputValue:ce,menuIsOpen:D,onChange:oe,onInputChange:se,onMenuClose:ae,onMenuOpen:ge,value:Q})}function Me(){return Me=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},Me.apply(null,arguments)}function Db(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function Hp(a,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,D0(o.key),o)}}function zb(a,i,r){return i&&Hp(a.prototype,i),r&&Hp(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}function Bc(a,i){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Bc(a,i)}function Lb(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&Bc(a,i)}function Is(a){return Is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Is(a)}function L0(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L0=function(){return!!a})()}function Hb(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Vb(a,i){if(i&&(el(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hb(a)}function Ib(a){var i=L0();return function(){var r,o=Is(a);if(i){var s=Is(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return Vb(this,r)}}function Ub(a){if(Array.isArray(a))return Uc(a)}function Bb(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function qb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lf(a){return Ub(a)||Bb(a)||z0(a)||qb()}function Yb(a){if(a.sheet)return a.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===a)return document.styleSheets[i]}function Qb(a){var i=document.createElement("style");return i.setAttribute("data-emotion",a.key),a.nonce!==void 0&&i.setAttribute("nonce",a.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var Gb=(function(){function a(r){var o=this;this._insertTag=function(s){var d;o.tags.length===0?o.insertionPoint?d=o.insertionPoint.nextSibling:o.prepend?d=o.container.firstChild:d=o.before:d=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,d),o.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var i=a.prototype;return i.hydrate=function(o){o.forEach(this._insertTag)},i.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Qb(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var d=Yb(s);try{d.insertRule(o,d.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(o));this.ctr++},i.flush=function(){this.tags.forEach(function(o){var s;return(s=o.parentNode)==null?void 0:s.removeChild(o)}),this.tags=[],this.ctr=0},a})(),Yt="-ms-",Us="-moz-",Fe="-webkit-",H0="comm",rf="rule",sf="decl",Xb="@import",V0="@keyframes",Wb="@layer",$b=Math.abs,Js=String.fromCharCode,Fb=Object.assign;function Zb(a,i){return Ut(a,0)^45?(((i<<2^Ut(a,0))<<2^Ut(a,1))<<2^Ut(a,2))<<2^Ut(a,3):0}function I0(a){return a.trim()}function Kb(a,i){return(a=i.exec(a))?a[0]:a}function Ze(a,i,r){return a.replace(i,r)}function qc(a,i){return a.indexOf(i)}function Ut(a,i){return a.charCodeAt(i)|0}function ar(a,i,r){return a.slice(i,r)}function kn(a){return a.length}function of(a){return a.length}function Ns(a,i){return i.push(a),a}function Jb(a,i){return a.map(i).join("")}var Ps=1,$l=1,U0=0,tn=0,Et=0,Fl="";function eo(a,i,r,o,s,d,m){return{value:a,root:i,parent:r,type:o,props:s,children:d,line:Ps,column:$l,length:m,return:""}}function Xi(a,i){return Fb(eo("",null,null,"",null,null,0),a,{length:-a.length},i)}function Pb(){return Et}function e1(){return Et=tn>0?Ut(Fl,--tn):0,$l--,Et===10&&($l=1,Ps--),Et}function cn(){return Et=tn<U0?Ut(Fl,tn++):0,$l++,Et===10&&($l=1,Ps++),Et}function Dn(){return Ut(Fl,tn)}function Ts(){return tn}function rr(a,i){return ar(Fl,a,i)}function lr(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B0(a){return Ps=$l=1,U0=kn(Fl=a),tn=0,[]}function q0(a){return Fl="",a}function ks(a){return I0(rr(tn-1,Yc(a===91?a+2:a===40?a+1:a)))}function t1(a){for(;(Et=Dn())&&Et<33;)cn();return lr(a)>2||lr(Et)>3?"":" "}function n1(a,i){for(;--i&&cn()&&!(Et<48||Et>102||Et>57&&Et<65||Et>70&&Et<97););return rr(a,Ts()+(i<6&&Dn()==32&&cn()==32))}function Yc(a){for(;cn();)switch(Et){case a:return tn;case 34:case 39:a!==34&&a!==39&&Yc(Et);break;case 40:a===41&&Yc(a);break;case 92:cn();break}return tn}function a1(a,i){for(;cn()&&a+Et!==57;)if(a+Et===84&&Dn()===47)break;return"/*"+rr(i,tn-1)+"*"+Js(a===47?a:cn())}function l1(a){for(;!lr(Dn());)cn();return rr(a,tn)}function i1(a){return q0(As("",null,null,null,[""],a=B0(a),0,[0],a))}function As(a,i,r,o,s,d,m,p,h){for(var g=0,y=0,x=m,C=0,O=0,M=0,w=1,S=1,b=1,E=0,T="",_=s,A=d,L=o,H=T;S;)switch(M=E,E=cn()){case 40:if(M!=108&&Ut(H,x-1)==58){qc(H+=Ze(ks(E),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:H+=ks(E);break;case 9:case 10:case 13:case 32:H+=t1(M);break;case 92:H+=n1(Ts()-1,7);continue;case 47:switch(Dn()){case 42:case 47:Ns(r1(a1(cn(),Ts()),i,r),h);break;default:H+="/"}break;case 123*w:p[g++]=kn(H)*b;case 125*w:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+y:b==-1&&(H=Ze(H,/\f/g,"")),O>0&&kn(H)-x&&Ns(O>32?Ip(H+";",o,r,x-1):Ip(Ze(H," ","")+";",o,r,x-2),h);break;case 59:H+=";";default:if(Ns(L=Vp(H,i,r,g,y,s,p,T,_=[],A=[],x),d),E===123)if(y===0)As(H,i,L,L,_,d,x,p,A);else switch(C===99&&Ut(H,3)===110?100:C){case 100:case 108:case 109:case 115:As(a,L,L,o&&Ns(Vp(a,L,L,0,0,s,p,T,s,_=[],x),A),s,A,x,p,o?_:A);break;default:As(H,L,L,L,[""],A,0,p,A)}}g=y=O=0,w=b=1,T=H="",x=m;break;case 58:x=1+kn(H),O=M;default:if(w<1){if(E==123)--w;else if(E==125&&w++==0&&e1()==125)continue}switch(H+=Js(E),E*w){case 38:b=y>0?1:(H+="\f",-1);break;case 44:p[g++]=(kn(H)-1)*b,b=1;break;case 64:Dn()===45&&(H+=ks(cn())),C=Dn(),y=x=kn(T=H+=l1(Ts())),E++;break;case 45:M===45&&kn(H)==2&&(w=0)}}return d}function Vp(a,i,r,o,s,d,m,p,h,g,y){for(var x=s-1,C=s===0?d:[""],O=of(C),M=0,w=0,S=0;M<o;++M)for(var b=0,E=ar(a,x+1,x=$b(w=m[M])),T=a;b<O;++b)(T=I0(w>0?C[b]+" "+E:Ze(E,/&\f/g,C[b])))&&(h[S++]=T);return eo(a,i,r,s===0?rf:p,h,g,y)}function r1(a,i,r){return eo(a,i,r,H0,Js(Pb()),ar(a,2,-2),0)}function Ip(a,i,r,o){return eo(a,i,r,sf,ar(a,0,o),ar(a,o+1,-1),o)}function Wl(a,i){for(var r="",o=of(a),s=0;s<o;s++)r+=i(a[s],s,a,i)||"";return r}function s1(a,i,r,o){switch(a.type){case Wb:if(a.children.length)break;case Xb:case sf:return a.return=a.return||a.value;case H0:return"";case V0:return a.return=a.value+"{"+Wl(a.children,o)+"}";case rf:a.value=a.props.join(",")}return kn(r=Wl(a.children,o))?a.return=a.value+"{"+r+"}":""}function o1(a){var i=of(a);return function(r,o,s,d){for(var m="",p=0;p<i;p++)m+=a[p](r,o,s,d)||"";return m}}function u1(a){return function(i){i.root||(i=i.return)&&a(i)}}function c1(a){var i=Object.create(null);return function(r){return i[r]===void 0&&(i[r]=a(r)),i[r]}}var f1=function(i,r,o){for(var s=0,d=0;s=d,d=Dn(),s===38&&d===12&&(r[o]=1),!lr(d);)cn();return rr(i,tn)},d1=function(i,r){var o=-1,s=44;do switch(lr(s)){case 0:s===38&&Dn()===12&&(r[o]=1),i[o]+=f1(tn-1,r,o);break;case 2:i[o]+=ks(s);break;case 4:if(s===44){i[++o]=Dn()===58?"&\f":"",r[o]=i[o].length;break}default:i[o]+=Js(s)}while(s=cn());return i},m1=function(i,r){return q0(d1(B0(i),r))},Up=new WeakMap,h1=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var r=i.value,o=i.parent,s=i.column===o.column&&i.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(i.props.length===1&&r.charCodeAt(0)!==58&&!Up.get(o))&&!s){Up.set(i,!0);for(var d=[],m=m1(r,d),p=o.props,h=0,g=0;h<m.length;h++)for(var y=0;y<p.length;y++,g++)i.props[g]=d[h]?m[h].replace(/&\f/g,p[y]):p[y]+" "+m[h]}}},p1=function(i){if(i.type==="decl"){var r=i.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(i.return="",i.value="")}};function Y0(a,i){switch(Zb(a,i)){case 5103:return Fe+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+a+Us+a+Yt+a+a;case 6828:case 4268:return Fe+a+Yt+a+a;case 6165:return Fe+a+Yt+"flex-"+a+a;case 5187:return Fe+a+Ze(a,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+Yt+"flex-$1$2")+a;case 5443:return Fe+a+Yt+"flex-item-"+Ze(a,/flex-|-self/,"")+a;case 4675:return Fe+a+Yt+"flex-line-pack"+Ze(a,/align-content|flex-|-self/,"")+a;case 5548:return Fe+a+Yt+Ze(a,"shrink","negative")+a;case 5292:return Fe+a+Yt+Ze(a,"basis","preferred-size")+a;case 6060:return Fe+"box-"+Ze(a,"-grow","")+Fe+a+Yt+Ze(a,"grow","positive")+a;case 4554:return Fe+Ze(a,/([^-])(transform)/g,"$1"+Fe+"$2")+a;case 6187:return Ze(Ze(Ze(a,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),a,"")+a;case 5495:case 3959:return Ze(a,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return Ze(Ze(a,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+Yt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+a+a;case 4095:case 3583:case 4068:case 2532:return Ze(a,/(.+)-inline(.+)/,Fe+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kn(a)-1-i>6)switch(Ut(a,i+1)){case 109:if(Ut(a,i+4)!==45)break;case 102:return Ze(a,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+Us+(Ut(a,i+3)==108?"$3":"$2-$3"))+a;case 115:return~qc(a,"stretch")?Y0(Ze(a,"stretch","fill-available"),i)+a:a}break;case 4949:if(Ut(a,i+1)!==115)break;case 6444:switch(Ut(a,kn(a)-3-(~qc(a,"!important")&&10))){case 107:return Ze(a,":",":"+Fe)+a;case 101:return Ze(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fe+(Ut(a,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+Yt+"$2box$3")+a}break;case 5936:switch(Ut(a,i+11)){case 114:return Fe+a+Yt+Ze(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return Fe+a+Yt+Ze(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return Fe+a+Yt+Ze(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return Fe+a+Yt+a+a}return a}var g1=function(i,r,o,s){if(i.length>-1&&!i.return)switch(i.type){case sf:i.return=Y0(i.value,i.length);break;case V0:return Wl([Xi(i,{value:Ze(i.value,"@","@"+Fe)})],s);case rf:if(i.length)return Jb(i.props,function(d){switch(Kb(d,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wl([Xi(i,{props:[Ze(d,/:(read-\w+)/,":"+Us+"$1")]})],s);case"::placeholder":return Wl([Xi(i,{props:[Ze(d,/:(plac\w+)/,":"+Fe+"input-$1")]}),Xi(i,{props:[Ze(d,/:(plac\w+)/,":"+Us+"$1")]}),Xi(i,{props:[Ze(d,/:(plac\w+)/,Yt+"input-$1")]})],s)}return""})}},v1=[g1],y1=function(i){var r=i.key;if(r==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(w){var S=w.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=i.stylisPlugins||v1,d={},m,p=[];m=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var S=w.getAttribute("data-emotion").split(" "),b=1;b<S.length;b++)d[S[b]]=!0;p.push(w)});var h,g=[h1,p1];{var y,x=[s1,u1(function(w){y.insert(w)})],C=o1(g.concat(s,x)),O=function(S){return Wl(i1(S),C)};h=function(S,b,E,T){y=E,O(S?S+"{"+b.styles+"}":b.styles),T&&(M.inserted[b.name]=!0)}}var M={key:r,sheet:new Gb({key:r,container:m,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:d,registered:{},insert:h};return M.sheet.hydrate(p),M},Sc={exports:{}},Je={};var Bp;function x1(){if(Bp)return Je;Bp=1;var a=typeof Symbol=="function"&&Symbol.for,i=a?Symbol.for("react.element"):60103,r=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,s=a?Symbol.for("react.strict_mode"):60108,d=a?Symbol.for("react.profiler"):60114,m=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,h=a?Symbol.for("react.async_mode"):60111,g=a?Symbol.for("react.concurrent_mode"):60111,y=a?Symbol.for("react.forward_ref"):60112,x=a?Symbol.for("react.suspense"):60113,C=a?Symbol.for("react.suspense_list"):60120,O=a?Symbol.for("react.memo"):60115,M=a?Symbol.for("react.lazy"):60116,w=a?Symbol.for("react.block"):60121,S=a?Symbol.for("react.fundamental"):60117,b=a?Symbol.for("react.responder"):60118,E=a?Symbol.for("react.scope"):60119;function T(A){if(typeof A=="object"&&A!==null){var L=A.$$typeof;switch(L){case i:switch(A=A.type,A){case h:case g:case o:case d:case s:case x:return A;default:switch(A=A&&A.$$typeof,A){case p:case y:case M:case O:case m:return A;default:return L}}case r:return L}}}function _(A){return T(A)===g}return Je.AsyncMode=h,Je.ConcurrentMode=g,Je.ContextConsumer=p,Je.ContextProvider=m,Je.Element=i,Je.ForwardRef=y,Je.Fragment=o,Je.Lazy=M,Je.Memo=O,Je.Portal=r,Je.Profiler=d,Je.StrictMode=s,Je.Suspense=x,Je.isAsyncMode=function(A){return _(A)||T(A)===h},Je.isConcurrentMode=_,Je.isContextConsumer=function(A){return T(A)===p},Je.isContextProvider=function(A){return T(A)===m},Je.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===i},Je.isForwardRef=function(A){return T(A)===y},Je.isFragment=function(A){return T(A)===o},Je.isLazy=function(A){return T(A)===M},Je.isMemo=function(A){return T(A)===O},Je.isPortal=function(A){return T(A)===r},Je.isProfiler=function(A){return T(A)===d},Je.isStrictMode=function(A){return T(A)===s},Je.isSuspense=function(A){return T(A)===x},Je.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===o||A===g||A===d||A===s||A===x||A===C||typeof A=="object"&&A!==null&&(A.$$typeof===M||A.$$typeof===O||A.$$typeof===m||A.$$typeof===p||A.$$typeof===y||A.$$typeof===S||A.$$typeof===b||A.$$typeof===E||A.$$typeof===w)},Je.typeOf=T,Je}var qp;function b1(){return qp||(qp=1,Sc.exports=x1()),Sc.exports}var Nc,Yp;function w1(){if(Yp)return Nc;Yp=1;var a=b1(),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},d={};d[a.ForwardRef]=o,d[a.Memo]=s;function m(M){return a.isMemo(M)?s:d[M.$$typeof]||i}var p=Object.defineProperty,h=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,C=Object.prototype;function O(M,w,S){if(typeof w!="string"){if(C){var b=x(w);b&&b!==C&&O(M,b,S)}var E=h(w);g&&(E=E.concat(g(w)));for(var T=m(M),_=m(w),A=0;A<E.length;++A){var L=E[A];if(!r[L]&&!(S&&S[L])&&!(_&&_[L])&&!(T&&T[L])){var H=y(w,L);try{p(M,L,H)}catch{}}}}return M}return Nc=O,Nc}w1();var S1=!0;function N1(a,i,r){var o="";return r.split(" ").forEach(function(s){a[s]!==void 0?i.push(a[s]+";"):s&&(o+=s+" ")}),o}var Q0=function(i,r,o){var s=i.key+"-"+r.name;(o===!1||S1===!1)&&i.registered[s]===void 0&&(i.registered[s]=r.styles)},j1=function(i,r,o){Q0(i,r,o);var s=i.key+"-"+r.name;if(i.inserted[r.name]===void 0){var d=r;do i.insert(r===d?"."+s:"",d,i.sheet,!0),d=d.next;while(d!==void 0)}};function C1(a){for(var i=0,r,o=0,s=a.length;s>=4;++o,s-=4)r=a.charCodeAt(o)&255|(a.charCodeAt(++o)&255)<<8|(a.charCodeAt(++o)&255)<<16|(a.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,i=(r&65535)*1540483477+((r>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(s){case 3:i^=(a.charCodeAt(o+2)&255)<<16;case 2:i^=(a.charCodeAt(o+1)&255)<<8;case 1:i^=a.charCodeAt(o)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}var O1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},E1=/[A-Z]|^ms/g,M1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,G0=function(i){return i.charCodeAt(1)===45},Qp=function(i){return i!=null&&typeof i!="boolean"},jc=c1(function(a){return G0(a)?a:a.replace(E1,"-$&").toLowerCase()}),Gp=function(i,r){switch(i){case"animation":case"animationName":if(typeof r=="string")return r.replace(M1,function(o,s,d){return An={name:s,styles:d,next:An},s})}return O1[i]!==1&&!G0(i)&&typeof r=="number"&&r!==0?r+"px":r};function ir(a,i,r){if(r==null)return"";var o=r;if(o.__emotion_styles!==void 0)return o;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return An={name:s.name,styles:s.styles,next:An},s.name;var d=r;if(d.styles!==void 0){var m=d.next;if(m!==void 0)for(;m!==void 0;)An={name:m.name,styles:m.styles,next:An},m=m.next;var p=d.styles+";";return p}return T1(a,i,r)}case"function":{if(a!==void 0){var h=An,g=r(a);return An=h,ir(a,i,g)}break}}var y=r;return y}function T1(a,i,r){var o="";if(Array.isArray(r))for(var s=0;s<r.length;s++)o+=ir(a,i,r[s])+";";else for(var d in r){var m=r[d];if(typeof m!="object"){var p=m;Qp(p)&&(o+=jc(d)+":"+Gp(d,p)+";")}else if(Array.isArray(m)&&typeof m[0]=="string"&&i==null)for(var h=0;h<m.length;h++)Qp(m[h])&&(o+=jc(d)+":"+Gp(d,m[h])+";");else{var g=ir(a,i,m);switch(d){case"animation":case"animationName":{o+=jc(d)+":"+g+";";break}default:o+=d+"{"+g+"}"}}}return o}var Xp=/label:\s*([^\s;{]+)\s*(;|$)/g,An;function X0(a,i,r){if(a.length===1&&typeof a[0]=="object"&&a[0]!==null&&a[0].styles!==void 0)return a[0];var o=!0,s="";An=void 0;var d=a[0];if(d==null||d.raw===void 0)o=!1,s+=ir(r,i,d);else{var m=d;s+=m[0]}for(var p=1;p<a.length;p++)if(s+=ir(r,i,a[p]),o){var h=d;s+=h[p]}Xp.lastIndex=0;for(var g="",y;(y=Xp.exec(s))!==null;)g+="-"+y[1];var x=C1(s)+g;return{name:x,styles:s,next:An}}var k1=function(i){return i()},A1=mp.useInsertionEffect?mp.useInsertionEffect:!1,_1=A1||k1,W0=j.createContext(typeof HTMLElement<"u"?y1({key:"css"}):null);W0.Provider;var R1=function(i){return j.forwardRef(function(r,o){var s=j.useContext(W0);return i(r,s,o)})},D1=j.createContext({}),uf={}.hasOwnProperty,Qc="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",z1=function(i,r){var o={};for(var s in r)uf.call(r,s)&&(o[s]=r[s]);return o[Qc]=i,o},L1=function(i){var r=i.cache,o=i.serialized,s=i.isStringTag;return Q0(r,o,s),_1(function(){return j1(r,o,s)}),null},H1=R1(function(a,i,r){var o=a.css;typeof o=="string"&&i.registered[o]!==void 0&&(o=i.registered[o]);var s=a[Qc],d=[o],m="";typeof a.className=="string"?m=N1(i.registered,d,a.className):a.className!=null&&(m=a.className+" ");var p=X0(d,void 0,j.useContext(D1));m+=i.key+"-"+p.name;var h={};for(var g in a)uf.call(a,g)&&g!=="css"&&g!==Qc&&(h[g]=a[g]);return h.className=m,r&&(h.ref=r),j.createElement(j.Fragment,null,j.createElement(L1,{cache:i,serialized:p,isStringTag:typeof s=="string"}),j.createElement(s,h))}),V1=H1,Ne=function(i,r){var o=arguments;if(r==null||!uf.call(r,"css"))return j.createElement.apply(void 0,o);var s=o.length,d=new Array(s);d[0]=V1,d[1]=z1(i,r);for(var m=2;m<s;m++)d[m]=o[m];return j.createElement.apply(null,d)};(function(a){var i;i||(i=a.JSX||(a.JSX={}))})(Ne||(Ne={}));function cf(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return X0(i)}function I1(){var a=cf.apply(void 0,arguments),i="animation-"+a.name;return{name:i,styles:"@keyframes "+i+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function U1(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}const B1=Math.min,q1=Math.max,Bs=Math.round,js=Math.floor,qs=a=>({x:a,y:a});function Y1(a){const{x:i,y:r,width:o,height:s}=a;return{width:o,height:s,top:r,left:i,right:i+o,bottom:r+s,x:i,y:r}}function to(){return typeof window<"u"}function $0(a){return Z0(a)?(a.nodeName||"").toLowerCase():"#document"}function na(a){var i;return(a==null||(i=a.ownerDocument)==null?void 0:i.defaultView)||window}function F0(a){var i;return(i=(Z0(a)?a.ownerDocument:a.document)||window.document)==null?void 0:i.documentElement}function Z0(a){return to()?a instanceof Node||a instanceof na(a).Node:!1}function Q1(a){return to()?a instanceof Element||a instanceof na(a).Element:!1}function ff(a){return to()?a instanceof HTMLElement||a instanceof na(a).HTMLElement:!1}function Wp(a){return!to()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof na(a).ShadowRoot}const G1=new Set(["inline","contents"]);function K0(a){const{overflow:i,overflowX:r,overflowY:o,display:s}=df(a);return/auto|scroll|overlay|hidden|clip/.test(i+o+r)&&!G1.has(s)}function X1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const W1=new Set(["html","body","#document"]);function $1(a){return W1.has($0(a))}function df(a){return na(a).getComputedStyle(a)}function F1(a){if($0(a)==="html")return a;const i=a.assignedSlot||a.parentNode||Wp(a)&&a.host||F0(a);return Wp(i)?i.host:i}function J0(a){const i=F1(a);return $1(i)?a.ownerDocument?a.ownerDocument.body:a.body:ff(i)&&K0(i)?i:J0(i)}function Ys(a,i,r){var o;i===void 0&&(i=[]),r===void 0&&(r=!0);const s=J0(a),d=s===((o=a.ownerDocument)==null?void 0:o.body),m=na(s);if(d){const p=Gc(m);return i.concat(m,m.visualViewport||[],K0(s)?s:[],p&&r?Ys(p):[])}return i.concat(s,Ys(s,[],r))}function Gc(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function Z1(a){const i=df(a);let r=parseFloat(i.width)||0,o=parseFloat(i.height)||0;const s=ff(a),d=s?a.offsetWidth:r,m=s?a.offsetHeight:o,p=Bs(r)!==d||Bs(o)!==m;return p&&(r=d,o=m),{width:r,height:o,$:p}}function mf(a){return Q1(a)?a:a.contextElement}function $p(a){const i=mf(a);if(!ff(i))return qs(1);const r=i.getBoundingClientRect(),{width:o,height:s,$:d}=Z1(i);let m=(d?Bs(r.width):r.width)/o,p=(d?Bs(r.height):r.height)/s;return(!m||!Number.isFinite(m))&&(m=1),(!p||!Number.isFinite(p))&&(p=1),{x:m,y:p}}const K1=qs(0);function J1(a){const i=na(a);return!X1()||!i.visualViewport?K1:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function P1(a,i,r){return!1}function Fp(a,i,r,o){i===void 0&&(i=!1);const s=a.getBoundingClientRect(),d=mf(a);let m=qs(1);i&&(m=$p(a));const p=P1()?J1(d):qs(0);let h=(s.left+p.x)/m.x,g=(s.top+p.y)/m.y,y=s.width/m.x,x=s.height/m.y;if(d){const C=na(d),O=o;let M=C,w=Gc(M);for(;w&&o&&O!==M;){const S=$p(w),b=w.getBoundingClientRect(),E=df(w),T=b.left+(w.clientLeft+parseFloat(E.paddingLeft))*S.x,_=b.top+(w.clientTop+parseFloat(E.paddingTop))*S.y;h*=S.x,g*=S.y,y*=S.x,x*=S.y,h+=T,g+=_,M=na(w),w=Gc(M)}}return Y1({width:y,height:x,x:h,y:g})}function P0(a,i){return a.x===i.x&&a.y===i.y&&a.width===i.width&&a.height===i.height}function e2(a,i){let r=null,o;const s=F0(a);function d(){var p;clearTimeout(o),(p=r)==null||p.disconnect(),r=null}function m(p,h){p===void 0&&(p=!1),h===void 0&&(h=1),d();const g=a.getBoundingClientRect(),{left:y,top:x,width:C,height:O}=g;if(p||i(),!C||!O)return;const M=js(x),w=js(s.clientWidth-(y+C)),S=js(s.clientHeight-(x+O)),b=js(y),T={rootMargin:-M+"px "+-w+"px "+-S+"px "+-b+"px",threshold:q1(0,B1(1,h))||1};let _=!0;function A(L){const H=L[0].intersectionRatio;if(H!==h){if(!_)return m();H?m(!1,H):o=setTimeout(()=>{m(!1,1e-7)},1e3)}H===1&&!P0(g,a.getBoundingClientRect())&&m(),_=!1}try{r=new IntersectionObserver(A,{...T,root:s.ownerDocument})}catch{r=new IntersectionObserver(A,T)}r.observe(a)}return m(!0),d}function t2(a,i,r,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:d=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,g=mf(a),y=s||d?[...g?Ys(g):[],...Ys(i)]:[];y.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),d&&b.addEventListener("resize",r)});const x=g&&p?e2(g,r):null;let C=-1,O=null;m&&(O=new ResizeObserver(b=>{let[E]=b;E&&E.target===g&&O&&(O.unobserve(i),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var T;(T=O)==null||T.observe(i)})),r()}),g&&!h&&O.observe(g),O.observe(i));let M,w=h?Fp(a):null;h&&S();function S(){const b=Fp(a);w&&!P0(w,b)&&r(),w=b,M=requestAnimationFrame(S)}return r(),()=>{var b;y.forEach(E=>{s&&E.removeEventListener("scroll",r),d&&E.removeEventListener("resize",r)}),x?.(),(b=O)==null||b.disconnect(),O=null,h&&cancelAnimationFrame(M)}}var Xc=j.useLayoutEffect,n2=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Qs=function(){};function a2(a,i){return i?i[0]==="-"?a+i:a+"__"+i:a}function l2(a,i){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var d=[].concat(o);if(i&&a)for(var m in i)i.hasOwnProperty(m)&&i[m]&&d.push("".concat(a2(a,m)));return d.filter(function(p){return p}).map(function(p){return String(p).trim()}).join(" ")}var Zp=function(i){return m2(i)?i.filter(Boolean):el(i)==="object"&&i!==null?[i]:[]},eg=function(i){i.className,i.clearValue,i.cx,i.getStyles,i.getClassNames,i.getValue,i.hasValue,i.isMulti,i.isRtl,i.options,i.selectOption,i.selectProps,i.setValue,i.theme;var r=la(i,n2);return Oe({},r)},gt=function(i,r,o){var s=i.cx,d=i.getStyles,m=i.getClassNames,p=i.className;return{css:d(r,i),className:s(o??{},m(r,i),p)}};function no(a){return[document.documentElement,document.body,window].indexOf(a)>-1}function i2(a){return no(a)?window.innerHeight:a.clientHeight}function tg(a){return no(a)?window.pageYOffset:a.scrollTop}function Gs(a,i){if(no(a)){window.scrollTo(0,i);return}a.scrollTop=i}function r2(a){var i=getComputedStyle(a),r=i.position==="absolute",o=/(auto|scroll)/;if(i.position==="fixed")return document.documentElement;for(var s=a;s=s.parentElement;)if(i=getComputedStyle(s),!(r&&i.position==="static")&&o.test(i.overflow+i.overflowY+i.overflowX))return s;return document.documentElement}function s2(a,i,r,o){return r*((a=a/o-1)*a*a+1)+i}function Cs(a,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Qs,s=tg(a),d=i-s,m=10,p=0;function h(){p+=m;var g=s2(p,s,d,r);Gs(a,g),p<r?window.requestAnimationFrame(h):o(a)}h()}function Kp(a,i){var r=a.getBoundingClientRect(),o=i.getBoundingClientRect(),s=i.offsetHeight/3;o.bottom+s>r.bottom?Gs(a,Math.min(i.offsetTop+i.clientHeight-a.offsetHeight+s,a.scrollHeight)):o.top-s<r.top&&Gs(a,Math.max(i.offsetTop-s,0))}function o2(a){var i=a.getBoundingClientRect();return{bottom:i.bottom,height:i.height,left:i.left,right:i.right,top:i.top,width:i.width}}function Jp(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function u2(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ng=!1,c2={get passive(){return ng=!0}},Os=typeof window<"u"?window:{};Os.addEventListener&&Os.removeEventListener&&(Os.addEventListener("p",Qs,c2),Os.removeEventListener("p",Qs,!1));var f2=ng;function d2(a){return a!=null}function m2(a){return Array.isArray(a)}function Es(a,i,r){return a?i:r}var h2=function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var d=Object.entries(i).filter(function(m){var p=ta(m,1),h=p[0];return!o.includes(h)});return d.reduce(function(m,p){var h=ta(p,2),g=h[0],y=h[1];return m[g]=y,m},{})},p2=["children","innerProps"],g2=["children","innerProps"];function v2(a){var i=a.maxHeight,r=a.menuEl,o=a.minHeight,s=a.placement,d=a.shouldScroll,m=a.isFixedPosition,p=a.controlHeight,h=r2(r),g={placement:"bottom",maxHeight:i};if(!r||!r.offsetParent)return g;var y=h.getBoundingClientRect(),x=y.height,C=r.getBoundingClientRect(),O=C.bottom,M=C.height,w=C.top,S=r.offsetParent.getBoundingClientRect(),b=S.top,E=m?window.innerHeight:i2(h),T=tg(h),_=parseInt(getComputedStyle(r).marginBottom,10),A=parseInt(getComputedStyle(r).marginTop,10),L=b-A,H=E-w,W=L+T,P=x-T-w,V=O-E+T+_,oe=T+w-A,se=160;switch(s){case"auto":case"bottom":if(H>=M)return{placement:"bottom",maxHeight:i};if(P>=M&&!m)return d&&Cs(h,V,se),{placement:"bottom",maxHeight:i};if(!m&&P>=o||m&&H>=o){d&&Cs(h,V,se);var ge=m?H-_:P-_;return{placement:"bottom",maxHeight:ge}}if(s==="auto"||m){var ae=i,ce=m?L:W;return ce>=o&&(ae=Math.min(ce-_-p,i)),{placement:"top",maxHeight:ae}}if(s==="bottom")return d&&Gs(h,V),{placement:"bottom",maxHeight:i};break;case"top":if(L>=M)return{placement:"top",maxHeight:i};if(W>=M&&!m)return d&&Cs(h,oe,se),{placement:"top",maxHeight:i};if(!m&&W>=o||m&&L>=o){var D=i;return(!m&&W>=o||m&&L>=o)&&(D=m?L-A:W-A),d&&Cs(h,oe,se),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:i};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return g}function y2(a){var i={bottom:"top",top:"bottom"};return a?i[a]:"bottom"}var ag=function(i){return i==="auto"?"bottom":i},x2=function(i,r){var o,s=i.placement,d=i.theme,m=d.borderRadius,p=d.spacing,h=d.colors;return Oe((o={label:"menu"},Fi(o,y2(s),"100%"),Fi(o,"position","absolute"),Fi(o,"width","100%"),Fi(o,"zIndex",1),o),r?{}:{backgroundColor:h.neutral0,borderRadius:m,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:p.menuGutter,marginTop:p.menuGutter})},lg=j.createContext(null),b2=function(i){var r=i.children,o=i.minMenuHeight,s=i.maxMenuHeight,d=i.menuPlacement,m=i.menuPosition,p=i.menuShouldScrollIntoView,h=i.theme,g=j.useContext(lg)||{},y=g.setPortalPlacement,x=j.useRef(null),C=j.useState(s),O=ta(C,2),M=O[0],w=O[1],S=j.useState(null),b=ta(S,2),E=b[0],T=b[1],_=h.spacing.controlHeight;return Xc(function(){var A=x.current;if(A){var L=m==="fixed",H=p&&!L,W=v2({maxHeight:s,menuEl:A,minHeight:o,placement:d,shouldScroll:H,isFixedPosition:L,controlHeight:_});w(W.maxHeight),T(W.placement),y?.(W.placement)}},[s,d,m,p,o,y,_]),r({ref:x,placerProps:Oe(Oe({},i),{},{placement:E||ag(d),maxHeight:M})})},w2=function(i){var r=i.children,o=i.innerRef,s=i.innerProps;return Ne("div",Me({},gt(i,"menu",{menu:!0}),{ref:o},s),r)},S2=w2,N2=function(i,r){var o=i.maxHeight,s=i.theme.spacing.baseUnit;return Oe({maxHeight:o,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},j2=function(i){var r=i.children,o=i.innerProps,s=i.innerRef,d=i.isMulti;return Ne("div",Me({},gt(i,"menuList",{"menu-list":!0,"menu-list--is-multi":d}),{ref:s},o),r)},ig=function(i,r){var o=i.theme,s=o.spacing.baseUnit,d=o.colors;return Oe({textAlign:"center"},r?{}:{color:d.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},C2=ig,O2=ig,E2=function(i){var r=i.children,o=r===void 0?"No options":r,s=i.innerProps,d=la(i,p2);return Ne("div",Me({},gt(Oe(Oe({},d),{},{children:o,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),o)},M2=function(i){var r=i.children,o=r===void 0?"Loading...":r,s=i.innerProps,d=la(i,g2);return Ne("div",Me({},gt(Oe(Oe({},d),{},{children:o,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),o)},T2=function(i){var r=i.rect,o=i.offset,s=i.position;return{left:r.left,position:s,top:o,width:r.width,zIndex:1}},k2=function(i){var r=i.appendTo,o=i.children,s=i.controlElement,d=i.innerProps,m=i.menuPlacement,p=i.menuPosition,h=j.useRef(null),g=j.useRef(null),y=j.useState(ag(m)),x=ta(y,2),C=x[0],O=x[1],M=j.useMemo(function(){return{setPortalPlacement:O}},[]),w=j.useState(null),S=ta(w,2),b=S[0],E=S[1],T=j.useCallback(function(){if(s){var H=o2(s),W=p==="fixed"?0:window.pageYOffset,P=H[C]+W;(P!==b?.offset||H.left!==b?.rect.left||H.width!==b?.rect.width)&&E({offset:P,rect:H})}},[s,p,C,b?.offset,b?.rect.left,b?.rect.width]);Xc(function(){T()},[T]);var _=j.useCallback(function(){typeof g.current=="function"&&(g.current(),g.current=null),s&&h.current&&(g.current=t2(s,h.current,T,{elementResize:"ResizeObserver"in window}))},[s,T]);Xc(function(){_()},[_]);var A=j.useCallback(function(H){h.current=H,_()},[_]);if(!r&&p!=="fixed"||!b)return null;var L=Ne("div",Me({ref:A},gt(Oe(Oe({},i),{},{offset:b.offset,position:p,rect:b.rect}),"menuPortal",{"menu-portal":!0}),d),o);return Ne(lg.Provider,{value:M},r?aa.createPortal(L,r):L)},A2=function(i){var r=i.isDisabled,o=i.isRtl;return{label:"container",direction:o?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},_2=function(i){var r=i.children,o=i.innerProps,s=i.isDisabled,d=i.isRtl;return Ne("div",Me({},gt(i,"container",{"--is-disabled":s,"--is-rtl":d}),o),r)},R2=function(i,r){var o=i.theme.spacing,s=i.isMulti,d=i.hasValue,m=i.selectProps.controlShouldRenderValue;return Oe({alignItems:"center",display:s&&d&&m?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(o.baseUnit/2,"px ").concat(o.baseUnit*2,"px")})},D2=function(i){var r=i.children,o=i.innerProps,s=i.isMulti,d=i.hasValue;return Ne("div",Me({},gt(i,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":d}),o),r)},z2=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},L2=function(i){var r=i.children,o=i.innerProps;return Ne("div",Me({},gt(i,"indicatorsContainer",{indicators:!0}),o),r)},Pp,H2=["size"],V2=["innerProps","isRtl","size"],I2={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},rg=function(i){var r=i.size,o=la(i,H2);return Ne("svg",Me({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:I2},o))},hf=function(i){return Ne(rg,Me({size:20},i),Ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},sg=function(i){return Ne(rg,Me({size:20},i),Ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},og=function(i,r){var o=i.isFocused,s=i.theme,d=s.spacing.baseUnit,m=s.colors;return Oe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:o?m.neutral60:m.neutral20,padding:d*2,":hover":{color:o?m.neutral80:m.neutral40}})},U2=og,B2=function(i){var r=i.children,o=i.innerProps;return Ne("div",Me({},gt(i,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),o),r||Ne(sg,null))},q2=og,Y2=function(i){var r=i.children,o=i.innerProps;return Ne("div",Me({},gt(i,"clearIndicator",{indicator:!0,"clear-indicator":!0}),o),r||Ne(hf,null))},Q2=function(i,r){var o=i.isDisabled,s=i.theme,d=s.spacing.baseUnit,m=s.colors;return Oe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:o?m.neutral10:m.neutral20,marginBottom:d*2,marginTop:d*2})},G2=function(i){var r=i.innerProps;return Ne("span",Me({},r,gt(i,"indicatorSeparator",{"indicator-separator":!0})))},X2=I1(Pp||(Pp=U1([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),W2=function(i,r){var o=i.isFocused,s=i.size,d=i.theme,m=d.colors,p=d.spacing.baseUnit;return Oe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:o?m.neutral60:m.neutral20,padding:p*2})},Cc=function(i){var r=i.delay,o=i.offset;return Ne("span",{css:cf({animation:"".concat(X2," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},$2=function(i){var r=i.innerProps,o=i.isRtl,s=i.size,d=s===void 0?4:s,m=la(i,V2);return Ne("div",Me({},gt(Oe(Oe({},m),{},{innerProps:r,isRtl:o,size:d}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ne(Cc,{delay:0,offset:o}),Ne(Cc,{delay:160,offset:!0}),Ne(Cc,{delay:320,offset:!o}))},F2=function(i,r){var o=i.isDisabled,s=i.isFocused,d=i.theme,m=d.colors,p=d.borderRadius,h=d.spacing;return Oe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:o?m.neutral5:m.neutral0,borderColor:o?m.neutral10:s?m.primary:m.neutral20,borderRadius:p,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(m.primary):void 0,"&:hover":{borderColor:s?m.primary:m.neutral30}})},Z2=function(i){var r=i.children,o=i.isDisabled,s=i.isFocused,d=i.innerRef,m=i.innerProps,p=i.menuIsOpen;return Ne("div",Me({ref:d},gt(i,"control",{control:!0,"control--is-disabled":o,"control--is-focused":s,"control--menu-is-open":p}),m,{"aria-disabled":o||void 0}),r)},K2=Z2,J2=["data"],P2=function(i,r){var o=i.theme.spacing;return r?{}:{paddingBottom:o.baseUnit*2,paddingTop:o.baseUnit*2}},ew=function(i){var r=i.children,o=i.cx,s=i.getStyles,d=i.getClassNames,m=i.Heading,p=i.headingProps,h=i.innerProps,g=i.label,y=i.theme,x=i.selectProps;return Ne("div",Me({},gt(i,"group",{group:!0}),h),Ne(m,Me({},p,{selectProps:x,theme:y,getStyles:s,getClassNames:d,cx:o}),g),Ne("div",null,r))},tw=function(i,r){var o=i.theme,s=o.colors,d=o.spacing;return Oe({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:d.baseUnit*3,paddingRight:d.baseUnit*3,textTransform:"uppercase"})},nw=function(i){var r=eg(i);r.data;var o=la(r,J2);return Ne("div",Me({},gt(i,"groupHeading",{"group-heading":!0}),o))},aw=ew,lw=["innerRef","isDisabled","isHidden","inputClassName"],iw=function(i,r){var o=i.isDisabled,s=i.value,d=i.theme,m=d.spacing,p=d.colors;return Oe(Oe({visibility:o?"hidden":"visible",transform:s?"translateZ(0)":""},rw),r?{}:{margin:m.baseUnit/2,paddingBottom:m.baseUnit/2,paddingTop:m.baseUnit/2,color:p.neutral80})},ug={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},rw={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Oe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ug)},sw=function(i){return Oe({label:"input",color:"inherit",background:0,opacity:i?0:1,width:"100%"},ug)},ow=function(i){var r=i.cx,o=i.value,s=eg(i),d=s.innerRef,m=s.isDisabled,p=s.isHidden,h=s.inputClassName,g=la(s,lw);return Ne("div",Me({},gt(i,"input",{"input-container":!0}),{"data-value":o||""}),Ne("input",Me({className:r({input:!0},h),ref:d,style:sw(p),disabled:m},g)))},uw=ow,cw=function(i,r){var o=i.theme,s=o.spacing,d=o.borderRadius,m=o.colors;return Oe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:m.neutral10,borderRadius:d/2,margin:s.baseUnit/2})},fw=function(i,r){var o=i.theme,s=o.borderRadius,d=o.colors,m=i.cropWithEllipsis;return Oe({overflow:"hidden",textOverflow:m||m===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:d.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},dw=function(i,r){var o=i.theme,s=o.spacing,d=o.borderRadius,m=o.colors,p=i.isFocused;return Oe({alignItems:"center",display:"flex"},r?{}:{borderRadius:d/2,backgroundColor:p?m.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:m.dangerLight,color:m.danger}})},cg=function(i){var r=i.children,o=i.innerProps;return Ne("div",o,r)},mw=cg,hw=cg;function pw(a){var i=a.children,r=a.innerProps;return Ne("div",Me({role:"button"},r),i||Ne(hf,{size:14}))}var gw=function(i){var r=i.children,o=i.components,s=i.data,d=i.innerProps,m=i.isDisabled,p=i.removeProps,h=i.selectProps,g=o.Container,y=o.Label,x=o.Remove;return Ne(g,{data:s,innerProps:Oe(Oe({},gt(i,"multiValue",{"multi-value":!0,"multi-value--is-disabled":m})),d),selectProps:h},Ne(y,{data:s,innerProps:Oe({},gt(i,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},r),Ne(x,{data:s,innerProps:Oe(Oe({},gt(i,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},p),selectProps:h}))},vw=gw,yw=function(i,r){var o=i.isDisabled,s=i.isFocused,d=i.isSelected,m=i.theme,p=m.spacing,h=m.colors;return Oe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:d?h.primary:s?h.primary25:"transparent",color:o?h.neutral20:d?h.neutral0:"inherit",padding:"".concat(p.baseUnit*2,"px ").concat(p.baseUnit*3,"px"),":active":{backgroundColor:o?void 0:d?h.primary:h.primary50}})},xw=function(i){var r=i.children,o=i.isDisabled,s=i.isFocused,d=i.isSelected,m=i.innerRef,p=i.innerProps;return Ne("div",Me({},gt(i,"option",{option:!0,"option--is-disabled":o,"option--is-focused":s,"option--is-selected":d}),{ref:m,"aria-disabled":o},p),r)},bw=xw,ww=function(i,r){var o=i.theme,s=o.spacing,d=o.colors;return Oe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:d.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Sw=function(i){var r=i.children,o=i.innerProps;return Ne("div",Me({},gt(i,"placeholder",{placeholder:!0}),o),r)},Nw=Sw,jw=function(i,r){var o=i.isDisabled,s=i.theme,d=s.spacing,m=s.colors;return Oe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:o?m.neutral40:m.neutral80,marginLeft:d.baseUnit/2,marginRight:d.baseUnit/2})},Cw=function(i){var r=i.children,o=i.isDisabled,s=i.innerProps;return Ne("div",Me({},gt(i,"singleValue",{"single-value":!0,"single-value--is-disabled":o}),s),r)},Ow=Cw,Ew={ClearIndicator:Y2,Control:K2,DropdownIndicator:B2,DownChevron:sg,CrossIcon:hf,Group:aw,GroupHeading:nw,IndicatorsContainer:L2,IndicatorSeparator:G2,Input:uw,LoadingIndicator:$2,Menu:S2,MenuList:j2,MenuPortal:k2,LoadingMessage:M2,NoOptionsMessage:E2,MultiValue:vw,MultiValueContainer:mw,MultiValueLabel:hw,MultiValueRemove:pw,Option:bw,Placeholder:Nw,SelectContainer:_2,SingleValue:Ow,ValueContainer:D2},Mw=function(i){return Oe(Oe({},Ew),i.components)},e0=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function Tw(a,i){return!!(a===i||e0(a)&&e0(i))}function kw(a,i){if(a.length!==i.length)return!1;for(var r=0;r<a.length;r++)if(!Tw(a[r],i[r]))return!1;return!0}function Aw(a,i){i===void 0&&(i=kw);var r=null;function o(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];if(r&&r.lastThis===this&&i(s,r.lastArgs))return r.lastResult;var m=a.apply(this,s);return r={lastResult:m,lastArgs:s,lastThis:this},m}return o.clear=function(){r=null},o}var _w={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Rw=function(i){return Ne("span",Me({css:_w},i))},t0=Rw,Dw={guidance:function(i){var r=i.isSearchable,o=i.isMulti,s=i.tabSelectsValue,d=i.context,m=i.isInitialFocus;switch(d){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return m?"".concat(i["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(i){var r=i.action,o=i.label,s=o===void 0?"":o,d=i.labels,m=i.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(d.length>1?"s":""," ").concat(d.join(","),", selected.");case"select-option":return m?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(i){var r=i.context,o=i.focused,s=i.options,d=i.label,m=d===void 0?"":d,p=i.selectValue,h=i.isDisabled,g=i.isSelected,y=i.isAppleDevice,x=function(w,S){return w&&w.length?"".concat(w.indexOf(S)+1," of ").concat(w.length):""};if(r==="value"&&p)return"value ".concat(m," focused, ").concat(x(p,o),".");if(r==="menu"&&y){var C=h?" disabled":"",O="".concat(g?" selected":"").concat(C);return"".concat(m).concat(O,", ").concat(x(s,o),".")}return""},onFilter:function(i){var r=i.inputValue,o=i.resultsMessage;return"".concat(o).concat(r?" for search term "+r:"",".")}},zw=function(i){var r=i.ariaSelection,o=i.focusedOption,s=i.focusedValue,d=i.focusableOptions,m=i.isFocused,p=i.selectValue,h=i.selectProps,g=i.id,y=i.isAppleDevice,x=h.ariaLiveMessages,C=h.getOptionLabel,O=h.inputValue,M=h.isMulti,w=h.isOptionDisabled,S=h.isSearchable,b=h.menuIsOpen,E=h.options,T=h.screenReaderStatus,_=h.tabSelectsValue,A=h.isLoading,L=h["aria-label"],H=h["aria-live"],W=j.useMemo(function(){return Oe(Oe({},Dw),x||{})},[x]),P=j.useMemo(function(){var ce="";if(r&&W.onChange){var D=r.option,Q=r.options,te=r.removedValue,me=r.removedValues,K=r.value,k=function(he){return Array.isArray(he)?null:he},q=te||D||k(K),J=q?C(q):"",ie=Q||me||void 0,le=ie?ie.map(C):[],fe=Oe({isDisabled:q&&w(q,p),label:J,labels:le},r);ce=W.onChange(fe)}return ce},[r,W,w,p,C]),V=j.useMemo(function(){var ce="",D=o||s,Q=!!(o&&p&&p.includes(o));if(D&&W.onFocus){var te={focused:D,label:C(D),isDisabled:w(D,p),isSelected:Q,options:d,context:D===o?"menu":"value",selectValue:p,isAppleDevice:y};ce=W.onFocus(te)}return ce},[o,s,C,w,W,d,p,y]),oe=j.useMemo(function(){var ce="";if(b&&E.length&&!A&&W.onFilter){var D=T({count:d.length});ce=W.onFilter({inputValue:O,resultsMessage:D})}return ce},[d,O,b,W,E,T,A]),se=r?.action==="initial-input-focus",ge=j.useMemo(function(){var ce="";if(W.guidance){var D=s?"value":b?"menu":"input";ce=W.guidance({"aria-label":L,context:D,isDisabled:o&&w(o,p),isMulti:M,isSearchable:S,tabSelectsValue:_,isInitialFocus:se})}return ce},[L,o,s,M,w,S,b,W,p,_,se]),ae=Ne(j.Fragment,null,Ne("span",{id:"aria-selection"},P),Ne("span",{id:"aria-focused"},V),Ne("span",{id:"aria-results"},oe),Ne("span",{id:"aria-guidance"},ge));return Ne(j.Fragment,null,Ne(t0,{id:g},se&&ae),Ne(t0,{"aria-live":H,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},m&&!se&&ae))},Lw=zw,Wc=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Hw=new RegExp("["+Wc.map(function(a){return a.letters}).join("")+"]","g"),fg={};for(var Oc=0;Oc<Wc.length;Oc++)for(var Ec=Wc[Oc],Mc=0;Mc<Ec.letters.length;Mc++)fg[Ec.letters[Mc]]=Ec.base;var dg=function(i){return i.replace(Hw,function(r){return fg[r]})},Vw=Aw(dg),n0=function(i){return i.replace(/^\s+|\s+$/g,"")},Iw=function(i){return"".concat(i.label," ").concat(i.value)},$c=function(i){return function(r,o){if(r.data.__isNew__)return!0;var s=Oe({ignoreCase:!0,ignoreAccents:!0,stringify:Iw,trim:!0,matchFrom:"any"},i),d=s.ignoreCase,m=s.ignoreAccents,p=s.stringify,h=s.trim,g=s.matchFrom,y=h?n0(o):o,x=h?n0(p(r)):p(r);return d&&(y=y.toLowerCase(),x=x.toLowerCase()),m&&(y=Vw(y),x=dg(x)),g==="start"?x.substr(0,y.length)===y:x.indexOf(y)>-1}},Uw=["innerRef"];function Bw(a){var i=a.innerRef,r=la(a,Uw),o=h2(r,"onExited","in","enter","exit","appear");return Ne("input",Me({ref:i},o,{css:cf({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var qw=function(i){i.cancelable&&i.preventDefault(),i.stopPropagation()};function Yw(a){var i=a.isEnabled,r=a.onBottomArrive,o=a.onBottomLeave,s=a.onTopArrive,d=a.onTopLeave,m=j.useRef(!1),p=j.useRef(!1),h=j.useRef(0),g=j.useRef(null),y=j.useCallback(function(S,b){if(g.current!==null){var E=g.current,T=E.scrollTop,_=E.scrollHeight,A=E.clientHeight,L=g.current,H=b>0,W=_-A-T,P=!1;W>b&&m.current&&(o&&o(S),m.current=!1),H&&p.current&&(d&&d(S),p.current=!1),H&&b>W?(r&&!m.current&&r(S),L.scrollTop=_,P=!0,m.current=!0):!H&&-b>T&&(s&&!p.current&&s(S),L.scrollTop=0,P=!0,p.current=!0),P&&qw(S)}},[r,o,s,d]),x=j.useCallback(function(S){y(S,S.deltaY)},[y]),C=j.useCallback(function(S){h.current=S.changedTouches[0].clientY},[]),O=j.useCallback(function(S){var b=h.current-S.changedTouches[0].clientY;y(S,b)},[y]),M=j.useCallback(function(S){if(S){var b=f2?{passive:!1}:!1;S.addEventListener("wheel",x,b),S.addEventListener("touchstart",C,b),S.addEventListener("touchmove",O,b)}},[O,C,x]),w=j.useCallback(function(S){S&&(S.removeEventListener("wheel",x,!1),S.removeEventListener("touchstart",C,!1),S.removeEventListener("touchmove",O,!1))},[O,C,x]);return j.useEffect(function(){if(i){var S=g.current;return M(S),function(){w(S)}}},[i,M,w]),function(S){g.current=S}}var a0=["boxSizing","height","overflow","paddingRight","position"],l0={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function i0(a){a.cancelable&&a.preventDefault()}function r0(a){a.stopPropagation()}function s0(){var a=this.scrollTop,i=this.scrollHeight,r=a+this.offsetHeight;a===0?this.scrollTop=1:r===i&&(this.scrollTop=a-1)}function o0(){return"ontouchstart"in window||navigator.maxTouchPoints}var u0=!!(typeof window<"u"&&window.document&&window.document.createElement),Wi=0,Bl={capture:!1,passive:!1};function Qw(a){var i=a.isEnabled,r=a.accountForScrollbars,o=r===void 0?!0:r,s=j.useRef({}),d=j.useRef(null),m=j.useCallback(function(h){if(u0){var g=document.body,y=g&&g.style;if(o&&a0.forEach(function(M){var w=y&&y[M];s.current[M]=w}),o&&Wi<1){var x=parseInt(s.current.paddingRight,10)||0,C=document.body?document.body.clientWidth:0,O=window.innerWidth-C+x||0;Object.keys(l0).forEach(function(M){var w=l0[M];y&&(y[M]=w)}),y&&(y.paddingRight="".concat(O,"px"))}g&&o0()&&(g.addEventListener("touchmove",i0,Bl),h&&(h.addEventListener("touchstart",s0,Bl),h.addEventListener("touchmove",r0,Bl))),Wi+=1}},[o]),p=j.useCallback(function(h){if(u0){var g=document.body,y=g&&g.style;Wi=Math.max(Wi-1,0),o&&Wi<1&&a0.forEach(function(x){var C=s.current[x];y&&(y[x]=C)}),g&&o0()&&(g.removeEventListener("touchmove",i0,Bl),h&&(h.removeEventListener("touchstart",s0,Bl),h.removeEventListener("touchmove",r0,Bl)))}},[o]);return j.useEffect(function(){if(i){var h=d.current;return m(h),function(){p(h)}}},[i,m,p]),function(h){d.current=h}}var Gw=function(i){var r=i.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Xw={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ww(a){var i=a.children,r=a.lockEnabled,o=a.captureEnabled,s=o===void 0?!0:o,d=a.onBottomArrive,m=a.onBottomLeave,p=a.onTopArrive,h=a.onTopLeave,g=Yw({isEnabled:s,onBottomArrive:d,onBottomLeave:m,onTopArrive:p,onTopLeave:h}),y=Qw({isEnabled:r}),x=function(O){g(O),y(O)};return Ne(j.Fragment,null,r&&Ne("div",{onClick:Gw,css:Xw}),i(x))}var $w={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Fw=function(i){var r=i.name,o=i.onFocus;return Ne("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:o,css:$w,value:"",onChange:function(){}})},Zw=Fw;function pf(a){var i;return typeof window<"u"&&window.navigator!=null?a.test(((i=window.navigator.userAgentData)===null||i===void 0?void 0:i.platform)||window.navigator.platform):!1}function Kw(){return pf(/^iPhone/i)}function mg(){return pf(/^Mac/i)}function Jw(){return pf(/^iPad/i)||mg()&&navigator.maxTouchPoints>1}function Pw(){return Kw()||Jw()}function eS(){return mg()||Pw()}var tS=function(i){return i.label},nS=function(i){return i.label},aS=function(i){return i.value},lS=function(i){return!!i.isDisabled},iS={clearIndicator:q2,container:A2,control:F2,dropdownIndicator:U2,group:P2,groupHeading:tw,indicatorsContainer:z2,indicatorSeparator:Q2,input:iw,loadingIndicator:W2,loadingMessage:O2,menu:x2,menuList:N2,menuPortal:T2,multiValue:cw,multiValueLabel:fw,multiValueRemove:dw,noOptionsMessage:C2,option:yw,placeholder:ww,singleValue:jw,valueContainer:R2},rS={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},sS=4,hg=4,oS=38,uS=hg*2,cS={baseUnit:hg,controlHeight:oS,menuGutter:uS},Tc={borderRadius:sS,colors:rS,spacing:cS},fS={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Jp(),captureMenuScroll:!Jp(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:$c(),formatGroupLabel:tS,getOptionLabel:nS,getOptionValue:aS,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:lS,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!u2(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(i){var r=i.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function c0(a,i,r,o){var s=vg(a,i,r),d=yg(a,i,r),m=gg(a,i),p=Xs(a,i);return{type:"option",data:i,isDisabled:s,isSelected:d,label:m,value:p,index:o}}function _s(a,i){return a.options.map(function(r,o){if("options"in r){var s=r.options.map(function(m,p){return c0(a,m,i,p)}).filter(function(m){return d0(a,m)});return s.length>0?{type:"group",data:r,options:s,index:o}:void 0}var d=c0(a,r,i,o);return d0(a,d)?d:void 0}).filter(d2)}function pg(a){return a.reduce(function(i,r){return r.type==="group"?i.push.apply(i,lf(r.options.map(function(o){return o.data}))):i.push(r.data),i},[])}function f0(a,i){return a.reduce(function(r,o){return o.type==="group"?r.push.apply(r,lf(o.options.map(function(s){return{data:s.data,id:"".concat(i,"-").concat(o.index,"-").concat(s.index)}}))):r.push({data:o.data,id:"".concat(i,"-").concat(o.index)}),r},[])}function dS(a,i){return pg(_s(a,i))}function d0(a,i){var r=a.inputValue,o=r===void 0?"":r,s=i.data,d=i.isSelected,m=i.label,p=i.value;return(!bg(a)||!d)&&xg(a,{label:m,value:p,data:s},o)}function mS(a,i){var r=a.focusedValue,o=a.selectValue,s=o.indexOf(r);if(s>-1){var d=i.indexOf(r);if(d>-1)return r;if(s<i.length)return i[s]}return null}function hS(a,i){var r=a.focusedOption;return r&&i.indexOf(r)>-1?r:i[0]}var kc=function(i,r){var o,s=(o=i.find(function(d){return d.data===r}))===null||o===void 0?void 0:o.id;return s||null},gg=function(i,r){return i.getOptionLabel(r)},Xs=function(i,r){return i.getOptionValue(r)};function vg(a,i,r){return typeof a.isOptionDisabled=="function"?a.isOptionDisabled(i,r):!1}function yg(a,i,r){if(r.indexOf(i)>-1)return!0;if(typeof a.isOptionSelected=="function")return a.isOptionSelected(i,r);var o=Xs(a,i);return r.some(function(s){return Xs(a,s)===o})}function xg(a,i,r){return a.filterOption?a.filterOption(i,r):!0}var bg=function(i){var r=i.hideSelectedOptions,o=i.isMulti;return r===void 0?o:r},pS=1,wg=(function(a){Lb(r,a);var i=Ib(r);function r(o){var s;if(Db(this,r),s=i.call(this,o),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(h){s.controlRef=h},s.focusedOptionRef=null,s.getFocusedOptionRef=function(h){s.focusedOptionRef=h},s.menuListRef=null,s.getMenuListRef=function(h){s.menuListRef=h},s.inputRef=null,s.getInputRef=function(h){s.inputRef=h},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(h,g){var y=s.props,x=y.onChange,C=y.name;g.name=C,s.ariaOnChange(h,g),x(h,g)},s.setValue=function(h,g,y){var x=s.props,C=x.closeMenuOnSelect,O=x.isMulti,M=x.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:M}),C&&(s.setState({inputIsHiddenAfterUpdate:!O}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(h,{action:g,option:y})},s.selectOption=function(h){var g=s.props,y=g.blurInputOnSelect,x=g.isMulti,C=g.name,O=s.state.selectValue,M=x&&s.isOptionSelected(h,O),w=s.isOptionDisabled(h,O);if(M){var S=s.getOptionValue(h);s.setValue(O.filter(function(b){return s.getOptionValue(b)!==S}),"deselect-option",h)}else if(!w)x?s.setValue([].concat(lf(O),[h]),"select-option",h):s.setValue(h,"select-option");else{s.ariaOnChange(h,{action:"select-option",option:h,name:C});return}y&&s.blurInput()},s.removeValue=function(h){var g=s.props.isMulti,y=s.state.selectValue,x=s.getOptionValue(h),C=y.filter(function(M){return s.getOptionValue(M)!==x}),O=Es(g,C,C[0]||null);s.onChange(O,{action:"remove-value",removedValue:h}),s.focusInput()},s.clearValue=function(){var h=s.state.selectValue;s.onChange(Es(s.props.isMulti,[],null),{action:"clear",removedValues:h})},s.popValue=function(){var h=s.props.isMulti,g=s.state.selectValue,y=g[g.length-1],x=g.slice(0,g.length-1),C=Es(h,x,x[0]||null);y&&s.onChange(C,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(h){return kc(s.state.focusableOptionsWithIds,h)},s.getFocusableOptionsWithIds=function(){return f0(_s(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];return l2.apply(void 0,[s.props.classNamePrefix].concat(g))},s.getOptionLabel=function(h){return gg(s.props,h)},s.getOptionValue=function(h){return Xs(s.props,h)},s.getStyles=function(h,g){var y=s.props.unstyled,x=iS[h](g,y);x.boxSizing="border-box";var C=s.props.styles[h];return C?C(x,g):x},s.getClassNames=function(h,g){var y,x;return(y=(x=s.props.classNames)[h])===null||y===void 0?void 0:y.call(x,g)},s.getElementId=function(h){return"".concat(s.state.instancePrefix,"-").concat(h)},s.getComponents=function(){return Mw(s.props)},s.buildCategorizedOptions=function(){return _s(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return pg(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(h,g){s.setState({ariaSelection:Oe({value:h},g)})},s.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(h){s.blockOptionHover=!1},s.onControlMouseDown=function(h){if(!h.defaultPrevented){var g=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&s.onMenuClose():g&&s.openMenu("first"):(g&&(s.openAfterFocus=!0),s.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},s.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!s.props.isDisabled){var g=s.props,y=g.isMulti,x=g.menuIsOpen;s.focusInput(),x?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),h.preventDefault()}},s.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(s.clearValue(),h.preventDefault(),s.openAfterFocus=!1,h.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(h){typeof s.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&no(h.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(h)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(h){var g=h.touches,y=g&&g.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(h){var g=h.touches,y=g&&g.item(0);if(y){var x=Math.abs(y.clientX-s.initialTouchX),C=Math.abs(y.clientY-s.initialTouchY),O=5;s.userIsDragging=x>O||C>O}},s.onTouchEnd=function(h){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(h.target)&&s.menuListRef&&!s.menuListRef.contains(h.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(h){s.userIsDragging||s.onControlMouseDown(h)},s.onClearIndicatorTouchEnd=function(h){s.userIsDragging||s.onClearIndicatorMouseDown(h)},s.onDropdownIndicatorTouchEnd=function(h){s.userIsDragging||s.onDropdownIndicatorMouseDown(h)},s.handleInputChange=function(h){var g=s.props.inputValue,y=h.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:g}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(h){s.props.onFocus&&s.props.onFocus(h),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(h){var g=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(h),s.onInputChange("",{action:"input-blur",prevInputValue:g}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(h){if(!(s.blockOptionHover||s.state.focusedOption===h)){var g=s.getFocusableOptions(),y=g.indexOf(h);s.setState({focusedOption:h,focusedOptionId:y>-1?s.getFocusedOptionId(h):null})}},s.shouldHideSelectedOptions=function(){return bg(s.props)},s.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),s.focus()},s.onKeyDown=function(h){var g=s.props,y=g.isMulti,x=g.backspaceRemovesValue,C=g.escapeClearsValue,O=g.inputValue,M=g.isClearable,w=g.isDisabled,S=g.menuIsOpen,b=g.onKeyDown,E=g.tabSelectsValue,T=g.openMenuOnFocus,_=s.state,A=_.focusedOption,L=_.focusedValue,H=_.selectValue;if(!w&&!(typeof b=="function"&&(b(h),h.defaultPrevented))){switch(s.blockOptionHover=!0,h.key){case"ArrowLeft":if(!y||O)return;s.focusValue("previous");break;case"ArrowRight":if(!y||O)return;s.focusValue("next");break;case"Delete":case"Backspace":if(O)return;if(L)s.removeValue(L);else{if(!x)return;y?s.popValue():M&&s.clearValue()}break;case"Tab":if(s.isComposing||h.shiftKey||!S||!E||!A||T&&s.isOptionSelected(A,H))return;s.selectOption(A);break;case"Enter":if(h.keyCode===229)break;if(S){if(!A||s.isComposing)return;s.selectOption(A);break}return;case"Escape":S?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:O}),s.onMenuClose()):M&&C&&s.clearValue();break;case" ":if(O)return;if(!S){s.openMenu("first");break}if(!A)return;s.selectOption(A);break;case"ArrowUp":S?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":S?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!S)return;s.focusOption("pageup");break;case"PageDown":if(!S)return;s.focusOption("pagedown");break;case"Home":if(!S)return;s.focusOption("first");break;case"End":if(!S)return;s.focusOption("last");break;default:return}h.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++pS),s.state.selectValue=Zp(o.value),o.menuIsOpen&&s.state.selectValue.length){var d=s.getFocusableOptionsWithIds(),m=s.buildFocusableOptions(),p=m.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=d,s.state.focusedOption=m[p],s.state.focusedOptionId=kc(d,m[p])}return s}return zb(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Kp(this.menuListRef,this.focusedOptionRef),eS()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var d=this.props,m=d.isDisabled,p=d.menuIsOpen,h=this.state.isFocused;(h&&!m&&s.isDisabled||h&&p&&!s.menuIsOpen)&&this.focusInput(),h&&m&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!m&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Kp(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,d){this.props.onInputChange(s,d)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var d=this,m=this.state,p=m.selectValue,h=m.isFocused,g=this.buildFocusableOptions(),y=s==="first"?0:g.length-1;if(!this.props.isMulti){var x=g.indexOf(p[0]);x>-1&&(y=x)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:g[y],focusedOptionId:this.getFocusedOptionId(g[y])},function(){return d.onMenuOpen()})}},{key:"focusValue",value:function(s){var d=this.state,m=d.selectValue,p=d.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=m.indexOf(p);p||(h=-1);var g=m.length-1,y=-1;if(m.length){switch(s){case"previous":h===0?y=0:h===-1?y=g:y=h-1;break;case"next":h>-1&&h<g&&(y=h+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:m[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",d=this.props.pageSize,m=this.state.focusedOption,p=this.getFocusableOptions();if(p.length){var h=0,g=p.indexOf(m);m||(g=-1),s==="up"?h=g>0?g-1:p.length-1:s==="down"?h=(g+1)%p.length:s==="pageup"?(h=g-d,h<0&&(h=0)):s==="pagedown"?(h=g+d,h>p.length-1&&(h=p.length-1)):s==="last"&&(h=p.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:p[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(p[h])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Tc):Oe(Oe({},Tc),this.props.theme):Tc})},{key:"getCommonProps",value:function(){var s=this.clearValue,d=this.cx,m=this.getStyles,p=this.getClassNames,h=this.getValue,g=this.selectOption,y=this.setValue,x=this.props,C=x.isMulti,O=x.isRtl,M=x.options,w=this.hasValue();return{clearValue:s,cx:d,getStyles:m,getClassNames:p,getValue:h,hasValue:w,isMulti:C,isRtl:O,options:M,selectOption:g,selectProps:x,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,d=s.isClearable,m=s.isMulti;return d===void 0?m:d}},{key:"isOptionDisabled",value:function(s,d){return vg(this.props,s,d)}},{key:"isOptionSelected",value:function(s,d){return yg(this.props,s,d)}},{key:"filterOption",value:function(s,d){return xg(this.props,s,d)}},{key:"formatOptionLabel",value:function(s,d){if(typeof this.props.formatOptionLabel=="function"){var m=this.props.inputValue,p=this.state.selectValue;return this.props.formatOptionLabel(s,{context:d,inputValue:m,selectValue:p})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,d=s.isDisabled,m=s.isSearchable,p=s.inputId,h=s.inputValue,g=s.tabIndex,y=s.form,x=s.menuIsOpen,C=s.required,O=this.getComponents(),M=O.Input,w=this.state,S=w.inputIsHidden,b=w.ariaSelection,E=this.commonProps,T=p||this.getElementId("input"),_=Oe(Oe(Oe({"aria-autocomplete":"list","aria-expanded":x,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":C,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},x&&{"aria-controls":this.getElementId("listbox")}),!m&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return m?j.createElement(M,Me({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:T,innerRef:this.getInputRef,isDisabled:d,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:g,form:y,type:"text",value:h},_)):j.createElement(Bw,Me({id:T,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Qs,onFocus:this.onInputFocus,disabled:d,tabIndex:g,inputMode:"none",form:y,value:""},_))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,d=this.getComponents(),m=d.MultiValue,p=d.MultiValueContainer,h=d.MultiValueLabel,g=d.MultiValueRemove,y=d.SingleValue,x=d.Placeholder,C=this.commonProps,O=this.props,M=O.controlShouldRenderValue,w=O.isDisabled,S=O.isMulti,b=O.inputValue,E=O.placeholder,T=this.state,_=T.selectValue,A=T.focusedValue,L=T.isFocused;if(!this.hasValue()||!M)return b?null:j.createElement(x,Me({},C,{key:"placeholder",isDisabled:w,isFocused:L,innerProps:{id:this.getElementId("placeholder")}}),E);if(S)return _.map(function(W,P){var V=W===A,oe="".concat(s.getOptionLabel(W),"-").concat(s.getOptionValue(W));return j.createElement(m,Me({},C,{components:{Container:p,Label:h,Remove:g},isFocused:V,isDisabled:w,key:oe,index:P,removeProps:{onClick:function(){return s.removeValue(W)},onTouchEnd:function(){return s.removeValue(W)},onMouseDown:function(ge){ge.preventDefault()}},data:W}),s.formatOptionLabel(W,"value"))});if(b)return null;var H=_[0];return j.createElement(y,Me({},C,{data:H,isDisabled:w}),this.formatOptionLabel(H,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),d=s.ClearIndicator,m=this.commonProps,p=this.props,h=p.isDisabled,g=p.isLoading,y=this.state.isFocused;if(!this.isClearable()||!d||h||!this.hasValue()||g)return null;var x={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return j.createElement(d,Me({},m,{innerProps:x,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),d=s.LoadingIndicator,m=this.commonProps,p=this.props,h=p.isDisabled,g=p.isLoading,y=this.state.isFocused;if(!d||!g)return null;var x={"aria-hidden":"true"};return j.createElement(d,Me({},m,{innerProps:x,isDisabled:h,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),d=s.DropdownIndicator,m=s.IndicatorSeparator;if(!d||!m)return null;var p=this.commonProps,h=this.props.isDisabled,g=this.state.isFocused;return j.createElement(m,Me({},p,{isDisabled:h,isFocused:g}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),d=s.DropdownIndicator;if(!d)return null;var m=this.commonProps,p=this.props.isDisabled,h=this.state.isFocused,g={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return j.createElement(d,Me({},m,{innerProps:g,isDisabled:p,isFocused:h}))}},{key:"renderMenu",value:function(){var s=this,d=this.getComponents(),m=d.Group,p=d.GroupHeading,h=d.Menu,g=d.MenuList,y=d.MenuPortal,x=d.LoadingMessage,C=d.NoOptionsMessage,O=d.Option,M=this.commonProps,w=this.state.focusedOption,S=this.props,b=S.captureMenuScroll,E=S.inputValue,T=S.isLoading,_=S.loadingMessage,A=S.minMenuHeight,L=S.maxMenuHeight,H=S.menuIsOpen,W=S.menuPlacement,P=S.menuPosition,V=S.menuPortalTarget,oe=S.menuShouldBlockScroll,se=S.menuShouldScrollIntoView,ge=S.noOptionsMessage,ae=S.onMenuScrollToTop,ce=S.onMenuScrollToBottom;if(!H)return null;var D=function(J,ie){var le=J.type,fe=J.data,B=J.isDisabled,he=J.isSelected,Y=J.label,we=J.value,je=w===fe,Ce=B?void 0:function(){return s.onOptionHover(fe)},ue=B?void 0:function(){return s.selectOption(fe)},be="".concat(s.getElementId("option"),"-").concat(ie),De={id:be,onClick:ue,onMouseMove:Ce,onMouseOver:Ce,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:he};return j.createElement(O,Me({},M,{innerProps:De,data:fe,isDisabled:B,isSelected:he,key:be,label:Y,type:le,value:we,isFocused:je,innerRef:je?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(J.data,"menu"))},Q;if(this.hasOptions())Q=this.getCategorizedOptions().map(function(q){if(q.type==="group"){var J=q.data,ie=q.options,le=q.index,fe="".concat(s.getElementId("group"),"-").concat(le),B="".concat(fe,"-heading");return j.createElement(m,Me({},M,{key:fe,data:J,options:ie,Heading:p,headingProps:{id:B,data:q.data},label:s.formatGroupLabel(q.data)}),q.options.map(function(he){return D(he,"".concat(le,"-").concat(he.index))}))}else if(q.type==="option")return D(q,"".concat(q.index))});else if(T){var te=_({inputValue:E});if(te===null)return null;Q=j.createElement(x,M,te)}else{var me=ge({inputValue:E});if(me===null)return null;Q=j.createElement(C,M,me)}var K={minMenuHeight:A,maxMenuHeight:L,menuPlacement:W,menuPosition:P,menuShouldScrollIntoView:se},k=j.createElement(b2,Me({},M,K),function(q){var J=q.ref,ie=q.placerProps,le=ie.placement,fe=ie.maxHeight;return j.createElement(h,Me({},M,K,{innerRef:J,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:T,placement:le}),j.createElement(Ww,{captureEnabled:b,onTopArrive:ae,onBottomArrive:ce,lockEnabled:oe},function(B){return j.createElement(g,Me({},M,{innerRef:function(Y){s.getMenuListRef(Y),B(Y)},innerProps:{role:"listbox","aria-multiselectable":M.isMulti,id:s.getElementId("listbox")},isLoading:T,maxHeight:fe,focusedOption:w}),Q)}))});return V||P==="fixed"?j.createElement(y,Me({},M,{appendTo:V,controlElement:this.controlRef,menuPlacement:W,menuPosition:P}),k):k}},{key:"renderFormField",value:function(){var s=this,d=this.props,m=d.delimiter,p=d.isDisabled,h=d.isMulti,g=d.name,y=d.required,x=this.state.selectValue;if(y&&!this.hasValue()&&!p)return j.createElement(Zw,{name:g,onFocus:this.onValueInputFocus});if(!(!g||p))if(h)if(m){var C=x.map(function(w){return s.getOptionValue(w)}).join(m);return j.createElement("input",{name:g,type:"hidden",value:C})}else{var O=x.length>0?x.map(function(w,S){return j.createElement("input",{key:"i-".concat(S),name:g,type:"hidden",value:s.getOptionValue(w)})}):j.createElement("input",{name:g,type:"hidden",value:""});return j.createElement("div",null,O)}else{var M=x[0]?this.getOptionValue(x[0]):"";return j.createElement("input",{name:g,type:"hidden",value:M})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,d=this.state,m=d.ariaSelection,p=d.focusedOption,h=d.focusedValue,g=d.isFocused,y=d.selectValue,x=this.getFocusableOptions();return j.createElement(Lw,Me({},s,{id:this.getElementId("live-region"),ariaSelection:m,focusedOption:p,focusedValue:h,isFocused:g,selectValue:y,focusableOptions:x,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),d=s.Control,m=s.IndicatorsContainer,p=s.SelectContainer,h=s.ValueContainer,g=this.props,y=g.className,x=g.id,C=g.isDisabled,O=g.menuIsOpen,M=this.state.isFocused,w=this.commonProps=this.getCommonProps();return j.createElement(p,Me({},w,{className:y,innerProps:{id:x,onKeyDown:this.onKeyDown},isDisabled:C,isFocused:M}),this.renderLiveRegion(),j.createElement(d,Me({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:C,isFocused:M,menuIsOpen:O}),j.createElement(h,Me({},w,{isDisabled:C}),this.renderPlaceholderOrValue(),this.renderInput()),j.createElement(m,Me({},w,{isDisabled:C}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,d){var m=d.prevProps,p=d.clearFocusValueOnUpdate,h=d.inputIsHiddenAfterUpdate,g=d.ariaSelection,y=d.isFocused,x=d.prevWasFocused,C=d.instancePrefix,O=s.options,M=s.value,w=s.menuIsOpen,S=s.inputValue,b=s.isMulti,E=Zp(M),T={};if(m&&(M!==m.value||O!==m.options||w!==m.menuIsOpen||S!==m.inputValue)){var _=w?dS(s,E):[],A=w?f0(_s(s,E),"".concat(C,"-option")):[],L=p?mS(d,E):null,H=hS(d,_),W=kc(A,H);T={selectValue:E,focusedOption:H,focusedOptionId:W,focusableOptionsWithIds:A,focusedValue:L,clearFocusValueOnUpdate:!1}}var P=h!=null&&s!==m?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},V=g,oe=y&&x;return y&&!oe&&(V={value:Es(b,E,E[0]||null),options:E,action:"initial-input-focus"},oe=!x),g?.action==="initial-input-focus"&&(V=null),Oe(Oe(Oe({},T),P),{},{prevProps:s,ariaSelection:V,prevWasFocused:oe})}}]),r})(j.Component);wg.defaultProps=fS;var gS=j.forwardRef(function(a,i){var r=Rb(a);return j.createElement(wg,Me({ref:i},r))}),m0=gS;function Sg({title:a,isOpen:i,onClose:r,children:o,headerActions:s}){return j.useEffect(()=>{if(i){const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=d}}},[i]),i?aa.createPortal(c.jsx("div",{className:"fixed inset-0 z-[1500] bg-black/50 backdrop-blur-sm safe-area-top",onClick:r,children:c.jsxs("div",{className:"w-full h-full flex flex-col pt-safe-top",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"bg-white dark:bg-[#151a23] p-4 border-b border-gray-200 dark:border-gray-800 shadow-sm relative z-50",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200 truncate pr-4 pt-1 flex-1",children:a}),c.jsxs("div",{className:"flex items-center gap-2",children:[s,c.jsx("button",{onClick:r,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Close",children:c.jsx(af,{className:"w-6 h-6"})})]})]}),c.jsx("div",{className:"mt-2",children:o})]}),c.jsx("div",{className:"flex-1",onClick:r})]})}),document.body):null}function vS({containerClass:a,name:i,value:r,options:o,onChange:s,disabled:d=!1,hideLabel:m=!1,hasBookmark:p,isBookmarked:h=!1,onToggleBookmark:g,hasError:y=!1,forceModalOpen:x=!1,onModalClose:C}){const[O,M]=j.useState(!1),w=j.useRef(null),S=j.useRef(null),[b,E]=j.useState([]),[T,_]=j.useState(!1),A=x||O,L=typeof window>"u"?!1:window.matchMedia("(pointer: coarse)").matches,H=x||L,W=Y=>{if(!Array.isArray(o))return o?.[Y]},P=Array.isArray(o)?o:W("options")??[],V=!!W("image_upload"),oe=W("image_folder")??"input",se="__null__",ge=P.some(Y=>Y===null),ae=P.filter(Y=>Y!==null).map(Y=>String(Y)),ce=Array.from(new Set([...ae,...b])),D=r===null?se:String(r??""),Q=D.split(/[\\/]/).pop()??D,te=ce.includes(D)||ce.includes(Q),me=r!=null&&D!==""&&!te,K=te?ce.includes(D)?D:Q:D,k=[];(r===null||ge)&&k.push({value:se,label:"None"}),me&&k.push({value:D,label:D,isMissing:!0}),k.push(...ce.map(Y=>({value:Y,label:Y})));const q=k.find(Y=>Y.value===K)??null,J=["rs-container",p?"rs-has-bookmark":"rs-no-bookmark",y?"rs-error":"",me?"rs-missing":"",d?"rs-disabled":""].filter(Boolean).join(" "),ie=typeof document>"u"?null:document.body,le=()=>{M(!1),C?.()},fe=()=>{d||T||S.current?.click()},B=async Y=>{const we=Y.target.files?.[0];if(we){_(!0);try{const je=await hx(we,{type:oe}),Ce=je.subfolder?`${je.subfolder}/${je.name}`:je.name;E(ue=>ue.includes(Ce)?ue:[...ue,Ce]),s(Ce)}catch(je){console.error("Failed to upload image:",je)}finally{_(!1),Y.target.value=""}}},he=V?c.jsx("button",{type:"button",className:`w-full py-2 px-3 rounded-lg border text-sm font-medium transition-colors ${d||T?"opacity-60 cursor-not-allowed border-gray-200 text-gray-400 bg-white":"border-gray-200 text-gray-700 bg-white hover:border-gray-300 hover:text-gray-900"}`,onClick:fe,disabled:d||T,children:c.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[c.jsx(_0,{className:"w-4 h-4"}),T?"Uploading...":"Load from camera roll"]})}):null;return H?c.jsxs("div",{className:a,children:[!m&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{className:`relative w-full p-3 comfy-input text-base flex items-center justify-between min-h-[46px] ${d?"opacity-60 cursor-not-allowed":""} ${y?"border-red-700 ring-1 ring-red-700":""}`,onClick:()=>!d&&M(!0),children:[c.jsx("span",{className:`truncate min-w-0 flex-1 ${q?"text-gray-900 dark:text-[#e5e7eb]":"text-gray-400 dark:text-gray-500"} ${p?"pr-16":"pr-6"}`,children:q?q.label:"Select..."}),c.jsxs("div",{className:"flex items-center absolute right-0 top-0 bottom-0 pointer-events-none",children:[c.jsx("div",{className:"px-2 text-gray-400",children:c.jsx(jp,{className:"w-5 h-5"})}),p&&c.jsx("div",{className:"pointer-events-auto px-2",children:c.jsx(Rn,{isBookmarked:h,onToggle:g})})]})]}),me&&c.jsx("div",{className:"mt-1 text-xs text-red-700",children:"Missing on ComfyUI server"}),V&&c.jsxs("div",{className:"mt-2",children:[he,c.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:B})]}),c.jsx(Sg,{title:i,isOpen:A,onClose:le,children:c.jsx(m0,{className:J,classNamePrefix:"rs",options:k,value:q,onChange:Y=>{Y&&(s(Y.value===se?null:Y.value),le())},isSearchable:!0,autoFocus:!x,menuIsOpen:x?void 0:!0,controlShouldRenderValue:!0,placeholder:"Search...",filterOption:$c({ignoreAccents:!0,ignoreCase:!0,trim:!0,matchFrom:"any"}),styles:{menu:Y=>({...Y,position:"static",boxShadow:"none",border:"none",marginTop:"0.5rem",borderRadius:0,backgroundColor:"transparent"}),menuList:Y=>({...Y,maxHeight:"calc(100vh - 160px)",height:"auto",paddingBottom:"2rem",overflowY:"auto",overflowX:"auto",overscrollBehaviorY:"contain",overscrollBehaviorX:"contain",touchAction:"pan-y"}),control:Y=>({...Y,borderColor:"#3b82f6",boxShadow:"0 0 0 1px #3b82f6"})},components:{DropdownIndicator:null,IndicatorSeparator:null},noOptionsMessage:()=>"No matches"})})]}):c.jsxs("div",{className:a,children:[!m&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{className:"relative rs-scroll-target",ref:w,children:[c.jsx(m0,{className:J,classNamePrefix:"rs",options:k,value:q,onChange:Y=>{Y&&s(Y.value===se?null:Y.value)},isSearchable:!0,isDisabled:d,filterOption:$c({ignoreAccents:!0,ignoreCase:!0,trim:!0,matchFrom:"any"}),menuPortalTarget:ie,menuPosition:"fixed",menuPlacement:"bottom",menuShouldScrollIntoView:!1,styles:{menuPortal:Y=>({...Y,zIndex:200}),menuList:Y=>({...Y,overflowY:"auto",overflowX:"auto",overscrollBehaviorY:"contain",overscrollBehaviorX:"contain",touchAction:"pan-y"})},components:{DropdownIndicator:null,IndicatorSeparator:null},noOptionsMessage:()=>"No matches"}),c.jsxs("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none",children:[c.jsx(jp,{className:"w-5 h-5 text-gray-500"}),p&&c.jsx("div",{className:"pointer-events-auto px-2",children:c.jsx(Rn,{isBookmarked:h,onToggle:g})}),!p&&c.jsx("div",{className:"w-3"})]})]}),me&&c.jsx("div",{className:"mt-1 text-xs text-red-700",children:"Missing on ComfyUI server"}),V&&c.jsxs("div",{className:"mt-2",children:[he,c.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:B})]})]})}function Fc({containerClass:a,name:i,value:r,onChange:o,disabled:s=!1,hideLabel:d=!1,hasBookmark:m,isBookmarked:p=!1,onToggleBookmark:h,hasError:g=!1,min:y,max:x,step:C,isInt:O}){const M=w=>{if(w===""){o("");return}const S=O?parseInt(w,10):parseFloat(w);isNaN(S)||o(S)};return c.jsxs("div",{className:a,children:[!d&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",value:r===""?"":Number(r??0),onChange:w=>M(w.target.value),min:y,max:x,step:C,className:`w-full p-3 comfy-input text-base ${s?"opacity-60 cursor-not-allowed":""} ${m?"pr-16":""} ${g?"border-red-700 ring-1 ring-red-700":""}`,disabled:s}),m&&c.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto px-3",children:c.jsx(Rn,{isBookmarked:p,onToggle:h})})})]})]})}function yS({containerClass:a,name:i,value:r,options:o,onChange:s,disabled:d=!1,hideLabel:m=!1,hasBookmark:p,isBookmarked:h=!1,onToggleBookmark:g,maxHeight:y,hasError:x=!1,forceModalOpen:C=!1,onModalClose:O}){const M=V=>{if(!Array.isArray(o))return o?.[V]},w=M("multiline"),S=M("placeholder"),b=String(r??""),[E,T]=j.useState(!1),_=C||E,A=typeof window>"u"?!1:window.matchMedia("(pointer: coarse)").matches,L=C||A,H=j.useRef(null),W=j.useRef(null);j.useLayoutEffect(()=>{if(!w)return;const V=H.current;V&&(V.style.height="0px",V.style.height=`${V.scrollHeight}px`)},[r,_,w]);const P=()=>{T(!1),O?.()};return L?c.jsxs("div",{className:a,children:[w?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-1 min-h-[18px]",children:[m?c.jsx("span",{className:"block text-sm font-medium text-gray-700"}):c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i}),c.jsx(Pi,{value:b,onChange:s,textareaRef:H,className:"opacity-100"})]}),c.jsxs("div",{className:`relative w-full p-3 comfy-input min-h-[100px] text-base group cursor-text ${d?"opacity-60 cursor-not-allowed":""} ${p?"pr-10":""} ${x?"border-red-700 ring-1 ring-red-700":""}`,onClick:()=>!d&&T(!0),children:[c.jsx("div",{className:"whitespace-pre-wrap break-words text-gray-900 dark:text-[#e5e7eb]",children:b||c.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:S})}),p&&c.jsx("div",{className:"absolute right-2 top-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Rn,{isBookmarked:h,onToggle:g})})})]})]}):c.jsxs(c.Fragment,{children:[!m&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{className:`relative w-full p-3 comfy-input text-base min-h-[46px] flex items-center cursor-text ${d?"opacity-60 cursor-not-allowed":""} ${p?"pr-16":"pr-6"} ${x?"border-red-700 ring-1 ring-red-700":""}`,onClick:()=>!d&&T(!0),children:[c.jsx("div",{className:"truncate min-w-0 flex-1 text-gray-900 dark:text-[#e5e7eb]",children:b||c.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:S})}),p&&c.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto px-3",children:c.jsx(Rn,{isBookmarked:h,onToggle:g})})})]})]}),c.jsx(Sg,{title:i,isOpen:_,onClose:P,headerActions:w?c.jsx(Pi,{value:b,onChange:s,textareaRef:H,className:"mr-2"}):null,children:w?c.jsx("textarea",{ref:H,value:b,onChange:V=>s(V.target.value),placeholder:S,className:"w-full p-3 border border-gray-300 rounded-lg min-h-[150px] text-base resize-none outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",autoFocus:!C,disabled:d}):c.jsx("input",{ref:W,type:"text",value:b,onChange:V=>s(V.target.value),placeholder:S,className:"w-full p-3 border border-gray-300 rounded-lg text-base outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",autoFocus:!C,disabled:d})})]}):w?c.jsxs("div",{className:`${a} group`,"data-textarea-root":"true",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1 min-h-[18px]","data-textarea-header":"true",children:[m?c.jsx("span",{className:"block text-sm font-medium text-gray-700"}):c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i}),c.jsx(Pi,{value:b,onChange:s,textareaRef:H,className:"opacity-70 transition-opacity group-focus-within:opacity-100"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{ref:H,value:b,onChange:V=>{s(V.target.value)},placeholder:S,className:`w-full p-3 comfy-input min-h-[100px] text-base resize-none ${y?"overflow-auto":"overflow-hidden"} ${d?"opacity-60 cursor-not-allowed":""} ${p?"pr-10":""} ${x?"border-red-700 ring-1 ring-red-700":""}`,style:{overflowAnchor:"none",...y?{maxHeight:y}:{}},disabled:d}),p&&c.jsx("div",{className:"absolute right-2 top-2",children:c.jsx(Rn,{isBookmarked:h,onToggle:g})})]})]}):c.jsxs("div",{className:a,children:[!m&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:String(r??""),onChange:V=>s(V.target.value),placeholder:S,className:`w-full p-3 comfy-input text-base ${d?"opacity-60 cursor-not-allowed":""} ${p?"pr-16":""} ${x?"border-red-700 ring-1 ring-red-700":""}`,disabled:d}),p&&c.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto px-3",children:c.jsx(Rn,{isBookmarked:h,onToggle:g})})})]})]})}const ka=j.memo(function a({name:i,type:r,value:o,options:s,onChange:d,disabled:m=!1,hideLabel:p=!1,compact:h=!1,isBookmarked:g=!1,onToggleBookmark:y,maxHeight:x,hasError:C=!1,forceModalOpen:O=!1,onModalClose:M}){const w=h?"mb-0":"mb-3",S=g&&!!y,b=C?"border-red-700 ring-1 ring-red-700":"",E=_=>{if(!Array.isArray(s))return s?.[_]},T=_=>{if(_===""){d("");return}const A=parseInt(_,10);isNaN(A)||d(A)};if(r==="POWER_LORA_HEADER")return c.jsx("div",{className:`${w} flex items-center justify-between p-3 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",onChange:_=>d(_.target.checked),className:"w-5 h-5 rounded cursor-pointer",disabled:m}),c.jsx("span",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 uppercase tracking-wider",children:"Toggle All Loras"})]})});if(r==="POWER_LORA"){const _=o||{on:!0,lora:"",strength:1},A=s||{},L=A.choices,H=A.showSeparate,W=(P,V)=>{d({..._,[P]:V})};return c.jsxs("div",{className:`${w} flex flex-col gap-2 p-3 border border-gray-200 dark:border-gray-800 rounded-lg bg-gray-50/50 dark:bg-gray-900/50`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("input",{type:"checkbox",checked:_.on,onChange:P=>W("on",P.target.checked),className:"w-5 h-5 rounded cursor-pointer",disabled:m})}),c.jsx("div",{className:"flex-grow min-w-0",children:c.jsx(a,{name:"",hideLabel:!0,compact:!0,type:"COMBO",value:_.lora,options:L,onChange:P=>W("lora",P),disabled:m})}),c.jsx("button",{onClick:()=>d(null),className:"flex-shrink-0 p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Remove Lora",disabled:m,children:c.jsx(Hx,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex flex-col gap-2 pl-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase w-16",children:H?"Model":"Strength"}),c.jsx("div",{className:"flex-grow",children:c.jsx(a,{name:"",hideLabel:!0,compact:!0,type:"FLOAT",value:_.strength,options:{min:-10,max:10,step:.01},onChange:P=>W("strength",P),disabled:m})})]}),H&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase w-16",children:"Clip"}),c.jsx("div",{className:"flex-grow",children:c.jsx(a,{name:"",hideLabel:!0,compact:!0,type:"FLOAT",value:_.strengthTwo??_.strength,options:{min:-10,max:10,step:.01},onChange:P=>W("strengthTwo",P),disabled:m})})]})]})]})}return r==="POWER_LORA_ADD"?c.jsx("div",{className:w,children:c.jsxs("button",{onClick:()=>{d({on:!0,lora:"None",strength:1,model_strength:1,clip_strength:1})},className:"w-full py-2 px-4 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg text-sm font-medium text-gray-500 hover:text-blue-500 hover:border-blue-500 transition-all flex items-center justify-center gap-2",disabled:m,children:[c.jsx(_0,{className:"w-5 h-5"}),"Add Lora"]})}):r==="STRING"?c.jsx(yS,{containerClass:w,name:i,value:o,options:s,onChange:d,disabled:m,hideLabel:p,hasBookmark:S,isBookmarked:g,onToggleBookmark:y,maxHeight:x,hasError:C,forceModalOpen:O,onModalClose:M}):r==="INT"?c.jsx(Fc,{containerClass:w,name:i,value:o,onChange:d,disabled:m,hideLabel:p,hasBookmark:S,isBookmarked:g,onToggleBookmark:y,hasError:C,min:E("min"),max:E("max"),step:E("step")??1,isInt:!0}):r==="FLOAT"?c.jsx(Fc,{containerClass:w,name:i,value:o,onChange:d,disabled:m,hideLabel:p,hasBookmark:S,isBookmarked:g,onToggleBookmark:y,hasError:C,min:E("min"),max:E("max"),step:E("step")??.01,isInt:!1}):r==="BOOLEAN"?c.jsx("div",{className:w,children:c.jsxs("div",{className:`flex items-center justify-between min-h-[44px] p-3 rounded-lg bg-white ${b}`,children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:!!o,onChange:_=>d(_.target.checked),className:"w-6 h-6 rounded",disabled:m}),c.jsx("span",{className:"text-base font-medium text-gray-700",children:i})]}),S&&c.jsx(Rn,{isBookmarked:g,onToggle:y})]})}):r==="COMBO"||Array.isArray(s)||s&&!Array.isArray(s)&&"options"in s?c.jsx(vS,{containerClass:w,name:i,value:o,options:s,onChange:d,disabled:m,hideLabel:p,hasBookmark:S,isBookmarked:g,onToggleBookmark:y,hasError:C,forceModalOpen:O,onModalClose:M}):i.toLowerCase().includes("seed")?c.jsxs("div",{className:w,children:[!p&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"number",value:o===""?"":Number(o??0),onChange:_=>T(_.target.value),className:`w-full p-3 comfy-input text-base ${m?"opacity-60 cursor-not-allowed":""} ${S?"pr-16":""}`,disabled:m}),S&&c.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto px-3",children:c.jsx(Rn,{isBookmarked:g,onToggle:y})})})]}),c.jsx("button",{onClick:()=>d(Math.floor(Math.random()*2147483647)),className:`px-4 py-2 bg-gray-200 rounded-lg text-sm font-medium min-w-[44px] min-h-[44px] ${m?"opacity-60 cursor-not-allowed":""}`,title:"Randomize",disabled:m,children:c.jsx(Vx,{className:"w-5 h-5 text-gray-600"})})]})]}):c.jsxs("div",{className:w,children:[!p&&c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i," (",r,")"]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:String(o??""),onChange:_=>d(_.target.value),className:`w-full p-3 comfy-input text-base ${m?"opacity-60 cursor-not-allowed":""} ${S?"pr-16":""}`,disabled:m}),S&&c.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto px-3",children:c.jsx(Rn,{isBookmarked:g,onToggle:y})})})]})]})});function xS({node:a,isBypassed:i,isKSampler:r,workflowExists:o,nodeTypesExists:s,visibleInputWidgets:d,visibleWidgets:m,errorInputNames:p,onUpdateNodeWidget:h,onUpdateNodeWidgets:g,getWidgetIndexForInput:y,findSeedWidgetIndex:x,setSeedMode:C,isWidgetBookmarked:O,toggleWidgetBookmark:M}){const w=Array.isArray(a.widgets_values)?a.widgets_values:[],S=Z(V=>V.nodeTypes),b=Z(V=>V.seedModes[a.id]),E=Z(V=>V.seedLastValues[a.id]??null),T=!r&&o&&s?x():null,_=T!==null?T+1:null,A=_!==null?w[_]:void 0,L=typeof A=="string",H=!r&&T!==null&&!L,W=H?d.filter(V=>V.name!=="seed"&&V.name!=="noise_seed"):d,P=H?m.filter(V=>V.name!=="seed"&&V.name!=="noise_seed"):m;return m.length===0&&d.length===0?null:c.jsxs("div",{className:"mb-3",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1.5 uppercase tracking-wide",children:"Parameters"}),r&&o&&s&&(()=>{const V=y("seed");if(V===null)return null;const oe=w[V],se=V+1,ge=w[se],ae=["fixed","increment","decrement","randomize"],D=!!a.inputs.find(Q=>Q.name==="noise_seed")?.link;return c.jsxs("div",{className:"mb-3",children:[c.jsx(ka,{name:"seed",type:"INT",value:oe,onChange:Q=>h(a.id,V,Q,"seed"),disabled:i,hasError:p.has("seed")}),se<w.length&&!D&&c.jsx(ka,{name:"Control mode",type:"COMBO",value:ge,options:ae,onChange:Q=>{h(a.id,se,Q),typeof Q=="string"&&["fixed","randomize","increment","decrement"].includes(Q)&&C(a.id,Q)}})]})})(),!r&&o&&s&&(()=>{const V=T;if(V===null)return null;const oe=["fixed","randomize","increment","decrement"],se=typeof A=="string"&&!oe.includes(A)?[...oe,A]:oe;if(a.inputs.find(ie=>ie.name==="seed"||ie.name==="noise_seed")?.link!=null)return null;if(L){const ie=V+1;return c.jsx("div",{className:"mb-3",children:c.jsx(ka,{name:"Seed control",type:"COMBO",value:A,options:se,onChange:le=>{h(a.id,ie,le),typeof le=="string"&&["fixed","randomize","increment","decrement"].includes(le)&&C(a.id,le)}})})}const ce=d.find(ie=>ie.name==="seed"||ie.name==="noise_seed")?.options??{},D=typeof ce.min=="number"?ce.min:void 0,Q=typeof ce.max=="number"?ce.max:void 0,te=typeof ce.step=="number"?ce.step:void 0,me=Number(w[V]??0),K=E0(me),k=b??K??"fixed",q=Hc(me)?typeof E=="number"?E:0:me,J=p.has("seed")||p.has("noise_seed");return c.jsxs("div",{className:"mb-3",children:[c.jsx(Fc,{containerClass:"mb-3",name:"seed",value:q,onChange:ie=>{h(a.id,V,ie,"seed"),C(a.id,"fixed")},disabled:i,hasBookmark:!1,isInt:!0,min:D,max:Q,step:te,hasError:J}),c.jsx(ka,{name:"Seed control",type:"COMBO",value:k,options:oe,onChange:ie=>{typeof ie=="string"&&["fixed","randomize","increment","decrement"].includes(ie)&&C(a.id,ie)}}),c.jsxs("div",{className:"grid gap-2 mt-2",children:[c.jsx("button",{type:"button",className:"w-full py-2 px-3 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:text-blue-600 hover:border-blue-500 transition",onClick:()=>C(a.id,"randomize"),disabled:i,children:"Randomize each time"}),c.jsx("button",{type:"button",className:"w-full py-2 px-3 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:text-blue-600 hover:border-blue-500 transition",onClick:()=>{if(!S)return;const ie=Ji(S,a);h(a.id,V,ie,"seed"),C(a.id,"fixed")},disabled:i,children:"New fixed random"}),c.jsx("button",{type:"button",className:"w-full py-2 px-3 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:text-blue-600 hover:border-blue-500 transition",onClick:()=>{typeof E=="number"&&(h(a.id,V,E,"seed"),C(a.id,"fixed"))},disabled:i||typeof E!="number",children:"Use last queued seed"})]})]})})(),W.map(V=>c.jsx("div",{className:i?"opacity-80":"",children:c.jsx(ka,{name:V.name,type:V.type,value:V.value,options:V.options,onChange:oe=>{h(a.id,V.widgetIndex,oe,V.name)},disabled:i,isBookmarked:O(V.widgetIndex),onToggleBookmark:()=>M(V.widgetIndex,V.name,V.type,V.options),hasError:p.has(V.name)})},`input-widget-${V.name}`)),P.map(V=>c.jsx("div",{className:i?"opacity-80":"",children:c.jsx(ka,{name:V.name,type:V.type,value:V.value,options:V.options,onChange:oe=>{if(V.type==="POWER_LORA_HEADER"&&typeof oe=="boolean"){const{loraIndices:se}=V.options||{};if(se){const ge={},ae=a.widgets_values;Array.isArray(ae)&&(se.forEach(ce=>{const D=ae[ce];ge[ce]={...D,on:oe}}),g(a.id,ge))}}else h(a.id,V.widgetIndex,oe,V.name)},disabled:i,isBookmarked:O(V.widgetIndex),onToggleBookmark:()=>M(V.widgetIndex,V.name,V.type,V.options),hasError:p.has(V.name)})},`widget-${V.widgetIndex}`)),a.type==="PrimitiveNode"&&(()=>{const V=a.outputs?.[0]?.type,oe=String(V).toUpperCase();if(oe!=="INT"&&oe!=="FLOAT"||w.length<2)return null;const se=w[1],ge=["fixed","increment","decrement","randomize"];return c.jsx("div",{className:"mb-3",children:c.jsx(ka,{name:"Control mode",type:"COMBO",value:se,options:ge,onChange:ae=>h(a.id,1,ae),disabled:i})})})()]})}const bS=[],wS=j.memo(function({node:i,isExecuting:r,isConnectionHighlighted:o=!1,onImageClick:s}){const d=Z(de=>de.nodeTypes),m=Z(de=>de.workflow),p=Z(de=>de.updateNodeWidget),h=Z(de=>de.updateNodeWidgets),g=Z(de=>de.toggleBypass),y=Z(de=>de.toggleNodeFold),x=Z(de=>de.hideNode),C=Z(de=>de.setConnectionHighlightMode),O=Z(de=>de.connectionHighlightModes[i.id]??"off"),M=Z(de=>de.setSeedMode),w=Z(de=>de.bookmarkedWidget?.nodeId===i.id?de.bookmarkedWidget:null),S=Z(de=>de.setBookmarkedWidget),b=Z(de=>de.nodeOutputs[String(i.id)]),E=Z(de=>de.nodeErrors[String(i.id)]),T=Z(de=>de.progress),_=Z(de=>de.executingPromptId),A=Z(de=>de.workflowDurationStats),L=Z(de=>de.isExecuting),H=pt(de=>de.running),W=_||(H[0]?.prompt_id??null),P=Ks({workflow:m,runKey:W,isRunning:L||H.length>0,workflowDurationStats:A}),V=P===100?100:T,oe=b??bS,[se,ge]=j.useState(null),[ae,ce]=j.useState(!1),D=j.useRef(null),[Q,te]=j.useState(!1),me=j.useRef(0),K=j.useRef(null),k=E&&E.length>0,q=j.useMemo(()=>E?new Set(E.map(de=>de.inputName).filter(de=>!!de)):new Set,[E]),J=oe.length>0?oe[oe.length-1]:null,ie=J?`${J.filename}|${J.subfolder}|${J.type}`:null,le=se?`${se.filename}|${se.subfolder}|${se.type}`:null;j.useEffect(()=>{if(!J||ie===le)return;const de=_n(J.filename,J.subfolder,J.type),Ve=new Image;Ve.onload=()=>ge(J),Ve.src=de},[ie,le,J]);const fe=d?.[i.type],B=fe?.display_name||i.type,he=i.type==="KSampler",Y=i.mode===4,we=!!i.flags?.collapsed,je=/LoadImage/i.test(i.type),ue=j.useMemo(()=>!je||!m||!d?null:SS(m,d,i),[je,i,d,m])??se,be=j.useMemo(()=>{const de=Aa(d,i);return he?de.filter(Ve=>Ve.name!=="seed"):de},[d,i,he]),De=j.useMemo(()=>_a(d,i),[d,i]),qe=j.useMemo(()=>De.filter(de=>!de.connected),[De]),Ke=j.useMemo(()=>be.filter(de=>!de.connected),[be]),ot=j.useMemo(()=>{const de=i.properties,Ve=["text","note","description","label","title"];if(de)for(const xt of Ve){const ft=de[xt];if(typeof ft=="string"&&ft.trim())return ft}if(/note|comment|sticky|label/i.test(i.type)&&Array.isArray(i.widgets_values)){const xt=i.widgets_values.find(ft=>typeof ft=="string"&&ft.trim());if(typeof xt=="string"&&xt.trim())return xt}return null},[i.properties,i.widgets_values,i.type]),Qe=j.useMemo(()=>{if(!/note|comment|sticky|label/i.test(i.type)||!Array.isArray(i.widgets_values))return null;const Ve=i.widgets_values.findIndex(dt=>typeof dt=="string"&&dt.trim());return Ve>=0?Ve:null},[i.type,i.widgets_values]),vt=j.useMemo(()=>{if(!ot)return null;const de=[],Ve=/(https?:\/\/[^\s]+)/g;let dt=0,xt,ft=0;for(;(xt=Ve.exec(ot))!==null;){const[Xt]=xt,fn=xt.index;fn>dt&&de.push(ot.slice(dt,fn)),de.push(c.jsx("a",{href:Xt,target:"_blank",rel:"noreferrer",className:"text-blue-600 underline break-all",children:Xt},`note-link-${ft++}`)),dt=fn+Xt.length}return dt<ot.length&&de.push(ot.slice(dt)),de},[ot]),Bt=()=>{const de=Date.now();de-me.current<300&&te(!0),me.current=de},Sn=j.useMemo(()=>{const de=[];return qe.forEach(Ve=>{de.push({widgetIndex:Ve.widgetIndex,name:Ve.name,type:Ve.type,options:Ve.options})}),Ke.forEach(Ve=>{de.push({widgetIndex:Ve.widgetIndex,name:Ve.name,type:Ve.type,options:Ve.options})}),de},[qe,Ke]),zn=j.useCallback(de=>{if(de.link!=null)return!1;if(de.widget)return!0;const Ve=fe?.input?.required?.[de.name]||fe?.input?.optional?.[de.name];if(!Ve)return!1;const[dt,xt]=Ve;if(Array.isArray(dt))return!0;const ft=String(dt).toUpperCase(),Xt=Object.prototype.hasOwnProperty.call(xt??{},"default");return["INT","FLOAT","BOOLEAN","STRING"].includes(ft)||Xt},[fe]),pe=j.useMemo(()=>i.inputs.filter(de=>!zn(de)),[i.inputs,zn]),Te=j.useMemo(()=>i.outputs.filter(de=>(de.name||"").toLowerCase().replace(/[_\s]/g,"")!=="showhelp"),[i.outputs]),ke=i.outputs.some(de=>String(de.type).toUpperCase()==="IMAGE"),xe=!!(fe?.output_node||/PreviewImage|SaveImage|SaveAnimatedPNG|SaveAnimatedWEBP|SaveVideo/i.test(i.type)),ze=de=>w?.widgetIndex===de,yt=(de,Ve,dt,xt)=>{ze(de)?S(null):S({nodeId:i.id,widgetIndex:de,widgetName:Ve,widgetType:dt,options:xt})},tt=Sn.length===1?Sn[0]:null,_t=tt?ze(tt.widgetIndex):!1,Qt=!!w,zt=(ke||xe)&&!!ue,ut=i.inputs?.filter(de=>de.link!=null).length??0,Gt=i.outputs?.reduce((de,Ve)=>de+(Ve.links?.length??0),0)??0,Mt=Math.min(3,ut),Zl=Math.min(3,Gt),tl=ue?[{src:_n(ue.filename,ue.subfolder,ue.type),alt:B}]:[];return c.jsxs("div",{className:"relative",children:[c.jsx("div",{id:`node-anchor-${i.id}`,className:"absolute -top-3 left-0 right-0 h-0 node-scroll-anchor"}),c.jsxs("div",{id:`node-${i.id}`,className:`
        rounded-xl shadow-md px-3 py-1 mb-3
        border-2
        ${k?"border-red-700 shadow-red-200":o?"border-orange-500 shadow-orange-200":r?"border-green-500 shadow-green-200":Y?"border-purple-300":"border-transparent"}
        ${Y?we?"bg-purple-200":"bg-purple-100/50":"bg-white"}
      `,style:{overflow:"visible"},children:[c.jsx(Ob,{nodeId:i.id,displayName:B,isCollapsed:we,isBypassed:Y,isExecuting:r,overallProgress:P,hasErrors:k,errorIconRef:K,errorPopoverOpen:ae,setErrorPopoverOpen:ce,toggleNodeFold:y,rightSlot:c.jsx(bb,{nodeId:i.id,isBypassed:Y,bookmarkableWidgets:Sn,singleBookmarkableWidget:tt,isSingleWidgetBookmarked:_t,hasNodeBookmark:Qt,toggleWidgetBookmark:yt,setBookmarkedWidget:S,toggleBypass:g,hideNode:x,connectionHighlightMode:O,setConnectionHighlightMode:C,leftLineCount:Mt,rightLineCount:Zl})}),!we&&c.jsxs("div",{className:Y?"opacity-60 grayscale":"",children:[c.jsx(xb,{nodeId:i.id,inputs:pe,outputs:Te,allInputs:i.inputs,allOutputs:i.outputs}),c.jsx(xS,{node:i,isBypassed:Y,isKSampler:he,workflowExists:!!m,nodeTypesExists:!!d,visibleInputWidgets:qe,visibleWidgets:Ke,errorInputNames:q,onUpdateNodeWidget:p,onUpdateNodeWidgets:h,getWidgetIndexForInput:de=>!m||!d?null:Pa(m,d,i,de),findSeedWidgetIndex:()=>!m||!d?null:Yl(m,d,i),setSeedMode:M,isWidgetBookmarked:ze,toggleWidgetBookmark:yt}),ot&&c.jsx(jb,{noteText:ot,noteLinkified:vt,noteWidgetIndex:Qe,isEditingNote:Q,setIsEditingNote:te,onUpdateNote:de=>{Qe!==null&&p(i.id,Qe,de)},noteTextareaRef:D,onNoteTap:Bt}),c.jsx(Cb,{show:zt,previewImage:ue,displayName:B,onImageClick:()=>s?.(tl,0),isExecuting:!!r,overallProgress:P,displayNodeProgress:V})]})]}),c.jsx(wb,{nodeId:i.id,open:ae&&k,errors:E??[],anchorRef:K,onClose:()=>ce(!1)})]})});function SS(a,i,r){if(!i)return null;const o=Pa(a,i,r,"image")??Pa(a,i,r,"filename")??Pa(a,i,r,"file");if(o==null||!Array.isArray(r.widgets_values))return null;const s=r.widgets_values[o];return NS(s)}function NS(a){if(typeof a=="string"&&a.trim()){const{filename:p,subfolder:h}=h0(a.trim());return{filename:p,subfolder:h,type:"input"}}if(!a||typeof a!="object")return null;const i=a,r=typeof i.filename=="string"?i.filename:typeof i.name=="string"?i.name:null;if(!r||!r.trim())return null;const o=typeof i.subfolder=="string"?i.subfolder:"",s=typeof i.type=="string"?i.type:"input",{filename:d,subfolder:m}=h0(r.trim());return{filename:d,subfolder:o||m,type:s}}function h0(a){const i=a.replace(/^\/+/,""),r=i.split("/").filter(Boolean);return r.length<=1?{filename:i,subfolder:""}:{filename:r.pop()??i,subfolder:r.join("/")}}function jS({active:a,parentRef:i,innerRef:r,virtualItemsRef:o,virtualItems:s,virtualizer:d}){const m=j.useRef(null),p=j.useRef(0),h=j.useRef(!1),g=j.useRef(null),y=j.useRef(!1),x=j.useRef(!1);return j.useEffect(()=>{const O=i.current;if(!O)return;const M=()=>{if(y.current){y.current=!1;return}if(!a)return;h.current=!0,g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h.current=!1},150);const w=o.current;if(!w.length)return;const S=w[0];m.current=S.index;const b=O.getBoundingClientRect(),E=r.current?.querySelector(`[data-index="${S.index}"]`);if(E){const T=E.getBoundingClientRect();p.current=T.top-b.top}else p.current=S.start-O.scrollTop};return O.addEventListener("scroll",M,{passive:!0}),M(),()=>{O.removeEventListener("scroll",M),g.current&&(clearTimeout(g.current),g.current=null)}},[a,i,r,o]),j.useEffect(()=>{if(!a)return;const O=()=>{i.current&&(y.current=!0,m.current=null,x.current=!0,d.scrollToIndex(0,{align:"start"}))};return window.addEventListener("workflow-scroll-to-top",O),()=>{window.removeEventListener("workflow-scroll-to-top",O)}},[a,i,d]),j.useLayoutEffect(()=>{if(!a||h.current)return;const O=i.current;if(!O)return;if(x.current){x.current=!1;return}const M=m.current;if(M===null)return;const w=s.find(T=>T.index===M);if(!w)return;const S=O.getBoundingClientRect(),b=r.current?.querySelector(`[data-index="${M}"]`);let E=w.start-p.current;if(b){const _=b.getBoundingClientRect().top-S.top;E=O.scrollTop+(_-p.current)}Math.abs(O.scrollTop-E)>1&&(y.current=!0,O.scrollTop=E)},[a,i,r,s]),{resetAnchor:j.useCallback(()=>{m.current=null,p.current=0,x.current=!0},[])}}function Ms(a){return String(a).split(",").map(i=>i.trim().toUpperCase()).filter(Boolean)}function CS({onImageClick:a,active:i=!0}){const r=Z(_=>_.workflow),o=Z(_=>_.executingNodeId),s=Z(_=>_.hideStaticNodes),d=Z(_=>_.hideBypassedNodes),m=Z(_=>_.connectionHighlightModes),p=Z(_=>_.manuallyHiddenNodes),h=Z(_=>_.nodeTypes),g=j.useRef(null),y=j.useRef(null),x=j.useMemo(()=>{if(!r)return[];const _=yb(r);return!s&&!d&&Object.keys(p).length===0?_:_.filter(A=>{if(p[A.id]||d&&A.mode===4)return!1;if(!s)return!0;const L=Aa(h,A).filter(W=>!W.connected),H=_a(h,A).filter(W=>!W.connected);return L.length>0||H.length>0})},[r,s,d,h,p]),C=j.useMemo(()=>{if(!r)return new Set;const _=Object.entries(m).filter(([,oe])=>oe!=="off").map(([oe,se])=>({id:Number(oe),mode:se}));if(_.length===0)return new Set;const A=new Map(r.nodes.map(oe=>[oe.id,oe])),L=new Set,H=oe=>{if(!s)return!0;const se=Aa(h,oe).filter(ae=>!ae.connected),ge=_a(h,oe).filter(ae=>!ae.connected);return se.length>0||ge.length>0},W=oe=>d&&oe.mode===4||s&&!H(oe)||!!p[oe.id],P=(oe,se,ge)=>{if(se.has(oe))return[];se.add(oe);const ae=A.get(oe);if(!ae)return[];const ce=[];return ae.outputs?.forEach((D,Q)=>{const te=Ms(D.type);if(ge.size>0&&!te.some(K=>ge.has(K)))return;Vs(r,oe,Q).forEach(K=>{const k=K.node;W(k)?ce.push(...P(k.id,se,ge)):ce.push(k)})}),ce},V=(oe,se,ge)=>{if(se.has(oe))return[];se.add(oe);const ae=A.get(oe);if(!ae)return[];const ce=[];return ae.inputs?.forEach((D,Q)=>{if(D.link===null)return;const te=Ms(D.type);if(ge.size>0&&!te.some(K=>ge.has(K)))return;const me=Hs(r,oe,Q);me&&(W(me.node)?ce.push(...V(me.node.id,se,ge)):ce.push(me.node))}),ce};return _.forEach(({id:oe,mode:se})=>{const ge=A.get(oe);ge&&((se==="inputs"||se==="both")&&ge.inputs?.forEach((ae,ce)=>{if(ae.link===null)return;const D=Hs(r,ge.id,ce);if(!D)return;if(!W(D.node)){L.add(D.node.id);return}const Q=new Set(Ms(ae.type));V(D.node.id,new Set,Q).forEach(me=>L.add(me.id))}),(se==="outputs"||se==="both")&&ge.outputs?.forEach((ae,ce)=>{const D=new Set(Ms(ae.type));Vs(r,ge.id,ce).forEach(te=>{const me=te.node;if(!W(me)){L.add(me.id);return}P(me.id,new Set,D).forEach(k=>L.add(k.id))})}))}),L},[r,m,d,s,h,p]),O=j.useCallback(_=>x[_]?.id??_,[x]),M=j.useMemo(()=>x.map(_=>_.id).join("|"),[x]),w=j.useMemo(()=>x.map(_=>`${_.id}:${_.flags?.collapsed?1:0}`).join("|"),[x]),S=pb({count:x.length,getScrollElement:()=>g.current,estimateSize:()=>200,overscan:3,getItemKey:O}),b=S.getVirtualItems(),E=j.useRef(b);j.useEffect(()=>{E.current=b},[b]);const{resetAnchor:T}=jS({active:i,parentRef:g,innerRef:y,virtualItemsRef:E,virtualItems:b,virtualizer:S});return j.useLayoutEffect(()=>{g.current&&(T(),S.measure())},[M,T,S]),j.useLayoutEffect(()=>{if(!g.current)return;const _=requestAnimationFrame(()=>{const A=requestAnimationFrame(()=>{y.current?.querySelectorAll("[data-index]")?.forEach(H=>{S.measureElement(H)})});return()=>cancelAnimationFrame(A)});return()=>cancelAnimationFrame(_)},[w,S]),r?x.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:c.jsxs("div",{className:"text-center p-8",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx(Ox,{className:"w-10 h-10 text-gray-300"})}),c.jsx("p",{className:"text-lg font-medium",children:"Empty workflow"}),c.jsx("p",{className:"text-sm mt-2",children:"This workflow has no nodes"})]})}):c.jsx("div",{ref:g,className:"h-full overflow-auto px-4 pt-4 overscroll-contain scroll-container",style:{paddingBottom:"10rem"},"data-node-list":"true",children:c.jsx("div",{ref:y,style:{height:`${S.getTotalSize()}px`,width:"100%",position:"relative"},children:b.map(_=>{const A=x[_.index],L=o===String(A.id);return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${_.start}px)`},ref:S.measureElement,"data-index":_.index,children:c.jsx(wS,{node:A,isExecuting:L,isConnectionHighlighted:C.has(A.id),onImageClick:a})},A.id)})})}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:c.jsxs("div",{className:"text-center p-8",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx(jx,{className:"w-10 h-10 text-gray-300"})}),c.jsx("p",{className:"text-lg font-medium",children:"No workflow loaded"}),c.jsx("p",{className:"text-sm mt-2",children:"Open the menu to load a workflow"})]})})}function OS({queueOpen:a,viewerOpen:i=!1,followQueue:r=!1,onToggleFollowQueue:o,onOpenFollowQueue:s}){const d=Z(K=>K.runCount),m=Z(K=>K.setRunCount),p=Z(K=>K.workflow),h=Z(K=>K.isExecuting),g=Z(K=>K.progress),y=Z(K=>K.executingNodeId),x=Z(K=>K.executingPromptId),C=Z(K=>K.workflowDurationStats),O=Z(K=>K.error),M=Z(K=>K.setError),w=Z(K=>K.nodeTypes),S=Z(K=>K.queueWorkflow),b=Z(K=>K.bookmarkedWidget),E=Z(K=>K.bookmarkOverlayOpen),T=Z(K=>K.toggleBookmarkOverlay),_=Z(K=>K.updateNodeWidget),A=pt(K=>K.pending),L=pt(K=>K.running),H=j.useRef(null),W=A.length+L.length,P=p!==null,V=O?.startsWith("Workflow load error")?"Workflow load error":"Prompt error",oe=O?.startsWith("Workflow load error")?O.replace(/^Workflow load error:\s*/i,""):O,se=j.useMemo(()=>{if(!p||!y)return null;const K=p.nodes.find(q=>String(q.id)===y);return K?w?.[K.type]?.display_name||K.type:`Node ${y}`},[p,y,w]),ge=x||(L[0]?.prompt_id??null),ae=Ks({workflow:p,runKey:ge,isRunning:h||L.length>0,workflowDurationStats:C}),ce=ae===100?100:g,D=j.useMemo(()=>{if(!b||!p)return;const K=p.nodes.find(k=>k.id===b.nodeId);if(K)return er(K,b.widgetName,b.widgetIndex)},[b,p]),Q=()=>{P&&(S(d),"vibrate"in navigator&&navigator.vibrate(20))},te=()=>{m(d-1)},me=()=>{m(d+1)};return j.useEffect(()=>{const K=H.current;if(!K)return;const k=()=>{const q=K.getBoundingClientRect();document.documentElement.style.setProperty("--bottom-bar-offset",`${q.height}px`)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),c.jsxs("div",{ref:H,className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg safe-area-bottom z-[1600]",children:[c.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 max-w-lg mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:te,disabled:d<=1,className:`w-10 h-10 rounded-lg bg-white shadow-sm flex items-center justify-center
                       text-lg font-medium text-gray-700 disabled:opacity-40 disabled:shadow-none`,children:""}),c.jsx("span",{className:"w-8 text-center font-semibold text-gray-900",children:d}),c.jsx("button",{onClick:me,className:`w-10 h-10 rounded-lg bg-white shadow-sm flex items-center justify-center
                       text-lg font-medium text-gray-700`,children:"+"})]}),c.jsx("button",{onClick:Q,disabled:!P,className:`
            flex-1 py-3 px-6 rounded-xl font-semibold text-lg
            min-h-[48px] transition-all
            ${P?"bg-blue-500 text-white active:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}
          `,children:"Run"}),b&&c.jsx("button",{onClick:T,className:`relative w-12 h-12 rounded-xl flex items-center justify-center text-2xl transition-colors ${E?"bg-yellow-500 text-white":"bg-gray-100 text-yellow-500 hover:bg-gray-200"}`,"aria-label":E?"Close bookmark editor":"Open bookmark editor",children:c.jsx(nr,{className:"w-6 h-6"})}),c.jsxs("button",{onClick:i?o:s,className:`relative w-12 h-12 rounded-xl flex items-center justify-center text-2xl transition-colors ${i&&r?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"aria-label":i?r?"Disable follow queue":"Enable follow queue":"Open image viewer",children:[c.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(A0,{className:"w-6 h-6",showSlash:i&&!r})}),W>0&&c.jsxs("div",{className:`absolute top-0 right-0 translate-x-[18px] -translate-y-[18px] w-6 h-6 rounded-full bg-blue-500 text-white
                         flex items-center justify-center font-bold text-xs border-2 border-white relative z-20`,children:[ae!==null&&c.jsx(zx,{className:"absolute z-10 pointer-events-none",width:"24",height:"24",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-90deg)"},progress:ae}),W]})]})]}),E&&b&&c.jsx("div",{className:"hidden",children:c.jsx(ka,{name:b.widgetName,type:b.widgetType,value:D,options:b.options,onChange:K=>_(b.nodeId,b.widgetIndex,K,b.widgetName),hideLabel:!0,compact:!0,forceModalOpen:!0,onModalClose:T})}),!a&&!i&&c.jsxs("div",{className:"fixed inset-x-0 bottom-20 z-40 flex flex-col items-center gap-3 pointer-events-none",children:[O&&c.jsx("div",{className:"bg-red-100 text-red-900 rounded-xl shadow-lg px-4 py-3 w-[80vw] max-w-sm pointer-events-auto",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold",children:V}),c.jsx("div",{className:"mt-1 text-xs text-red-800 break-words",children:oe})]}),c.jsx("button",{type:"button","aria-label":"Dismiss error",className:"shrink-0 px-3 py-1 text-xs font-semibold bg-red-700 text-white rounded-full",onClick:()=>M(null),children:"Dismiss"})]})}),ae!==null&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg px-4 py-2 w-[80vw] max-w-sm",children:[c.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Executing: ",se||"Running"]}),c.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[ce,"%"]})]}),c.jsx("div",{className:"mt-1 h-2 rounded-full bg-gray-200 overflow-hidden",children:c.jsx("div",{className:"h-full bg-green-500 transition-none",style:{width:`${Math.min(100,Math.max(0,ce))}%`}})}),ae!==null&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[c.jsx("span",{children:"Overall"}),c.jsxs("span",{children:[ae,"%"]})]}),c.jsx("div",{className:"mt-1 h-2 rounded-full bg-gray-200 overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-none",style:{width:`${Math.min(100,Math.max(0,ae))}%`}})})]})]})]})]})}function Ng({open:a,onClose:i,side:r,title:o,children:s}){const d=j.useRef(null);return j.useEffect(()=>{if(!a)return;const m=p=>{p.key==="Escape"&&i()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[a,i]),j.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),a?c.jsxs("div",{className:"fixed inset-0 z-[1700]",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:i}),c.jsxs("div",{ref:d,className:`
          absolute top-0 bottom-0 w-[85%] max-w-sm bg-white shadow-xl
          flex flex-col overflow-hidden
          ${r==="left"?"left-0 animate-slide-in-left":"right-0 animate-slide-in-right"}
        `,style:{animation:`${r==="left"?"slideInLeft":"slideInRight"} 0.2s ease-out`},children:[o&&c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o}),c.jsx("button",{onClick:i,className:`w-10 h-10 flex items-center justify-center rounded-full
                         text-gray-500 hover:bg-gray-100 text-2xl`,children:""})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4 overscroll-contain scroll-container",children:s})]}),c.jsx("style",{children:`
        @keyframes slideInLeft {
          from { transform: translateX(-100%); }
          to { transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { transform: translateX(100%); }
          to { transform: translateX(0); }
        }
      `})]}):null}function Zi({title:a,onBack:i}){return c.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:[c.jsx(Bx,{className:"w-5 h-5 text-gray-400"}),c.jsx("span",{children:a})]})}function ES({onBack:a}){return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Zi,{title:"Icon Legend",onBack:a}),c.jsxs("div",{className:"space-y-3 overflow-y-auto flex-1 pb-4",children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-blue-500 text-white rounded-lg font-bold text-xs shadow-sm",children:"Run"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Run"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Execute current workflow"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-white border border-gray-200 rounded-lg text-gray-700 shadow-sm overflow-hidden",children:c.jsx(A0,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Queue / Follow"}),c.jsx("p",{className:"text-xs text-gray-500",children:"View queue & follow execution"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-yellow-500 text-white rounded-lg shadow-sm",children:c.jsx(nr,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pinned Widget"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Quick access to bookmarked parameter"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full border border-gray-200 text-gray-700 font-bold",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Input"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Node input connection point"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full border border-gray-200 text-gray-700 font-bold",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Output"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Node output connection point"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-700",children:c.jsx(Qx,{className:"w-6 h-6 overflow-visible"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Trace Connections"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Highlight connected nodes"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-500",children:c.jsx(ea,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Fold / Unfold"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Collapse or expand node card"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-700",children:c.jsx(af,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Bypass"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Skip node execution"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-700",children:c.jsx(Xl,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Hide"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Hide node from view"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-700",children:c.jsx(Ql,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Show"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Make node visible again"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-100 rounded-lg shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-700",children:c.jsx(Ic,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Bookmark"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Pin widget to bottom bar"})]})]})]})]})}function MS({open:a,onClose:i}){const r=Z(ue=>ue.loadWorkflow),o=Z(ue=>ue.workflow),s=Z(ue=>ue.currentFilename),d=Z(ue=>ue.originalWorkflow),m=Z(ue=>ue.setSavedWorkflow),p=Z(ue=>ue.theme),h=Z(ue=>ue.toggleTheme),g=j.useRef(null),y=o&&d&&JSON.stringify(o)!==JSON.stringify(d),x=j.useRef(null),[C,O]=j.useState(null),[M,w]=j.useState("menu"),[S,b]=j.useState([]),[E,T]=j.useState({}),[_,A]=j.useState(!1),[L,H]=j.useState(s||""),[W,P]=j.useState(""),[V,oe]=j.useState({load:!0,save:!0,appearance:!0,info:!0}),se=j.useRef(null),ge=j.useRef(null),ae=j.useRef(null),ce=j.useRef(null),D=j.useRef(V);j.useEffect(()=>{const ue=D.current,be=V;!ue.load&&be.load?setTimeout(()=>se.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),100):!ue.save&&be.save?setTimeout(()=>ge.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),100):!ue.appearance&&be.appearance?setTimeout(()=>ae.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),100):!ue.info&&be.info&&setTimeout(()=>ce.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),100),D.current=be},[V]),j.useEffect(()=>{a||(w("menu"),O(null),H(s||""),P(""),oe({load:!0,save:!0,appearance:!0,info:!0}))},[a,s]),j.useEffect(()=>{M==="userWorkflows"&&(A(!0),ox().then(b).catch(ue=>O(ue.message)).finally(()=>A(!1)))},[M]),j.useEffect(()=>{M==="templates"&&(A(!0),cx().then(T).catch(ue=>O(ue.message)).finally(()=>A(!1)))},[M]);const Q=ue=>{"vibrate"in navigator&&navigator.vibrate(ue)},te=()=>{x.current?.click()},me=async ue=>{const be=ue.target.files?.[0];if(be){try{const De=await be.text(),qe=JSON.parse(De);if(!qe.nodes||!Array.isArray(qe.nodes))throw new Error("Invalid workflow: missing nodes array");r(qe,be.name),O(null),i(),Q(10)}catch(De){O(De instanceof Error?De.message:"Failed to load workflow")}x.current&&(x.current.value="")}},K=async ue=>{try{A(!0);const be=await C0(ue);r(be,ue,{fresh:!0,source:{type:"user",filename:ue}}),O(null),i(),Q(10)}catch(be){O(be instanceof Error?be.message:"Failed to load workflow")}finally{A(!1)}},k=async(ue,be)=>{try{A(!0);const De=await O0(ue,be);r(De,`${ue}/${be}`,{fresh:!0,source:{type:"template",moduleName:ue,templateName:be}}),O(null),i(),Q(10)}catch(De){O(De instanceof Error?De.message:"Failed to load template")}finally{A(!1)}},q=async ue=>{if(!o)return;const be=ue.endsWith(".json")?ue:`${ue}.json`;try{A(!0),await ux(be,o),m(o,be),O(null),i(),Q(10)}catch(De){O(De instanceof Error?De.message:"Failed to save workflow")}finally{A(!1)}},J=()=>{s?q(s):w("save")},ie=()=>{L.trim()?q(L):O("Please enter a filename.")},le=()=>{if(!o)return;const ue=JSON.stringify(o,null,2),be=new Blob([ue],{type:"application/json"}),De=URL.createObjectURL(be),qe=document.createElement("a");qe.href=De,qe.download=`${s||`workflow-${Date.now()}`}.json`,qe.click(),URL.revokeObjectURL(De),Q(10),i()},fe=()=>{try{const ue=JSON.parse(W);if(!ue.nodes||!Array.isArray(ue.nodes))throw new Error("Invalid workflow: missing nodes array");const be=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});r(ue,`Pasted workflow (${be})`),O(null),i(),Q(10),P("")}catch(ue){O(ue instanceof Error?ue.message:"Failed to parse JSON")}},B=()=>C&&c.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[C,c.jsx("button",{onClick:()=>O(null),className:"ml-2 text-red-500 font-medium",children:"Dismiss"})]}),he=()=>c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Zi,{title:"My Workflows",onBack:()=>w("menu")}),B(),_?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"})}):S.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No saved workflows yet"}):c.jsx("div",{className:"space-y-2 overflow-y-auto flex-1",children:S.map(ue=>c.jsxs("button",{onClick:()=>K(ue.name),className:`w-full flex items-center gap-3 px-4 py-3 bg-white border border-gray-200
                         rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Vc,{className:"w-5 h-5 text-gray-600"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 truncate",children:ue.name.replace(/\.json$/,"")}),ue.modified&&c.jsx("p",{className:"text-xs text-gray-500",children:new Date(ue.modified*1e3).toLocaleDateString()})]})]},ue.path))})]}),Y=()=>c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Zi,{title:"Templates",onBack:()=>w("menu")}),B(),_?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"})}):Object.keys(E).length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No templates available"}):c.jsx("div",{className:"space-y-4 overflow-y-auto flex-1",children:Object.entries(E).map(([ue,be])=>c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-2",children:ue}),c.jsx("div",{className:"space-y-2",children:be.map(De=>c.jsxs("button",{onClick:()=>k(ue,De),className:`w-full flex items-center gap-3 px-4 py-3 bg-white border border-gray-200
                               rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Cp,{className:"w-5 h-5 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900 truncate",children:De.replace(/\.json$/,"")})]},De))})]},ue))})]}),we=()=>c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Zi,{title:"Save Workflow",onBack:()=>w("menu")}),B(),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-xl",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Save to ComfyUI server:"}),c.jsx("input",{type:"text",value:L,onChange:ue=>H(ue.target.value),placeholder:"Enter filename (e.g., my_workflow.json)",className:"w-full p-3 border border-gray-300 rounded-lg mb-3"}),c.jsx("button",{onClick:ie,disabled:!o||!L.trim()||_,className:`w-full py-3 bg-blue-500 text-white rounded-lg font-medium
                       disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px]`,children:_?"Saving...":"Save As"})]}),c.jsxs("button",{onClick:le,disabled:!o,className:`w-full flex items-center gap-3 px-4 py-3 bg-white border border-gray-200
                     rounded-xl text-left hover:bg-gray-50 min-h-[56px]
                     disabled:opacity-50 disabled:cursor-not-allowed`,children:[c.jsx(Gx,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Download to Device"})]})]})]}),je=()=>c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Zi,{title:"Paste JSON",onBack:()=>w("menu")}),B(),c.jsxs("div",{className:"flex-1 flex flex-col space-y-4 overflow-hidden",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Paste your workflow JSON below."}),c.jsxs("div",{className:"group","data-textarea-root":"true",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1","data-textarea-header":"true",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Workflow JSON"}),c.jsx(Pi,{value:W,onChange:P,textareaRef:g,className:"opacity-70 transition-opacity group-focus-within:opacity-100"})]}),c.jsx("textarea",{ref:g,value:W,onChange:ue=>P(ue.target.value),placeholder:'{"last_node_id": ...}',className:"w-full flex-1 p-3 border border-gray-300 rounded-lg font-mono text-xs resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{onClick:()=>w("menu"),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 min-h-[48px]",children:"Cancel"}),c.jsx("button",{onClick:fe,disabled:!W.trim(),className:`flex-1 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 
                       disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px]`,children:"Load"})]})]})]}),Ce=()=>c.jsxs(c.Fragment,{children:[c.jsx("input",{ref:x,type:"file",accept:".json",onChange:me,className:"hidden"}),B(),c.jsxs("section",{ref:se,className:"mb-6",children:[c.jsxs("button",{type:"button",onClick:()=>oe(ue=>({...ue,load:!ue.load})),className:"w-full flex items-center justify-between text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3","aria-expanded":V.load,children:[c.jsx("span",{children:"Load Workflow"}),c.jsx(ea,{className:`w-5 h-5 text-gray-400 transition-transform ${V.load?"rotate-0":"-rotate-90"}`})]}),V.load&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>w("userWorkflows"),className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                       rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Vc,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"My Workflows"}),c.jsx("span",{className:"ml-auto text-gray-400",children:""})]}),c.jsxs("button",{onClick:()=>w("templates"),className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                       rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Cp,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Templates"}),c.jsx("span",{className:"ml-auto text-gray-400",children:""})]}),c.jsxs("button",{onClick:()=>w("pasteJson"),className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                       rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Xx,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Paste JSON"}),c.jsx("span",{className:"ml-auto text-gray-400",children:""})]}),c.jsxs("button",{onClick:te,className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                       rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Wx,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"From Device"})]})]})]}),c.jsxs("section",{ref:ge,className:"mb-6",children:[c.jsxs("button",{type:"button",onClick:()=>oe(ue=>({...ue,save:!ue.save})),className:"w-full flex items-center justify-between text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3","aria-expanded":V.save,children:[c.jsx("span",{children:"Save Workflow"}),c.jsx(ea,{className:`w-5 h-5 text-gray-400 transition-transform ${V.save?"rotate-0":"-rotate-90"}`})]}),V.save&&c.jsxs("div",{className:"space-y-2",children:[s&&c.jsxs("button",{onClick:J,disabled:!o||!y||_,className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                           rounded-xl text-left hover:bg-gray-50 min-h-[56px]
                           disabled:opacity-50 disabled:cursor-not-allowed`,children:[c.jsx($x,{className:"w-6 h-6 text-gray-600 shrink-0"}),c.jsxs("span",{className:"font-medium text-gray-900 truncate",children:["Save ",s.replace(".json","")]})]}),c.jsxs("button",{onClick:()=>{H(s||""),w("save")},disabled:!o,className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                         rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Fx,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Save As..."}),c.jsx("span",{className:"ml-auto text-gray-400",children:""})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 mb-6"}),c.jsxs("section",{ref:ae,className:"mb-6",children:[c.jsxs("button",{type:"button",onClick:()=>oe(ue=>({...ue,appearance:!ue.appearance})),className:"w-full flex items-center justify-between text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3","aria-expanded":V.appearance,children:[c.jsx("span",{children:"Appearance"}),c.jsx(ea,{className:`w-5 h-5 text-gray-400 transition-transform ${V.appearance?"rotate-0":"-rotate-90"}`})]}),V.appearance&&c.jsx("div",{className:"space-y-2",children:c.jsxs("button",{onClick:()=>h(),className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                       rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[p==="dark"?c.jsx(Zx,{className:"w-6 h-6 text-gray-600"}):c.jsx(Kx,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:p==="dark"?"Light mode":"Dark mode"})]})})]}),c.jsxs("section",{ref:ce,className:"mt-auto pt-6 border-t border-gray-200",children:[c.jsxs("button",{type:"button",onClick:()=>oe(ue=>({...ue,info:!ue.info})),className:"w-full flex items-center justify-between text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3","aria-expanded":V.info,children:[c.jsx("span",{children:"About"}),c.jsx(ea,{className:`w-5 h-5 text-gray-400 transition-transform ${V.info?"rotate-0":"-rotate-90"}`})]}),V.info&&c.jsxs("div",{className:"space-y-2 pb-4",children:[c.jsxs("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                         rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Jx,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Open in GitHub"}),c.jsx(Op,{className:"w-4 h-4 ml-auto text-gray-400"})]}),c.jsxs("button",{onClick:()=>w("aboutLegend"),className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                         rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(Px,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Icon Legend"}),c.jsx("span",{className:"ml-auto text-gray-400",children:""})]}),c.jsxs("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:`w-full flex items-center gap-3 p-4 bg-white border border-gray-200
                         rounded-xl text-left hover:bg-gray-50 min-h-[56px]`,children:[c.jsx(eb,{className:"w-6 h-6 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"User Manual"}),c.jsx(Op,{className:"w-4 h-4 ml-auto text-gray-400"})]})]})]})]});return c.jsxs(Ng,{open:a,onClose:i,side:"left",title:"ComfyUI Mobile",children:[M==="menu"&&Ce(),M==="userWorkflows"&&he(),M==="templates"&&Y(),M==="save"&&we(),M==="pasteJson"&&je(),M==="aboutLegend"&&c.jsx(ES,{onBack:()=>w("menu")})]})}const p0=a=>Symbol.iterator in a,g0=a=>"entries"in a,v0=(a,i)=>{const r=a instanceof Map?a:new Map(a.entries()),o=i instanceof Map?i:new Map(i.entries());if(r.size!==o.size)return!1;for(const[s,d]of r)if(!o.has(s)||!Object.is(d,o.get(s)))return!1;return!0},TS=(a,i)=>{const r=a[Symbol.iterator](),o=i[Symbol.iterator]();let s=r.next(),d=o.next();for(;!s.done&&!d.done;){if(!Object.is(s.value,d.value))return!1;s=r.next(),d=o.next()}return!!s.done&&!!d.done};function kS(a,i){return Object.is(a,i)?!0:typeof a!="object"||a===null||typeof i!="object"||i===null||Object.getPrototypeOf(a)!==Object.getPrototypeOf(i)?!1:p0(a)&&p0(i)?g0(a)&&g0(i)?v0(a,i):TS(a,i):v0({entries:()=>Object.entries(a)},{entries:()=>Object.entries(i)})}function AS(a){const i=ql.useRef(void 0);return r=>{const o=a(r);return kS(i.current,o)?i.current:i.current=o}}function Ac(a){return!!a&&typeof a=="object"&&!Array.isArray(a)}function jg(a){return Array.isArray(a)&&a.length>=2&&(typeof a[0]=="string"||typeof a[0]=="number")&&typeof a[1]=="number"}function ao(a){return a.class_type??a.type??null}function gf(a,i){for(const r of i){const o=a.inputs?.[r];if(!jg(o)&&o!==void 0)return o}}function Gl(a,i){const r=gf(a,i);if(r!=null)return typeof r=="string"?r:String(r)}function _c(a,i){if(!jg(i))return null;const r=String(i[0]);return a[r]??null}function _S(a){if(!a)return;const i=Gl(a,["sampler_name","sampler","name"]);if(i)return i;if(ao(a)==="KSamplerSelect"&&Array.isArray(a.widgets_values)){const o=a.widgets_values[0];return o==null?void 0:String(o)}}function RS(a){if(!a)return;const i=Gl(a,["scheduler","scheduler_name","name"]);if(i)return i;if(ao(a)==="BasicScheduler"&&Array.isArray(a.widgets_values)){const o=a.widgets_values[0];return o==null?void 0:String(o)}}function DS(a){if(!a)return;const i=gf(a,["steps","step_count"]);if(i!==void 0)return i;if(ao(a)==="BasicScheduler"&&Array.isArray(a.widgets_values)){const o=a.widgets_values[1];return o??void 0}}function zS(a){if(!a)return;const i=gf(a,["cfg","guidance","guidance_scale"]);if(i!==void 0)return i;if(Array.isArray(a.widgets_values)){const r=a.widgets_values[0];return r??void 0}}function Cg(a){const i={};if(!Ac(a)&&!Array.isArray(a))return i;let r=null;if(Array.isArray(a)&&a.length>=3&&Ac(a[2])?r=a[2]:Ac(a)&&(r=a),!r)return i;const s=Object.entries(r).sort((d,m)=>Number(d[0])-Number(m[0])).map(([,d])=>d);for(const d of s){const m=ao(d);if(m){if(m==="CheckpointLoaderSimple"||m==="CheckpointLoader"){const p=d.inputs?.ckpt_name;typeof p=="string"?i.model=p.replace(/\.(safetensors|ckpt|pt)$/i,""):p!=null&&(i.model=String(p).replace(/\.(safetensors|ckpt|pt)$/i,""))}if(m==="KSampler"||m==="KSamplerAdvanced"){if(i.steps===void 0&&d.inputs?.steps!==void 0&&(i.steps=d.inputs.steps),i.cfg===void 0&&d.inputs?.cfg!==void 0&&(i.cfg=d.inputs.cfg),i.sampler===void 0){const p=Gl(d,["sampler_name"]);p&&(i.sampler=p)}if(i.scheduler===void 0){const p=Gl(d,["scheduler"]);p&&(i.scheduler=p)}}if(m==="SamplerCustom"||m==="SamplerCustomAdvanced"){if(i.steps===void 0&&d.inputs?.steps!==void 0&&(i.steps=d.inputs.steps),i.cfg===void 0&&d.inputs?.cfg!==void 0&&(i.cfg=d.inputs.cfg),i.sampler===void 0){const p=Gl(d,["sampler","sampler_name"]),h=_c(r,d.inputs?.sampler),g=p??_S(h);g&&(i.sampler=g)}if(i.scheduler===void 0){const p=Gl(d,["scheduler","scheduler_name"]),h=_c(r,d.inputs?.sigmas??d.inputs?.scheduler),g=p??RS(h);g&&(i.scheduler=g)}if(i.steps===void 0){const p=_c(r,d.inputs?.sigmas??d.inputs?.scheduler),h=DS(p);h!==void 0&&(i.steps=h)}}if(m==="FluxGuidance"&&i.cfg===void 0){const p=zS(d);p!==void 0&&(i.cfg=p)}}}return i}const LS=new Set(["mp4","webm","mkv","mov","avi","m4v"]);function vf(a){const i=a.split(".").pop()?.toLowerCase()??"";return LS.has(i)?"video":"image"}function Ki(a){return vf(a)==="video"}function Ws(a,i={}){const{onlyOutput:r=!1,alt:o}=i,s=[];return a.forEach((d,m)=>{const p=d.outputs?.images??[],h=Cg(d.prompt),g=d.durationSeconds,y=d.success!==!1;p.forEach((x,C)=>{if(r&&x.type!=="output")return;const O=typeof o=="function"?o(C,m):o;s.push({src:_n(x.filename,x.subfolder,x.type),alt:O,mediaType:vf(x.filename),metadata:h,durationSeconds:g,success:y})})}),s}function HS({menuState:a,unifiedList:i,onClose:r,onLoadWorkflow:o,onCopyWorkflow:s,onDownload:d,onBatchDownload:m,onDeleteHistory:p,getBatchSources:h}){const g=a?.promptId??"",y=Z(C=>C.queueItemHideImages[g]),x=Z(C=>C.toggleQueueItemHideImages);return a?.open?aa.createPortal(c.jsxs("div",{id:"queue-image-menu",className:"fixed z-[1200] bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden w-44",style:{top:a.top,right:a.right},children:[c.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${a.workflow?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{a.workflow&&a.promptId&&o(a.workflow,a.promptId),r()},disabled:!a.workflow,children:[c.jsx(Vc,{className:"w-4 h-4 text-gray-500"}),"Load workflow"]}),c.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${a.workflow?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{s(a.workflow),r()},disabled:!a.workflow,children:[c.jsx(Ax,{className:"w-4 h-4 text-gray-500"}),"Copy workflow"]}),c.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{const C=a.promptId?h(a.promptId,i):[];C.length>1?await m(C):await d(a.imageSrc),r()},children:[c.jsx(_x,{className:"w-4 h-4 text-gray-500"}),a.promptId&&h(a.promptId,i).length>1?"Download batch":"Download"]}),a.hasVideoOutputs&&a.promptId&&c.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{x(g),r()},children:[y?c.jsx(Ql,{className:"w-4 h-4 text-gray-500"}):c.jsx(Xl,{className:"w-4 h-4 text-gray-500"}),y?"Show images":"Hide images"]}),c.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>{a.promptId&&p(a.promptId),r()},children:[c.jsx($i,{className:"w-4 h-4"}),"Delete"]})]}),document.body):null}function VS({message:a}){return a?aa.createPortal(c.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-[1300] bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg text-sm font-medium animate-in fade-in slide-in-from-top-2 duration-200",children:a}),document.body):null}function Og(a){return"outputs"in a}function IS(a,i){const r=i.find(s=>s.id===a);return!r||r.status!=="done"?[]:Og(r.data)?(r.data.outputs.images??[]).filter(s=>s.type==="output").map(s=>_n(s.filename,s.subfolder,s.type)):[]}async function yf(a,i){try{const o=await(await fetch(a)).blob(),s=URL.createObjectURL(o),d=document.createElement("a");d.href=s,d.download="image.png",document.body.appendChild(d),d.click(),d.remove(),URL.revokeObjectURL(s),i?.(a)}catch(r){console.error("Failed to download image:",r)}}async function US(a,i){for(const r of a)await yf(r,i)}async function BS(a){try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(a);else{const i=document.createElement("textarea");i.value=a,i.style.position="fixed",i.style.opacity="0",document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}return!0}catch(i){return console.error("Failed to copy to clipboard:",i),!1}}function qS({item:a,isActuallyRunning:i,progress:r,overallProgress:o,executingNodeLabel:s,onDelete:d,onStop:m,onImageClick:p,viewerImages:h,runningImages:g,onOpenMenu:y,downloaded:x,isTopDoneItem:C}){const O=Z(Y=>Y.previewVisibility),M=Z(Y=>Y.previewVisibilityDefault),w=Z(Y=>Y.showQueueMetadata),S=Z(Y=>Y.queueItemExpanded[a.id]),b=Z(Y=>Y.setQueueItemExpanded),E=Z(Y=>Y.queueItemHideImages[a.id]),T=j.useRef(new Map),_=j.useRef(new Set),[A,L]=j.useState(new Set),H=a.status==="pending"&&!i,W=a.status==="running"||i,P=a.status==="done",V=S!==void 0,oe=V?S:!1,se=j.useRef(P);j.useEffect(()=>{V||b(a.id,!1)},[V,a.id,b]),j.useEffect(()=>{!se.current&&P&&b(a.id,!0),se.current=P},[P,a.id,b]),j.useEffect(()=>{_.current.clear(),L(new Set)},[a.id]);const ge=()=>{b(a.id,!oe)},ae=P&&Og(a.data)?a.data:null,ce=j.useMemo(()=>ae?ae.outputs.images:W?g:[],[ae,W,g]),D=!!(a.data.prompt_id?O[a.data.prompt_id]??M:M),{savedImages:Q,displayImages:te}=j.useMemo(()=>{const Y=ce.filter(Ce=>Ce.type==="output"),we=ce.filter(Ce=>Ce.type!=="output"),je=D||Y.length===0&&we.length>0;return{savedImages:Y,displayImages:je?[...Y,...we]:Y}},[D,ce]),me=j.useMemo(()=>ce.some(Y=>Ki(Y.filename)),[ce]),K=j.useMemo(()=>!E||!me?te:te.filter(Y=>Ki(Y.filename)),[te,me,E]),k=Q.map(Y=>({src:_n(Y.filename,Y.subfolder,Y.type),alt:"Generation"})),q="aspect-square w-full bg-gray-100 flex flex-col items-center justify-center text-gray-400",J=ae?.durationSeconds,ie=ae?ae.success!==!1:!0,le=YS(J),fe=o===100?100:r,B=j.useMemo(()=>!w||!a.data.prompt?null:Cg(a.data.prompt),[w,a.data.prompt]),he=j.useMemo(()=>W?K.map(Y=>({src:_n(Y.filename,Y.subfolder,Y.type),alt:"Generation",mediaType:vf(Y.filename)})):h,[W,h,K]);return j.useEffect(()=>{oe&&K.forEach(Y=>{if(!Ki(Y.filename))return;const we=_n(Y.filename,Y.subfolder,Y.type);if(_.current.has(we))return;_.current.add(we);const je=T.current.get(we);if(!je)return;je.currentTime=0,L(ue=>{const be=new Set(ue);return be.delete(we),be});const Ce=je.play();Ce&&typeof Ce.catch=="function"&&Ce.catch(()=>{})})},[oe,K]),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden transition-all duration-300",children:[c.jsxs("div",{onClick:ge,className:`px-3 py-2 border-b flex justify-between items-center cursor-pointer select-none ${W?"bg-blue-50 border-blue-100":"bg-gray-50 border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[c.jsx("button",{onClick:Y=>{Y.stopPropagation(),ge()},className:"w-8 h-8 -ml-2 flex items-center justify-center text-gray-400 hover:text-gray-600 shrink-0",children:oe?c.jsx(ea,{className:"w-6 h-6"}):c.jsx(Ls,{className:"w-6 h-6"})}),W&&c.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),H&&c.jsx("span",{className:"text-xs font-bold text-gray-400",children:"PENDING"}),W&&c.jsx("span",{className:"text-xs font-bold text-blue-600",children:"GENERATING"}),P&&c.jsx("span",{className:"text-xs font-bold text-gray-500",children:new Date(a.timestamp||0).toLocaleTimeString()}),W&&!oe&&i&&o!=null&&c.jsxs("span",{className:"ml-1 text-xs font-semibold text-blue-600",children:[Math.min(100,Math.max(0,o)),"%"]})]}),c.jsx("div",{className:"flex items-center gap-2",children:W?c.jsx("button",{onClick:Y=>{Y.stopPropagation(),m()},className:"px-2 py-1 text-xs font-semibold text-white bg-red-600 rounded hover:bg-red-700",children:"Stop"}):P?c.jsx("button",{className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:text-gray-900 bg-transparent hover:bg-transparent",onClick:Y=>{Y.stopPropagation();const we=Y.currentTarget.getBoundingClientRect(),je=Math.max(8,window.innerWidth-we.right),Ce=k[0]?.src||"";y({top:we.bottom+6,right:je,imageSrc:Ce,workflow:ae?.workflow,promptId:a.data.prompt_id||a.id,hasVideoOutputs:me})},"aria-label":"Image options",children:c.jsx(tr,{className:"w-4 h-4 -rotate-90"})}):c.jsx("button",{onClick:Y=>{Y.stopPropagation(),d()},className:"text-gray-400 hover:text-red-500 px-2",title:H?"Remove from Queue":"Delete from History","aria-label":H?"Remove from Queue":"Delete from History",children:c.jsx(Mx,{className:"w-4 h-4"})})})]}),oe&&c.jsx("div",{className:"relative w-full animate-in fade-in duration-200",children:K.length>0?c.jsx("div",{className:"flex flex-col",children:(()=>{let Y=0,we=0;return K.map((je,Ce)=>{const ue=je.type!=="output",be=ue?++we:++Y,De=`${ue?"Preview":"Save"} #${be}`,qe=_n(je.filename,je.subfolder,je.type),Ke=x[qe],ot=K.length>1;return c.jsxs("div",{className:"relative",children:[le&&c.jsxs("div",{className:`absolute top-2 left-2 flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold ${ie?"bg-green-600/90 text-white":"bg-red-600/90 text-white"}`,children:[ie?c.jsx(nf,{className:"w-3.5 h-3.5"}):c.jsx(T0,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:le})]}),Ki(je.filename)?c.jsxs(c.Fragment,{children:[c.jsx("video",{src:qe,className:"w-full h-auto block",muted:!0,playsInline:!0,preload:"metadata",ref:Qe=>{Qe?T.current.set(qe,Qe):T.current.delete(qe)},onEnded:()=>{L(Qe=>new Set(Qe).add(qe))},onPlay:()=>{L(Qe=>{const vt=new Set(Qe);return vt.delete(qe),vt})},onClick:()=>{const Qe=he.findIndex(vt=>vt.src===qe);p?.(he,Qe>=0?Qe:Ce,C)}}),A.has(qe)&&c.jsx("button",{type:"button",className:"absolute inset-0 flex items-center justify-center bg-black/35 text-white",onClick:Qe=>{Qe.stopPropagation();const vt=T.current.get(qe);if(!vt)return;vt.currentTime=0;const Bt=vt.play();Bt&&typeof Bt.catch=="function"&&Bt.catch(()=>{})},"aria-label":"Replay video",children:c.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-black/60 text-2xl",children:""})})]}):c.jsx("img",{src:qe,alt:"Generation",className:"w-full h-auto block",loading:"lazy",onClick:()=>{const Qe=he.findIndex(vt=>vt.src===qe);p?.(he,Qe>=0?Qe:Ce,C)}}),Ke&&c.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 rounded-full bg-black/60 text-white flex items-center justify-center",children:c.jsx(k0,{className:"w-4 h-4"})}),ot&&c.jsx("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-black/60 text-white text-xs font-medium rounded backdrop-blur-sm shadow-sm pointer-events-none",children:De}),B&&c.jsxs("div",{className:`absolute right-2 flex flex-col-reverse items-end gap-1 pointer-events-none ${Ke?"bottom-10":"bottom-2"}`,children:[B.model&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["model: ",B.model]}),B.sampler&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["sampler: ",B.sampler]}),B.steps&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["steps: ",B.steps]}),B.cfg&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["cfg: ",B.cfg]})]})]},Ce)})})()}):P?c.jsx("div",{className:q,children:c.jsx("span",{className:"text-sm",children:"No images saved"})}):W?c.jsx("div",{className:q,style:{minHeight:"300px"},children:i&&o!=null?c.jsxs("div",{className:"w-full max-w-xs px-4",children:[c.jsxs("p",{className:"font-semibold text-base text-gray-900 mb-3",children:["Executing: ",s||"Running"]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[fe,"%"]})]}),c.jsx("div",{className:"h-2 rounded-full bg-gray-200 overflow-hidden",children:c.jsx("div",{className:"h-full bg-green-500 transition-none",style:{width:`${Math.min(100,Math.max(0,fe))}%`}})}),c.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500 mb-1",children:[c.jsx("span",{children:"Overall"}),c.jsxs("span",{children:[o,"%"]})]}),c.jsx("div",{className:"h-2 rounded-full bg-gray-200 overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-none",style:{width:`${Math.min(100,Math.max(0,o))}%`}})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin mb-4"}),c.jsx("p",{className:"font-medium text-lg text-blue-600",children:"Generating..."})]})}):c.jsxs("div",{className:q,style:{minHeight:"100px"},children:[c.jsx(tb,{className:"w-8 h-8 text-gray-300"}),c.jsx("span",{className:"text-xs mt-2 opacity-40",children:"Waiting to start..."})]})})]})}function YS(a){const i=a===void 0||Number.isNaN(a)?0:a;return i<10?`${i.toFixed(1)}s`:`${Math.round(i)}s`}function QS({listRef:a,unifiedList:i,visibleCount:r,hasLoadedOnce:o,effectiveExecutingId:s,progress:d,overallProgress:m,executingNodeLabel:p,onDeleteItem:h,onStop:g,onImageClick:y,viewerImages:x,promptOutputs:C,onOpenMenu:O,downloaded:M,firstDoneItemId:w,onScroll:S}){return c.jsxs("div",{ref:a,className:"flex-1 overflow-y-auto p-4 space-y-4 overscroll-contain scroll-container","data-queue-list":"true",onScroll:S,children:[i.length===0&&!o&&c.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-180px)] text-gray-400",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-10 h-10 mx-auto border-4 border-gray-200 border-t-gray-500 rounded-full animate-spin mb-4"}),c.jsx("p",{className:"text-lg",children:"Loading..."})]})}),i.length===0&&o&&c.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-180px)] text-gray-500",children:c.jsxs("div",{className:"text-center p-8",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx(Ex,{className:"w-10 h-10 text-gray-300"})}),c.jsx("p",{className:"text-lg font-medium",children:"Queue is empty"}),c.jsx("p",{className:"text-sm mt-2",children:"Run a workflow to see items here"})]})}),i.slice(0,r).map(b=>c.jsx(qS,{item:b,isActuallyRunning:b.id===s,progress:d,overallProgress:m,executingNodeLabel:p,onDelete:()=>h(b),onStop:g,onImageClick:y,viewerImages:x,runningImages:C[b.id]??[],onOpenMenu:O,downloaded:M,isTopDoneItem:b.id===w},b.id)),c.jsx("div",{className:"h-20"})]})}function GS(a,i,r){j.useEffect(()=>{if(!a)return;const o=()=>i(),s=d=>{const m=d.target,p=document.getElementById(r);p&&m&&p.contains(m)||i()};return document.addEventListener("scroll",o,!0),document.addEventListener("mousedown",s),()=>{document.removeEventListener("scroll",o,!0),document.removeEventListener("mousedown",s)}},[a,i,r])}function XS({open:a,onImageClick:i}){const r=pt(B=>B.running),o=pt(B=>B.pending),s=pt(B=>B.fetchQueue),d=pt(B=>B.deleteItem),m=pt(B=>B.interrupt),p=Z(B=>B.loadWorkflow),h=Z(B=>B.setQueuePanelOpen),g=Z(B=>B.workflow),y=Z(B=>B.nodeTypes),x=Z(B=>B.executingNodeId),C=Z(B=>B.workflowDurationStats),O=Z(B=>B.promptOutputs),M=$t(B=>B.history),w=$t(B=>B.fetchHistory),S=$t(B=>B.deleteItem),{isExecuting:b,progress:E,executingPromptId:T}=Z(AS(B=>({isExecuting:B.isExecuting,progress:B.progress,executingPromptId:B.executingPromptId}))),_=T||(r.length===1?r[0].prompt_id:null),A=j.useMemo(()=>{if(!g||!x)return null;const B=g.nodes.find(Y=>String(Y.id)===x);return B?y?.[B.type]?.display_name||B.type:`Node ${x}`},[g,x,y]),L=Ks({workflow:g,runKey:T||_,isRunning:b||!!_,workflowDurationStats:C}),[H,W]=j.useState(null),[P,V]=j.useState({}),[oe,se]=j.useState(null),[ge,ae]=j.useState(!1),[ce,D]=j.useState(0),Q=j.useRef(null),te=j.useRef(0),me=j.useRef(!1),K=j.useRef(!1);j.useEffect(()=>{a&&(me.current||K.current&&Q.current&&(Q.current.scrollTop=0),Promise.all([s(),w()]).then(()=>{ae(!0)})),me.current=a,K.current||(K.current=!0)},[a,s,w]),j.useEffect(()=>{!b&&a&&w()},[b,a,w]),GS(!!H?.open,()=>W(null),"queue-image-menu");const k=async B=>{if(!B)return;const he=JSON.stringify(B,null,2),Y=await BS(he);se(Y?"Copied to clipboard":"Failed to copy"),setTimeout(()=>se(null),2e3)},q=async B=>{await yf(B,he=>{V(Y=>({...Y,[he]:!0}))})},J=j.useMemo(()=>{const B={};M.forEach(Y=>{B[Y.prompt_id]={id:Y.prompt_id,status:"done",data:Y,timestamp:Y.timestamp}}),r.forEach(Y=>{B[Y.prompt_id]||(B[Y.prompt_id]={id:Y.prompt_id,status:"running",data:Y})}),o.forEach(Y=>{B[Y.prompt_id]||(B[Y.prompt_id]={id:Y.prompt_id,status:"pending",data:Y})}),T&&B[T]&&(B[T].status="running");const he=Object.values(B);return he.sort((Y,we)=>{const je={pending:0,running:1,done:2};if(je[Y.status]!==je[we.status])return je[Y.status]-je[we.status];if(Y.status==="pending"){const Ce=Y.data.number;return we.data.number-Ce}return Y.status==="done"?(we.timestamp||0)-(Y.timestamp||0):0}),he},[o,r,M,T]),ie=j.useMemo(()=>{if(J.length===0)return 0;const B=J.filter(je=>je.status==="pending").length,he=J.filter(je=>je.status==="running").length,we=J.filter(je=>je.status==="done").length>0?1:0;return Math.min(J.length,B+he+we)},[J]),le=j.useMemo(()=>{const B=J.filter(he=>he.status==="done").map(he=>he.data);return Ws(B,{onlyOutput:!0,alt:"Generation"})},[J]),fe=j.useMemo(()=>J.find(he=>he.status==="done")?.id??null,[J]);return j.useEffect(()=>{a&&(te.current=J.length,queueMicrotask(()=>{D(B=>Math.max(B,ie))}))},[a,J.length,ie]),j.useEffect(()=>{if(!a)return;const B=Q.current;B&&(ce>=J.length||B.scrollHeight<=B.clientHeight+20&&queueMicrotask(()=>{D(he=>Math.min(J.length,he+10))}))},[a,ce,J.length]),a?c.jsxs("div",{className:"flex flex-col bg-gray-100 min-h-full",children:[c.jsx(QS,{listRef:Q,unifiedList:J,visibleCount:ce,hasLoadedOnce:ge,effectiveExecutingId:_,progress:E,overallProgress:L,executingNodeLabel:A,onDeleteItem:B=>{B.status==="pending"&&d(B.id),B.status==="done"&&S(B.id)},onStop:m,onImageClick:i,viewerImages:le,promptOutputs:O,onOpenMenu:({top:B,right:he,imageSrc:Y,workflow:we,promptId:je,hasVideoOutputs:Ce})=>{W({open:!0,top:B,right:he,imageSrc:Y,workflow:we,promptId:je,hasVideoOutputs:Ce})},downloaded:P,firstDoneItemId:fe,onScroll:()=>{const B=Q.current;if(!B)return;B.scrollHeight-B.scrollTop-B.clientHeight<400&&D(Y=>Math.min(te.current,Y+10))}}),c.jsx(HS,{menuState:H,unifiedList:J,onClose:()=>W(null),onLoadWorkflow:(B,he)=>{p(B,`history-${he}.json`,{source:{type:"history",promptId:he}}),h(!1)},onCopyWorkflow:k,onDownload:B=>q(B),onBatchDownload:B=>US(B,he=>{V(Y=>({...Y,[he]:!0}))}),onDeleteHistory:B=>S(B),getBatchSources:IS}),c.jsx(VS,{message:oe})]}):null}function WS({menuState:a,onClose:i,onLoadWorkflow:r,onDownload:o,onDelete:s}){return a?.open?aa.createPortal(c.jsxs("div",{id:"history-image-menu",className:"fixed z-[1200] bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",style:{top:a.top,right:a.right},children:[c.jsx("button",{className:`block w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${a.workflow?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{a.workflow&&r(a.workflow,a.promptId),i()},disabled:!a.workflow,children:"Load workflow"}),c.jsx("button",{className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{o(a.imageSrc),i()},children:"Download"}),c.jsx("button",{className:"block w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>{a.promptId&&s(a.promptId),i()},children:"Delete"})]}),document.body):null}function $S(a){const i=new Date(a),o=new Date().getTime()-i.getTime(),s=Math.floor(o/6e4),d=Math.floor(s/60),m=Math.floor(d/24);return s<1?"Just now":s<60?`${s}m ago`:d<24?`${d}h ago`:m<7?`${m}d ago`:i.toLocaleDateString()}function FS({open:a,onClose:i,onImageClick:r}){const o=$t(b=>b.history),s=$t(b=>b.isLoading),d=$t(b=>b.fetchHistory),m=$t(b=>b.deleteItem),p=Z(b=>b.loadWorkflow),h=Z(b=>b.previewVisibility),g=Z(b=>b.previewVisibilityDefault),[y,x]=j.useState({}),[C,O]=j.useState(null),M=Ws(o,{alt:b=>`Output ${b+1}`});j.useEffect(()=>{if(!C?.open)return;const b=()=>O(null),E=T=>{const _=T.target,A=document.getElementById("history-image-menu");A&&_&&A.contains(_)||O(null)};return document.addEventListener("scroll",b,!0),document.addEventListener("mousedown",E),()=>{document.removeEventListener("scroll",b,!0),document.removeEventListener("mousedown",E)}},[C?.open]),j.useEffect(()=>{a&&d()},[a,d]);const w=async b=>{await m(b),"vibrate"in navigator&&navigator.vibrate(10)},S=async b=>{await yf(b,E=>{x(T=>({...T,[E]:!0}))})};return c.jsxs(Ng,{open:a,onClose:i,side:"right",title:"History",children:[s&&o.length===0?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"text-gray-500",children:"Loading..."})}):o.length===0?c.jsxs("div",{className:"text-center py-12 text-gray-500",children:[c.jsx("div",{className:"flex items-center justify-center mb-3",children:c.jsx(Cx,{className:"w-10 h-10 text-gray-300"})}),c.jsx("p",{className:"text-lg font-medium",children:"No history yet"}),c.jsx("p",{className:"text-sm mt-1",children:"Run a workflow to see results here"})]}):c.jsx("div",{className:"space-y-4",children:o.map(b=>c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[c.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100",children:c.jsx("span",{className:"text-xs text-gray-500",children:$S(b.timestamp)})}),b.outputs.images.length>0&&c.jsxs("div",{className:"p-2",children:[(()=>{const E=b.outputs.images.filter(P=>P.type==="output"),T=b.outputs.images.filter(P=>P.type!=="output"),_=E.length>0,A=T.length>0,W=!!(b.prompt_id?h[b.prompt_id]??g:g)||!_&&A?[...E,...T]:E;return c.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:(()=>{let P=0,V=0;return W.slice(0,4).map((oe,se)=>{const ge=oe.type!=="output",ae=ge?++V:++P,ce=`${ge?"Preview":"Save"} #${ae}`,D=ZS(b.durationSeconds),Q=b.success!==!1,te=_n(oe.filename,oe.subfolder,oe.type);return c.jsxs("div",{className:"relative",onContextMenu:me=>{me.preventDefault();const K=me.currentTarget.getBoundingClientRect(),k=Math.max(8,window.innerWidth-K.right);O({open:!0,top:K.top+8,right:k,imageSrc:te,workflow:b.workflow,promptId:b.prompt_id})},onClick:()=>{const me=M.findIndex(K=>K.src===te);r?.(M,me>=0?me:se)},children:[Ki(oe.filename)?c.jsx("video",{src:te,className:"w-full aspect-square object-cover rounded-lg bg-gray-100",muted:!0,loop:!0,playsInline:!0,preload:"metadata"}):c.jsx("img",{src:te,alt:`Output ${se+1}`,className:"w-full aspect-square object-cover rounded-lg bg-gray-100",loading:"lazy"}),c.jsx("button",{className:"absolute top-2 right-2 w-7 h-7 rounded-full bg-black/60 text-white flex items-center justify-center",onClick:me=>{me.stopPropagation();const K=me.currentTarget.getBoundingClientRect(),k=Math.max(8,window.innerWidth-K.right);O({open:!0,top:K.bottom+6,right:k,imageSrc:te,workflow:b.workflow,promptId:b.prompt_id})},"aria-label":"Image options",children:c.jsx(tr,{className:"w-4 h-4 -rotate-90"})}),c.jsxs("div",{className:`absolute top-2 left-2 flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold ${Q?"bg-green-600/90 text-white":"bg-red-600/90 text-white"}`,children:[Q?c.jsx(nf,{className:"w-3.5 h-3.5"}):c.jsx(T0,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:D})]}),y[te]&&c.jsx("div",{className:"absolute bottom-2 right-2 w-7 h-7 rounded-full bg-black/60 text-white flex items-center justify-center",children:c.jsx(k0,{className:"w-4 h-4"})}),c.jsx("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-black/60 text-white text-xs font-medium rounded backdrop-blur-sm shadow-sm pointer-events-none",children:ce})]},se)})})()})})(),b.outputs.images.length>4&&c.jsxs("div",{className:"text-center text-xs text-gray-500 mt-2",children:["+",b.outputs.images.length-4," more images"]})]}),b.outputs.images.length===0&&c.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"No images output"})]},b.prompt_id))}),c.jsx(WS,{menuState:C,onClose:()=>O(null),onLoadWorkflow:(b,E)=>{p(b,`history-${E||"workflow"}.json`),i()},onDownload:S,onDelete:w})]})}function ZS(a){const i=a===void 0||Number.isNaN(a)?0:a;return i<10?`${i.toFixed(1)}s`:`${Math.round(i)}s`}function Eg({className:a}){return c.jsx(Nx,{className:a})}function KS({open:a,images:i,index:r,onClose:o,onIndexChange:s,initialScale:d=1,initialTranslate:m={x:0,y:0},onTransformChange:p,followQueueActive:h=!1,followQueueSwitchId:g=null,overallProgress:y=null,isGenerating:x=!1}){const C=j.useRef(null),O=j.useRef(null),M=j.useRef(null),[w,S]=j.useState(1),[b,E]=j.useState({x:0,y:0}),[T,_]=j.useState(null),[A,L]=j.useState(null),[H,W]=j.useState(null),P=j.useRef(null),[V,oe]=j.useState(null),[se,ge]=j.useState(null),ae=j.useRef(null),ce=j.useRef(null),D=j.useRef(!1),Q=j.useRef(null),[te,me]=j.useState(!1),[K,k]=j.useState(!1),q=j.useRef(null),[J,ie]=j.useState(!1),le=r>=0?i[r]??i[0]??null:null,fe=le?.mediaType==="video",B=le?.metadata,he=JS(le?.durationSeconds),Y=te&&!K,we=!le&&(h||x)||r<0&&x,je=Math.min(100,Math.max(0,y??0)),Ce=()=>{k(!1),q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{k(!0)},3e3)};j.useEffect(()=>(a?(queueMicrotask(Ce),window.addEventListener("pointermove",Ce),window.addEventListener("pointerdown",Ce),window.addEventListener("pointerup",Ce)):(q.current&&clearTimeout(q.current),window.removeEventListener("pointermove",Ce),window.removeEventListener("pointerdown",Ce),window.removeEventListener("pointerup",Ce)),()=>{q.current&&clearTimeout(q.current),window.removeEventListener("pointermove",Ce),window.removeEventListener("pointerdown",Ce),window.removeEventListener("pointerup",Ce)}),[a]),j.useEffect(()=>{ie(!1)},[le?.src]),j.useEffect(()=>{if(!a){document.body.style.overflow="",D.current=!1,queueMicrotask(()=>{me(!1),k(!1)});return}return document.body.style.overflow="hidden",ie(!1),D.current||(queueMicrotask(()=>{S(d),E(m)}),D.current=!0),queueMicrotask(()=>{_(null),L(null),W(null)}),P.current=null,()=>{document.body.style.overflow="",D.current=!1}},[a,d,m]),j.useEffect(()=>{if(!a||!p)return;const pe=Q.current;pe&&pe.scale===w&&pe.x===b.x&&pe.y===b.y||(Q.current={scale:w,x:b.x,y:b.y},p({viewerScale:w,viewerTranslate:b}))},[a,w,b,p]),j.useEffect(()=>{if(!a)return;const pe=Te=>{Te.key==="Escape"&&o()};return document.addEventListener("keydown",pe),()=>document.removeEventListener("keydown",pe)},[a,o]);const ue=j.useMemo(()=>!V||!se?null:se.height/V.height,[V,se]),be=j.useMemo(()=>ue===null?1:Math.min(1,ue),[ue]),De=j.useMemo(()=>ue===null?1:Math.max(1,ue),[ue]),qe=j.useRef("fit"),Ke=(pe=w)=>{if(!V||!se)return{x:0,y:0};const Te=V.width*pe,ke=V.height*pe;return{x:Te<se.width?(se.width-Te)/2:0,y:ke<se.height?(se.height-ke)/2:0}},ot=j.useCallback((pe,Te=w)=>{if(!V||!se)return pe;const ke=se.width,xe=se.height,ze=V.width*Te,yt=V.height*Te,tt=ze<=ke?0:Math.max(ke-ze,Math.min(0,pe.x)),_t=yt<=xe?0:Math.max(xe-yt,Math.min(0,pe.y));return{x:tt,y:_t}},[V,se,w]),Qe=j.useCallback(pe=>{const Te=pe==="cover"?De:be;if(qe.current=pe,S(Te),!V||!se)E({x:0,y:0});else{const ke=V.width*Te,xe=V.height*Te,ze={x:(se.width-ke)/2,y:(se.height-xe)/2};E(ot(ze,Te))}},[V,ot,se,De,be]),vt=pe=>{if(fe){const ke=M.current;if(ke&&pe.target===ke){const xe=ke.getBoundingClientRect();if(pe.clientY>xe.bottom-60)return}L({x:pe.clientX,y:pe.clientY});return}pe.currentTarget.setPointerCapture(pe.pointerId);const Te=Rc(C.current);if(Te.set(pe.pointerId,{x:pe.clientX,y:pe.clientY}),Te.size===1)_({x:pe.clientX-b.x,y:pe.clientY-b.y}),L({x:pe.clientX,y:pe.clientY});else if(Te.size===2){const[ke,xe]=Array.from(Te.values()),ze=Math.hypot(xe.x-ke.x,xe.y-ke.y),yt=(ke.x+xe.x)/2,tt=(ke.y+xe.y)/2,_t=C.current?.getBoundingClientRect(),Qt=Ke(w),zt=_t?{x:(yt-_t.left-Qt.x-b.x)/w,y:(tt-_t.top-Qt.y-b.y)/w}:void 0;W({distance:ze,scale:w,centerX:yt,centerY:tt,imagePoint:zt})}},Bt=pe=>{if(fe)return;const Te=Rc(C.current);if(Te.has(pe.pointerId)){if(Te.set(pe.pointerId,{x:pe.clientX,y:pe.clientY}),Te.size===2&&H){const[ke,xe]=Array.from(Te.values()),ze=Math.hypot(xe.x-ke.x,xe.y-ke.y),tt=Math.max(be,Math.min(5,H.scale*(ze/H.distance)));S(tt);const _t=C.current?.getBoundingClientRect(),Qt=(ke.x+xe.x)/2,zt=(ke.y+xe.y)/2;if(_t&&H.imagePoint){const ut=Ke(tt),Gt={x:Qt-_t.left-ut.x-H.imagePoint.x*tt,y:zt-_t.top-ut.y-H.imagePoint.y*tt};E(ot(Gt,tt))}else E(ut=>ot(ut,tt));return}Te.size===1&&(w>1||V&&C.current&&V.height*w>C.current.clientHeight+1)&&T&&E(ot({x:pe.clientX-T.x,y:pe.clientY-T.y}))}},Sn=pe=>{const Te=(xe,ze)=>{Math.abs(xe)<=50||Math.abs(xe)<=Math.abs(ze)||(xe<0?r===-1&&i.length>0?s(0):r<i.length-1&&s(r+1):xe>0&&(r>0?s(r-1):r===0&&x&&s(-1)))};if(fe){if(A){const xe=pe.clientX-A.x,ze=pe.clientY-A.y;Te(xe,ze)}L(null);return}const ke=Rc(C.current);if(ke.delete(pe.pointerId),ke.size<2&&W(null),ke.size===0){const xe=Date.now(),ze=P.current,yt=ze?pe.clientX-ze.x:0,tt=ze?pe.clientY-ze.y:0;if(!!(ze&&xe-ze.time<300&&Math.hypot(yt,tt)<24)){P.current=null;const Qt=qe.current;Qe(Qt==="fit"?"cover":"fit")}else if(P.current={time:xe,x:pe.clientX,y:pe.clientY},(Math.abs(w-be)<.05||Math.abs(w-De)<.05)&&A){const zt=pe.clientX-A.x,ut=pe.clientY-A.y;Te(zt,ut)}}ke.size===0&&(_(null),L(null))},zn=pe=>{if(fe)return;const ke=Math.max(be,Math.min(5,w-pe.deltaY*.001));S(ke),E(xe=>ot(xe,ke))};return j.useEffect(()=>{if(fe||!a)return;const pe=O.current,Te=C.current;if(!pe||!Te)return;const ke=()=>{const ze=ce.current,yt=Te.clientWidth,tt=Te.clientHeight;if(ge({width:yt,height:tt}),!ze||ze.width===0)return;const _t=yt/ze.width,Qt=ze.height*_t;oe({width:yt,height:Qt}),E(zt=>ot(zt))};ke();const xe=new ResizeObserver(ke);return xe.observe(Te),()=>xe.disconnect()},[a,le?.src,ot,fe]),j.useEffect(()=>{fe||!a||!V||!se||Qe(qe.current)},[a,le?.src,V,se,be,De,Qe,fe]),j.useEffect(()=>{fe||!a||!h||!g||g===ae.current||(ae.current=g,Qe(qe.current))},[a,h,g,be,De,Qe,fe]),a?!le&&!we?c.jsxs("div",{className:"fixed inset-0 z-[1200] bg-black flex flex-col items-center justify-center text-white",role:"dialog","aria-modal":"true",children:[c.jsx("button",{className:"absolute top-4 right-4 z-[1210] w-10 h-10 rounded-full bg-black/60 text-white text-xl flex items-center justify-center",onClick:o,"aria-label":"Close image viewer",children:""}),c.jsx("p",{className:"text-gray-400 mb-2",children:"No images to display"}),c.jsxs("p",{className:"text-gray-500 text-sm",children:["images: ",i.length,", index: ",r]})]}):c.jsxs("div",{className:"fixed inset-0 z-[1200] bg-black",role:"dialog","aria-modal":"true",children:[c.jsxs("div",{ref:C,className:`absolute inset-x-0 top-0 overflow-hidden ${fe?"":"touch-none"}`,style:{overscrollBehavior:"contain",height:"calc(100vh - var(--bottom-bar-offset, 0px))"},onPointerDown:vt,onPointerMove:Bt,onPointerUp:Sn,onPointerCancel:Sn,onWheel:zn,children:[!we&&(!fe||!h)?c.jsx("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none transition-opacity duration-200 ${J?"opacity-0":"opacity-100"}`,children:c.jsx("div",{className:"w-10 h-10 border-4 border-gray-600 border-t-white rounded-full animate-spin"})}):null,we?c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-gray-600 border-t-white rounded-full animate-spin"}),c.jsx("div",{className:"mt-4 w-48 h-2 rounded-full bg-gray-700 overflow-hidden",children:c.jsx("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${je}%`}})}),c.jsx("div",{className:"mt-2 text-sm text-gray-300",children:x?`${je}%`:"Waiting for output"})]}):fe?c.jsx("video",{src:le?.src||"",className:"w-full h-full object-contain",controls:!0,playsInline:!0,preload:"metadata",autoPlay:!0,muted:!0,ref:M,loop:!0,onLoadedMetadata:()=>ie(!0),onCanPlay:()=>ie(!0)}):c.jsx("img",{ref:O,src:le?.src||"",alt:le?.alt||"Preview",className:"w-full h-auto block select-none relative",draggable:!1,onLoad:pe=>{const Te=pe.currentTarget;ce.current={width:Te.naturalWidth,height:Te.naturalHeight};const ke=C.current;if(!ke||Te.naturalWidth===0)return;const xe=ke.clientWidth,ze=ke.clientHeight,yt=xe/Te.naturalWidth;oe({width:xe,height:Te.naturalHeight*yt}),ge({width:xe,height:ze}),ie(!0)},style:{transform:`translate3d(${Ke(w).x+b.x}px, ${Ke(w).y+b.y}px, 0) scale(${w})`,transformOrigin:"top left",willChange:"transform",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transition:H||T?"none":"transform 0.05s linear"}})]}),c.jsx("button",{className:`absolute top-4 right-4 z-[1210] w-10 h-10 rounded-full text-white text-xl flex items-center justify-center transition-colors pointer-events-auto ${K?"bg-transparent":"bg-black/60"}`,onClick:o,"aria-label":"Close image viewer",children:""}),c.jsx("div",{className:`absolute inset-0 z-[1210] pointer-events-none transition-opacity duration-300 ${K?"opacity-0":"opacity-100"}`,children:le&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-4 left-4 flex items-center gap-2",children:c.jsxs("div",{className:"px-3 py-1.5 rounded-full bg-black/60 text-white text-sm font-medium",children:[r+1," / ",i.length]})}),c.jsx("button",{className:`absolute right-4 w-10 h-10 rounded-full flex items-center justify-center pointer-events-auto transition-opacity ${te?"bg-black/80 text-white":"bg-black/30 text-white/70"}`,style:{bottom:fe?"calc(var(--bottom-bar-offset, 0px) + 72px)":"calc(var(--bottom-bar-offset, 0px) + 16px)"},onClick:()=>me(!te),"aria-label":"Toggle metadata",children:c.jsx(Eg,{className:"w-6 h-6"})}),B&&te&&c.jsxs("div",{className:`absolute right-4 flex flex-col items-end gap-1 pointer-events-none transition-opacity duration-300 ${Y?"opacity-100":"opacity-0"}`,style:{bottom:fe?"calc(var(--bottom-bar-offset, 0px) + 120px)":"calc(var(--bottom-bar-offset, 0px) + 64px)"},children:[B.model&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["model: ",B.model]}),B.sampler&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["sampler: ",B.sampler]}),B.steps&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["steps: ",B.steps]}),B.cfg&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["cfg: ",B.cfg]}),he&&c.jsxs("div",{className:"px-1.5 py-0.5 bg-black/50 text-white text-[10px] rounded backdrop-blur-sm",children:["time: ",he]})]})]})})]}):null}function Rc(a){const i=a;return i?(i.__activePointers||(i.__activePointers=new Map),i.__activePointers):new Map}function JS(a){const i=a===void 0||Number.isNaN(a)?0:a;return i===0?"":i<10?`${i.toFixed(1)}s`:`${Math.round(i)}s`}function PS(){const[a,i]=j.useState(!1),r=j.useRef(null),o=j.useRef(null),s=j.useRef({}),d=j.useRef({setExecutionState:Z.getState().setExecutionState,setNodeOutput:Z.getState().setNodeOutput,clearNodeOutputs:Z.getState().clearNodeOutputs,addPromptOutputs:Z.getState().addPromptOutputs,clearPromptOutputs:Z.getState().clearPromptOutputs,applyControlAfterGenerate:Z.getState().applyControlAfterGenerate,updateFromStatus:pt.getState().updateFromStatus,fetchQueue:pt.getState().fetchQueue,addHistoryEntry:$t.getState().addHistoryEntry,fetchHistory:$t.getState().fetchHistory});j.useEffect(()=>{d.current={setExecutionState:Z.getState().setExecutionState,setNodeOutput:Z.getState().setNodeOutput,clearNodeOutputs:Z.getState().clearNodeOutputs,addPromptOutputs:Z.getState().addPromptOutputs,clearPromptOutputs:Z.getState().clearPromptOutputs,applyControlAfterGenerate:Z.getState().applyControlAfterGenerate,updateFromStatus:pt.getState().updateFromStatus,fetchQueue:pt.getState().fetchQueue,addHistoryEntry:$t.getState().addHistoryEntry,fetchHistory:$t.getState().fetchHistory}},[]);const m=j.useRef(null);return j.useEffect(()=>{const p=y=>{const{setExecutionState:x,setNodeOutput:C,addPromptOutputs:O,clearPromptOutputs:M,updateFromStatus:w,fetchQueue:S,addHistoryEntry:b,fetchHistory:E}=d.current,T=y;switch(T.type){case"status":{const A=T.data.status.exec_info.queue_remaining;w(A),A===0&&x(!1,null,null,0);break}case"progress":{const _=T,{value:A,max:L,node:H,prompt_id:W}=_.data,P=Math.round(A/L*100);x(!0,H||null,W||null,P);break}case"executing":{const _=T,A=_.data.node,L=_.data.prompt_id;if(A===null){if(x(!1,null,null,0),d.current.applyControlAfterGenerate(),L){const H=pt.getState().running.find(P=>P.prompt_id===L),W=s.current[L]||[];H&&b({prompt_id:L,timestamp:Date.now(),outputs:{images:W},prompt:H.prompt}),delete s.current[L],M(L)}S(),E()}else{L&&L!==m.current&&(m.current=L),x(!0,A,L||null,0);const H=pt.getState();L&&!H.running.some(W=>W.prompt_id===L)&&S()}break}case"executed":{const _=T,{node:A,prompt_id:L,output:H}=_.data;H.images&&(s.current[L]||(s.current[L]=[]),s.current[L].push(...H.images),O(L,H.images),C(A,H.images));break}case"execution_error":{x(!1,null,null,0),M(),S(),E();break}}},h=()=>{r.current?.readyState!==WebSocket.OPEN&&(r.current=vx(N0,p,async()=>{i(!0);const{fetchQueue:y,fetchHistory:x,setExecutionState:C}=d.current;await y(),x();const O=pt.getState(),M=Z.getState();if(O.running.length>0&&!M.executingPromptId){const w=O.running[0];C(!0,null,w.prompt_id,0)}},()=>{i(!1),o.current=setTimeout(h,2e3)},()=>{i(!1)}))};h();const g=setInterval(()=>{const{fetchQueue:y,fetchHistory:x}=d.current;pt.getState().running.length>0&&(y(),x())},2e3);return()=>{o.current&&clearTimeout(o.current),r.current&&r.current.close(),clearInterval(g)}},[]),{isConnected:a}}function y0({open:a,onDismiss:i,triggerRef:r,contentRef:o,closeOnScroll:s=!0}){j.useEffect(()=>{if(!a)return;const d=p=>{const h=p.target;r.current&&h&&r.current.contains(h)||o.current&&h&&o.current.contains(h)||i()},m=()=>{s&&i()};return document.addEventListener("mousedown",d),s&&document.addEventListener("scroll",m,!0),()=>{document.removeEventListener("mousedown",d),s&&document.removeEventListener("scroll",m,!0)}},[a,i,r,o,s])}function eN({queueOpen:a,setQueuePanelOpen:i,isInputFocused:r,viewerOpen:o,menuOpen:s,historyOpen:d}){const[m,p]=j.useState(0),[h,g]=j.useState(!1),[y,x]=j.useState(!0),C=j.useRef(null),O=j.useCallback(()=>{C.current=null,g(!1),p(0)},[]);return j.useEffect(()=>{if(!y||r||o||s||d)return;const M=E=>{if(!(E instanceof HTMLElement))return!1;if(E.isContentEditable)return!0;const T=E.tagName.toLowerCase();return T==="input"||T==="textarea"||T==="select"},w=E=>{if(M(E.target)||M(document.activeElement))return;const T=E.touches[0];C.current={startX:T.clientX,startY:T.clientY,currentX:T.clientX,isHorizontal:null,isTracking:!0}},S=E=>{const T=C.current;if(!T?.isTracking)return;const _=E.touches[0],A=_.clientX-T.startX,L=_.clientY-T.startY;if(T.isHorizontal===null){(Math.abs(A)>20||Math.abs(L)>20)&&(Math.abs(A)>Math.abs(L)&&(a?A>0:A<0)?(T.isHorizontal=!0,g(!0)):T.isTracking=!1);return}if(T.isHorizontal){E.preventDefault(),T.currentX=_.clientX;const H=_.clientX-T.startX,W=window.innerWidth;p(a?Math.max(0,Math.min(W,H)):Math.min(0,Math.max(-W,H)))}},b=()=>{const E=C.current;if(!E?.isTracking||E.isHorizontal!==!0){O();return}const T=E.currentX-E.startX,_=window.innerWidth*.25;a&&T>_?i(!1):!a&&T<-_&&i(!0),O()};return document.addEventListener("touchstart",w,{passive:!0}),document.addEventListener("touchmove",S,{passive:!1}),document.addEventListener("touchend",b,{passive:!0}),document.addEventListener("touchcancel",b,{passive:!0}),()=>{document.removeEventListener("touchstart",w),document.removeEventListener("touchmove",S),document.removeEventListener("touchend",b),document.removeEventListener("touchcancel",b),O()}},[y,r,o,s,d,a,i,O]),{swipeOffset:m,isSwiping:h,setSwipeEnabled:x,resetSwipeState:O}}let Dc=null,Rs=[];function x0(a){return encodeURIComponent(a)}async function tN(){if(Rs.length===0)return;const a=[...Rs];Rs=[];const i=a.map(r=>{const o=new Date(r.timestamp).toISOString(),s=r.data!==void 0?` | ${JSON.stringify(r.data)}`:"";return`${o} ${r.message}${s}`}).join(`
`)+`
`;try{let r="";try{const s=await fetch(`${At}/api/userdata/${x0("mobile-debug.log")}`);s.ok&&(r=await s.text())}catch{}const o=r+i;await fetch(`${At}/api/userdata/${x0("mobile-debug.log")}?overwrite=true`,{method:"POST",headers:{"Content-Type":"text/plain"},body:o})}catch(r){console.error("[debugLog] Failed to write to server:",r)}}function nN(){Dc||(Dc=setTimeout(()=>{Dc=null,tN()},500))}function Zc(a,i){const r={timestamp:Date.now(),message:a,data:i};Rs.push(r),i!==void 0?console.log(`[DEBUG] ${a}`,i):console.log(`[DEBUG] ${a}`),nN()}function aN(a,i,r){const o=a.closest("[data-textarea-root]")?.querySelector("[data-textarea-header]"),s=getComputedStyle(document.documentElement),d=parseFloat(s.getPropertyValue("--top-bar-offset"))||0,m=window.visualViewport?.offsetTop??0,p=window.visualViewport?.height??window.innerHeight,h=d+8,g=Mg(a),y=o?.getBoundingClientRect(),x=g===window?{type:"window",scrollY:window.scrollY}:(()=>{const L=g;return{type:"element",tag:L.tagName.toLowerCase(),scrollTop:L.scrollTop,height:L.clientHeight}})();Zc("textarea-scroll: start",{reason:r,behavior:i,headerTop:y?.top??null,layoutTopEdge:h,viewportTopEdge:m+d+8,viewportTop:m,viewportHeight:p,topBarOffset:d,container:x,selectionStart:a.selectionStart});const C=iN(a),O=m+d+p*.25,M=m+p-24,w=y?y.top-h:null,S=C-O,b=C>M?C-M:0;let E=0;const T=w!==null&&w>2,_=T?C-w:C,A=_<=M;T&&A?E=w??0:!T&&C<=M?E=0:(E=S,b>E&&(E=b)),E<0&&(E=0),y&&w!==null&&y.top>h+2&&E>w&&(E=w),Zc("textarea-scroll: align",{caretTop:C,targetTop:O,visibilityBottom:M,deltaHeader:w,deltaCaret:S,deltaCaretMin:b,caretAfterHeader:_,caretVisibleAfterHeader:A,canAlignHeader:T,delta:E}),Math.abs(E)>8&&Tg(g,E,i)}function lN(a){const i=a.closest("[data-textarea-root]")?.querySelector("[data-textarea-header]");if(!i)return;const r=getComputedStyle(document.documentElement),s=(parseFloat(r.getPropertyValue("--top-bar-offset"))||0)+8,d=i.getBoundingClientRect(),m=d.top-s;if(Math.abs(m)<2)return;const p=Mg(a);Zc("textarea-scroll: align-header-request",{headerTop:d.top,layoutTopEdge:s,delta:m}),Tg(p,m,"auto")}function iN(a){const i=a.getBoundingClientRect(),r=rN(a);return i.top+r-a.scrollTop}function rN(a){const i=a.selectionStart??0,r=a.value,o=document.createElement("div"),s=getComputedStyle(a),d=o.style;d.position="absolute",d.top="0",d.left="-9999px",d.visibility="hidden",d.whiteSpace="pre-wrap",d.wordWrap="break-word",d.overflowWrap="break-word",d.boxSizing=s.boxSizing,d.width=`${a.clientWidth}px`,d.padding=s.padding,d.border=s.border,d.fontFamily=s.fontFamily,d.fontSize=s.fontSize,d.fontWeight=s.fontWeight,d.fontStyle=s.fontStyle,d.letterSpacing=s.letterSpacing,d.lineHeight=s.lineHeight,d.textTransform=s.textTransform,d.textIndent=s.textIndent,d.tabSize=s.tabSize;const m=document.createTextNode(r.slice(0,i)),p=document.createElement("span");p.textContent=r.slice(i,i+1)||" ",p.style.display="inline-block",p.style.width="1px",o.appendChild(m),o.appendChild(p),document.body.appendChild(o);const h=o.getBoundingClientRect(),y=p.getBoundingClientRect().top-h.top;return document.body.removeChild(o),y}function zc(a){a?document.body.dataset.textareaFocus="true":delete document.body.dataset.textareaFocus}function Mg(a){let i=a?.parentElement??null;for(;i;){const o=getComputedStyle(i).overflowY;if((o==="auto"||o==="scroll")&&i.scrollHeight>i.clientHeight)return i;i=i.parentElement}return window}function Tg(a,i,r="smooth"){if(Math.abs(i)<1)return;if(a===window){window.scrollBy({top:i,behavior:r});return}const o=a;o.scrollTo({top:o.scrollTop+i,behavior:r})}function sN(){const[a,i]=j.useState(!1),r=j.useRef(null),o=j.useRef(null),s=j.useRef(null);return j.useEffect(()=>{const d=p=>{const h=p.target;if(!(h instanceof HTMLElement))return;const g=h.tagName.toLowerCase();if((h.isContentEditable||g==="input"||g==="textarea"||g==="select")&&i(!0),h instanceof HTMLTextAreaElement){zc(!0);const y=()=>aN(h,"smooth","focus");r.current&&clearTimeout(r.current),o.current&&window.visualViewport&&(window.visualViewport.removeEventListener("resize",o.current),o.current=null),s.current&&(document.removeEventListener("selectionchange",s.current),s.current=null);const x=()=>{document.activeElement===h&&(y(),s.current&&(document.removeEventListener("selectionchange",s.current),s.current=null))};if(s.current=x,document.addEventListener("selectionchange",x),setTimeout(()=>{s.current&&(document.removeEventListener("selectionchange",s.current),s.current=null)},1200),window.visualViewport){let C=!1;const O=()=>{C=!0,y(),o.current&&(window.visualViewport?.removeEventListener("resize",o.current),o.current=null)};o.current=O,window.visualViewport.addEventListener("resize",O),r.current=setTimeout(()=>{C||y(),setTimeout(y,300),o.current&&(window.visualViewport?.removeEventListener("resize",o.current),o.current=null)},600)}else requestAnimationFrame(y)}},m=()=>{const p=document.activeElement;if(!(p instanceof HTMLElement)){i(!1),zc(!1),s.current&&(document.removeEventListener("selectionchange",s.current),s.current=null);return}const h=p.tagName.toLowerCase(),g=p.isContentEditable||h==="input"||h==="textarea"||h==="select";i(g),zc(p instanceof HTMLTextAreaElement)};return document.addEventListener("focusin",d),document.addEventListener("focusout",m),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",m),r.current&&clearTimeout(r.current),o.current&&window.visualViewport&&(window.visualViewport.removeEventListener("resize",o.current),o.current=null),s.current&&(document.removeEventListener("selectionchange",s.current),s.current=null)}},[]),j.useEffect(()=>{const d=m=>{const h=m.detail?.textarea;h&&lN(h)};return document.addEventListener("textarea-align-header",d),()=>{document.removeEventListener("textarea-align-header",d)}},[]),{isInputFocused:a}}function oN(){const[a,i]=j.useState(!1),r=Z(U=>U.queuePanelOpen),o=Z(U=>U.setQueuePanelOpen),[s,d]=j.useState(!1),m=Z(U=>U.viewerOpen),p=Z(U=>U.viewerImages),h=Z(U=>U.viewerIndex),g=Z(U=>U.viewerScale),y=Z(U=>U.viewerTranslate),x=Z(U=>U.setViewerState),[C,O]=j.useState(!1),[M,w]=j.useState(null),[S,b]=j.useState(!1),[E,T]=j.useState(!1),[_,A]=j.useState(!1),L=j.useRef(null),H=j.useRef(null),W=j.useRef(null),P=j.useRef(null),V=j.useRef(null),{isInputFocused:oe}=sN();PS();const{swipeOffset:se,isSwiping:ge,setSwipeEnabled:ae,resetSwipeState:ce}=eN({queueOpen:r,setQueuePanelOpen:o,isInputFocused:oe,viewerOpen:m,menuOpen:a,historyOpen:s}),D=Z(U=>U.setNodeTypes),Q=Z(U=>U.nodeTypes),te=Z(U=>U.workflow),me=Z(U=>U.workflowDurationStats),K=Z(U=>U.isExecuting),k=Z(U=>U.executingPromptId),q=Z(U=>U.theme),J=Z(U=>U.workflowLoadedAt),ie=Z(U=>U.previewVisibility),le=Z(U=>U.setPreviewVisibility),fe=Z(U=>U.previewVisibilityDefault),B=Z(U=>U.setPreviewVisibilityDefault),he=Z(U=>U.hideStaticNodes),Y=Z(U=>U.toggleHideStaticNodes),we=Z(U=>U.hideBypassedNodes),je=Z(U=>U.toggleHideBypassedNodes),Ce=Z(U=>U.manuallyHiddenNodes),ue=Z(U=>U.showAllHiddenNodes),be=Z(U=>U.showQueueMetadata),De=Z(U=>U.toggleShowQueueMetadata),qe=Z(U=>U.clearWorkflowCache),Ke=Z(U=>U.workflowSource),ot=Z(U=>U.unloadWorkflow),Qe=Z(U=>U.loadWorkflow),vt=Z(U=>U.setQueueItemExpanded),Bt=Z(U=>U.queueItemExpanded),Sn=Z(U=>U.setNodeFold),zn=pt(U=>U.fetchQueue),pe=pt(U=>U.running),Te=pt(U=>U.pending),ke=pt(U=>U.clearQueue),xe=$t(U=>U.history),ze=$t(U=>U.clearHistory),yt=$t(U=>U.clearEmptyItems),tt=j.useRef(null),_t=j.useMemo(()=>!m||!C?null:xe[0]?.prompt_id??null,[m,C,xe]),Qt=k||(pe.length===1?pe[0].prompt_id:null),zt=Ks({workflow:te,runKey:Qt,isRunning:K||pe.length>0,workflowDurationStats:me}),ut=K||pe.length>0,Gt=r&&S;y0({open:Gt,onDismiss:()=>b(!1),triggerRef:L,contentRef:H,closeOnScroll:!1}),y0({open:E,onDismiss:()=>T(!1),triggerRef:W,contentRef:P,closeOnScroll:!1}),j.useEffect(()=>{ix().then(U=>{D(U)}).catch(U=>{console.error("Failed to load node types:",U)})},[D]),j.useEffect(()=>{zn()},[zn]);const Mt=(U,Ge,Tt=!0)=>{ae(!1),ce(),x({viewerImages:U,viewerIndex:Ge,viewerScale:1,viewerTranslate:{x:0,y:0},viewerOpen:!0}),w(r?"queue":"workflow"),Tt&&(xe.length>0&&(tt.current=xe[0].prompt_id),O(!0))},Zl=()=>{const U=Ws(xe,{onlyOutput:!0,alt:"Generation"});ae(!1),ce();const Ge=U.length>0?0:-1;x({viewerImages:U,viewerIndex:Ge,viewerScale:1,viewerTranslate:{x:0,y:0},viewerOpen:!0}),w(r?"queue":"workflow"),O(!0),tt.current=xe[0]?.prompt_id??null},tl=Te.length>0,de=xe.length>0,Ve=xe.some(U=>U.outputs.images.length===0),dt=Te.length+pe.length+xe.length>0,xt=j.useMemo(()=>te?.nodes.map(U=>U.id)??[],[te]),ft=j.useMemo(()=>te?.nodes.filter(U=>U.mode===4).length??0,[te]),Xt=j.useMemo(()=>te?te.nodes.filter(U=>{const Ge=Aa(Q,U).filter(Ye=>!Ye.connected),Tt=_a(Q,U).filter(Ye=>!Ye.connected);return Ge.length===0&&Tt.length===0}).length:0,[te,Q]),fn=j.useMemo(()=>Object.values(Ce).filter(Boolean).length,[Ce]),nl=j.useMemo(()=>te?te.nodes.filter(U=>{if(Ce[U.id]||we&&U.mode===4)return!1;if(he){const Ge=Aa(Q,U).filter(Ye=>!Ye.connected),Tt=_a(Q,U).filter(Ye=>!Ye.connected);if(Ge.length===0&&Tt.length===0)return!1}return!0}):[],[te,Ce,we,he,Q]),sr=j.useMemo(()=>nl.some(U=>U.flags?.collapsed),[nl]),Kl=j.useMemo(()=>nl.some(U=>!U.flags?.collapsed),[nl]),Ra=j.useMemo(()=>{if(fn>0&&te?.nodes.some(Ye=>{if(!Ce[Ye.id])return!1;const St=Ye.mode===4,ra=Aa(Q,Ye).filter(ei=>!ei.connected),Pl=_a(Q,Ye).filter(ei=>!ei.connected),lo=ra.length===0&&Pl.length===0;return!St&&!lo}))return!0;const U=he&&Xt>0,Ge=we&&ft>0;return!!(U&&Ge)},[fn,he,we,Xt,ft,te,Ce,Q]),ia=j.useMemo(()=>{const U=new Set;return Te.forEach(Ge=>U.add(Ge.prompt_id)),pe.forEach(Ge=>U.add(Ge.prompt_id)),xe.forEach(Ge=>{Ge.prompt_id&&U.add(String(Ge.prompt_id))}),Array.from(U)},[Te,pe,xe]),or=j.useMemo(()=>ia.some(U=>Bt[U]===!1),[ia,Bt]),ur=j.useMemo(()=>ia.some(U=>Bt[U]!==!1),[ia,Bt]),Da=j.useMemo(()=>{const U=new Set;return xe.forEach(Ge=>{(Ge.outputs?.images??[]).some(St=>St.type!=="output")&&Ge.prompt_id&&U.add(String(Ge.prompt_id))}),Array.from(U)},[xe]),Jl=dt||Da.length>0||fe,za=Da.length>0?Da.every(U=>ie[U]??fe):fe;return j.useEffect(()=>{const U=document.documentElement;U.classList.toggle("dark",q==="dark"),U.style.colorScheme=q},[q]),j.useEffect(()=>{if(!m||!C||xe.length===0)return;const U=xe[0];if(tt.current===U.prompt_id||U.outputs.images.filter(St=>St.type==="output").length===0)return;const Tt=Ws(xe,{onlyOutput:!0,alt:"Generation"});if(Tt.length===0)return;const Ye=0;tt.current=U.prompt_id,x({viewerImages:Tt,viewerIndex:Ye,viewerScale:1,viewerTranslate:{x:0,y:0}})},[m,C,xe,x]),j.useEffect(()=>{(!m||!C)&&(tt.current=null)},[m,C]),j.useEffect(()=>{J&&queueMicrotask(()=>{d(!1),O(!1),b(!1),T(!1)})},[J]),c.jsxs("div",{className:"min-h-screen bg-gray-100",children:[c.jsx(ab,{onMenuClick:()=>i(!0),mode:r?"queue":"workflow",rightSlot:r?c.jsxs("div",{className:"relative",children:[c.jsx("button",{ref:L,onClick:()=>b(U=>!U),className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-700 hover:bg-gray-100","aria-label":"Queue options",children:c.jsx(tr,{className:"w-5 h-5 -rotate-90"})}),Gt&&c.jsxs("div",{ref:H,className:"absolute right-0 top-11 z-50 w-48 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[tl&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{await ke(),b(!1)},children:[c.jsx(Tx,{className:"w-4 h-4 text-gray-500"}),"Cancel all pending"]}),ur&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{ia.forEach(U=>vt(U,!1)),b(!1)},children:[c.jsx(Ls,{className:"w-6 h-6 -ml-1 text-gray-500"}),"Fold all"]}),or&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{ia.forEach(U=>vt(U,!0)),b(!1)},children:[c.jsx(ea,{className:"w-6 h-6 -ml-1 text-gray-500"}),"Unfold all"]}),de&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{De(),b(!1)},children:[c.jsx(Eg,{className:"w-4 h-4 text-gray-500"}),be?"Hide metadata":"Show metadata"]}),Jl&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{const U=!za;B(U),Da.forEach(Ge=>le(Ge,U)),b(!1)},children:[za?c.jsx(Xl,{className:"w-4 h-4 text-gray-500"}):c.jsx(Ql,{className:"w-4 h-4 text-gray-500"}),za?"Hide previews":"Show previews"]}),Ve&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50 text-gray-600",onClick:async()=>{await yt(),b(!1)},children:[c.jsx($i,{className:"w-4 h-4"}),"Clear empty items"]}),de&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50 text-red-600",onClick:()=>{b(!1),A(!0)},children:[c.jsx($i,{className:"w-4 h-4"}),"Clear history"]}),!tl&&!de&&!dt&&c.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"No actions"})]})]}):c.jsxs("div",{className:"relative",children:[c.jsx("button",{ref:W,onClick:()=>T(U=>!U),className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-700 hover:bg-gray-100","aria-label":"Workflow options",children:c.jsx(tr,{className:"w-5 h-5 -rotate-90"})}),E&&c.jsxs("div",{ref:P,className:"absolute right-0 top-11 z-50 w-52 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[Kl&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{xt.forEach(U=>Sn(U,!0)),T(!1)},children:[c.jsx(Ls,{className:"w-6 h-6 -ml-1 text-gray-500"}),"Fold all"]}),sr&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{xt.forEach(U=>Sn(U,!1)),T(!1)},children:[c.jsx(ea,{className:"w-6 h-6 -ml-1 text-gray-500"}),"Unfold all"]}),Xt>0&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{Y(),T(!1)},children:[he?c.jsx(Ql,{className:"w-4 h-4 text-gray-500"}):c.jsx(Xl,{className:"w-4 h-4 text-gray-500"}),he?"Show static nodes":"Hide static nodes"," (",Xt,")"]}),ft>0&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{je(),T(!1)},children:[we?c.jsx(Ql,{className:"w-4 h-4 text-gray-500"}):c.jsx(Xl,{className:"w-4 h-4 text-gray-500"}),we?"Show bypassed nodes":"Hide bypassed nodes"," (",ft,")"]}),Ra&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{ue(),T(!1)},children:[c.jsx(Ql,{className:"w-4 h-4 text-gray-500"}),"Show all hidden nodes"]}),Ke&&(Ke.type==="user"?c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{try{const U=await C0(Ke.filename);Qe(U,Ke.filename,{fresh:!0,source:Ke})}catch(U){console.error("Failed to reload workflow:",U)}T(!1)},children:[c.jsx(wc,{className:"w-4 h-4 text-gray-500"}),"Reload workflow"]}):Ke.type==="template"?c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{try{const U=await O0(Ke.moduleName,Ke.templateName);Qe(U,`${Ke.moduleName}/${Ke.templateName}`,{fresh:!0,source:Ke})}catch(U){console.error("Failed to reload template:",U)}T(!1)},children:[c.jsx(wc,{className:"w-4 h-4 text-gray-500"}),"Reload workflow"]}):Ke.type==="history"&&xe.find(U=>U.prompt_id===Ke.promptId)?.workflow?c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{const U=xe.find(Ge=>Ge.prompt_id===Ke.promptId);U?.workflow&&Qe(U.workflow,`history-${Ke.promptId}.json`,{source:Ke}),T(!1)},children:[c.jsx(wc,{className:"w-4 h-4 text-gray-500"}),"Reload workflow"]}):null),te&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{qe(),T(!1)},children:[c.jsx($i,{className:"w-4 h-4 text-gray-500"}),"Clear workflow cache"]}),te&&c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50 text-red-600",onClick:()=>{ot(),T(!1)},children:[c.jsx(kx,{className:"w-4 h-4"}),"Unload workflow"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 text-left px-3 py-2 text-sm hover:bg-gray-50 text-red-600",onClick:async()=>{if(localStorage.clear(),sessionStorage.clear(),"caches"in window){const U=await caches.keys();await Promise.all(U.map(Ge=>caches.delete(Ge)))}document.cookie.split(";").forEach(U=>{const[Ge]=U.split("=");document.cookie=`${Ge.trim()}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),window.location.reload()},children:[c.jsx($i,{className:"w-4 h-4"}),"Clear all cache"]})]})]})}),c.jsxs("main",{ref:V,className:"pt-[60px] pb-[80px] min-h-screen relative",children:[c.jsx("div",{className:`absolute inset-x-0 top-[60px] bottom-0 ${r&&!ge?"opacity-0 pointer-events-none":"opacity-100"}`,style:{transform:ge?`translateX(${se}px)`:void 0,transition:ge?"none":"opacity 0.3s ease-out"},children:c.jsx(CS,{onImageClick:Mt,active:!r})}),c.jsx("div",{className:`absolute inset-x-0 top-[60px] bottom-0 ${r||ge?"opacity-100":"opacity-0 pointer-events-none"}`,style:{transform:ge?`translateX(${r?se:window.innerWidth+se}px)`:void 0,transition:ge?"none":"opacity 0.3s ease-out"},children:c.jsx(XS,{open:r||ge,onImageClick:Mt})}),c.jsx("div",{className:"fixed inset-x-0 bottom-0 bg-gray-100 pointer-events-none z-[1500]",style:{height:"var(--bottom-bar-offset, 80px)"}})]}),c.jsx(OS,{queueOpen:r,viewerOpen:m,followQueue:C,onToggleFollowQueue:()=>O(U=>!U),onOpenFollowQueue:Zl}),c.jsx(MS,{open:a,onClose:()=>i(!1)}),c.jsx(FS,{open:s,onClose:()=>d(!1),onImageClick:Mt}),_&&c.jsx("div",{className:"fixed inset-0 z-[1500] bg-black/50 flex items-center justify-center p-4",onClick:()=>A(!1),role:"dialog","aria-modal":"true",children:c.jsxs("div",{className:"w-full max-w-sm bg-white border border-gray-200 rounded-xl shadow-lg p-4",onClick:U=>U.stopPropagation(),children:[c.jsx("div",{className:"text-gray-900 text-base font-semibold",children:"Clear history?"}),c.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"This will permanently remove all completed generations from history. Generated files will still be present in your server's output folder."}),c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-100",onClick:()=>A(!1),children:"Cancel"}),c.jsx("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700",onClick:async()=>{await ze(),A(!1)},children:"Clear history"})]})]})}),c.jsx(KS,{open:m,images:p,index:h,onClose:()=>{x({viewerOpen:!1}),O(!1),o(M==="queue"),w(null),ae(!0),ce()},onIndexChange:U=>x({viewerIndex:U}),initialScale:g,initialTranslate:y,onTransformChange:U=>x(U),followQueueActive:C,followQueueSwitchId:_t,overallProgress:zt,isGenerating:ut})]})}Fy.createRoot(document.getElementById("root")).render(c.jsx(j.StrictMode,{children:c.jsx(oN,{})}));
//# sourceMappingURL=index-DIMCxVVc.js.map
